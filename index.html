<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PyLingo â€” Python Learning Platform</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Nunito:wght@400;600;700&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#0f172a;color:#e2e8f0;line-height:1.6}

/* â•â•â• CAT THEME: Light mode overrides â•â•â• */
[data-theme="cat"]{color:#4c1d95!important}

/* Dark backgrounds â†’ light */
[data-theme="cat"] div[style*="background"][style*="#0f172a"],
[data-theme="cat"] div[style*="background"][style*="#020617"],
[data-theme="cat"] div[style*="background"][style*="#111827"],
[data-theme="cat"] div[style*="background"][style*="rgba(15,23,42"],
[data-theme="cat"] div[style*="background"][style*="rgba(15, 23, 42"]{
  background:#fffbeb!important;border-color:#d8b4fe50!important}

[data-theme="cat"] div[style*="background"][style*="#1e293b"]{
  background:#fef3c7!important;border-color:#d8b4fe50!important}

[data-theme="cat"] div[style*="background"][style*="#334155"]{
  background:#fde68a40!important}

/* Exercise card background */
[data-theme="cat"] div[style*="background"][style*="rgba(30,41,59"]{
  background:#fef9c3!important}

/* Code blocks â†’ white bg, dark text */
[data-theme="cat"] pre[style*="#020617"],
[data-theme="cat"] pre[style*="#0f172a"],
[data-theme="cat"] div[style*="monospace"][style*="#020617"],
[data-theme="cat"] div[style*="monospace"][style*="#0f172a"]{
  background:#f8fafc!important;color:#1e293b!important;border-color:#d8b4fe50!important}

[data-theme="cat"] pre{background:#f8fafc!important;color:#1e293b!important}

/* Inline code */
[data-theme="cat"] code[style*="#1e293b"],
[data-theme="cat"] code[style*="#020617"]{
  background:#f3e8ff!important;color:#6d28d9!important}

/* Code editor textarea */
[data-theme="cat"] textarea[style*="#020617"]{
  background:#fefce8!important;color:#4c1d95!important}

/* Light text â†’ dark purple */
[data-theme="cat"] span[style*="color: rgb(226, 232, 240)"],
[data-theme="cat"] span[style*="color:#e2e8f0"],
[data-theme="cat"] p[style*="color:#e2e8f0"],
[data-theme="cat"] div[style*="color:#e2e8f0"],
[data-theme="cat"] p[style*="color: rgb(226"]{
  color:#4c1d95!important}

[data-theme="cat"] span[style*="color:#cbd5e1"],
[data-theme="cat"] p[style*="color:#cbd5e1"],
[data-theme="cat"] span[style*="color: rgb(203"]{
  color:#6d28d9!important}

[data-theme="cat"] span[style*="color:#94a3b8"],
[data-theme="cat"] p[style*="color:#94a3b8"],
[data-theme="cat"] span[style*="color: rgb(148"]{
  color:#7c3aed!important}

[data-theme="cat"] span[style*="color:#64748b"],
[data-theme="cat"] p[style*="color:#64748b"]{
  color:#7c3aed!important}

[data-theme="cat"] span[style*="color:#475569"]{
  color:#6d28d9!important}

/* Green code text â†’ dark green */
[data-theme="cat"] div[style*="color:#34d399"],
[data-theme="cat"] span[style*="color:#34d399"]{
  color:#16a34a!important}
[data-theme="cat"] div[style*="color:#6ee7b7"]{
  color:#16a34a!important}

/* Accent text â†’ keep purple */
[data-theme="cat"] span[style*="color:#a5b4fc"]{
  color:#7c3aed!important}
[data-theme="cat"] span[style*="color:#818cf8"]{
  color:#6d28d9!important}

/* Blue accent text */
[data-theme="cat"] span[style*="color:#93c5fd"],
[data-theme="cat"] p[style*="color:#93c5fd"]{
  color:#6d28d9!important}
[data-theme="cat"] span[style*="color:#60a5fa"]{
  color:#6d28d9!important}

/* Error/Warning text - keep visible */
[data-theme="cat"] span[style*="color:#fde68a"]{
  color:#92400e!important}
[data-theme="cat"] span[style*="color:#fca5a5"]{
  color:#dc2626!important}

/* Progress bars */
[data-theme="cat"] div[style*="background:#1e293b"][style*="height: 6px"],
[data-theme="cat"] div[style*="background:#1e293b"][style*="height:6"],
[data-theme="cat"] div[style*="background:#1e293b"][style*="height: 3px"],
[data-theme="cat"] div[style*="background:#1e293b"][style*="height:3"]{
  background:#e9d5ff!important}

/* Terminal demo â†’ white bg */
[data-theme="cat"] div[style*="background: rgb(13, 17, 23)"],
[data-theme="cat"] div[style*="background:#0d1117"]{
  background:#f8fafc!important}
[data-theme="cat"] div[style*="background:#0d1117"] span,
[data-theme="cat"] div[style*="background: rgb(13, 17, 23)"] span{
  color:#1e293b!important}
[data-theme="cat"] div[style*="background:#0d1117"] div[style*="color:#e2e8f0"]{
  color:#1e293b!important}

/* Border overrides */
[data-theme="cat"] div[style*="border"][style*="#334155"],
[data-theme="cat"] div[style*="border-color"][style*="#334155"]{
  border-color:#d8b4fe50!important}
[data-theme="cat"] div[style*="border"][style*="#1e293b"]{
  border-color:#d8b4fe50!important}

/* Solution/hint boxes - keep themed */
[data-theme="cat"] div[style*="background"][style*="rgba(88,28,135"]{
  background:rgba(139,92,246,0.08)!important}
[data-theme="cat"] div[style*="background"][style*="rgba(113,63,18"]{
  background:rgba(234,179,8,0.1)!important}
[data-theme="cat"] div[style*="background"][style*="rgba(30,58,138"]{
  background:rgba(99,102,241,0.06)!important}

/* Buttons inside diagrams */
[data-theme="cat"] button[style*="background:#1e293b"]{
  background:#f3e8ff!important;color:#6d28d9!important}
[data-theme="cat"] button[style*="background:#334155"]{
  background:#e9d5ff!important;color:#6d28d9!important}
[data-theme="cat"] button[style*="background:#4c1d95"]{
  background:#e9d5ff!important;color:#6d28d9!important}

/* Input fields */
[data-theme="cat"] input[style*="background:#0f172a"],
[data-theme="cat"] input[style*="background:#1e293b"]{
  background:#fff!important;color:#4c1d95!important;border-color:#d8b4fe!important}

/* Table headers */
[data-theme="cat"] th[style*="background:#0f172a"]{
  background:#fef3c7!important;color:#6d28d9!important}
[data-theme="cat"] div[style*="background:#1e293b"][style*="font-weight"]{
  background:#fde68a!important;color:#4c1d95!important}

/* Diagram container text */
[data-theme="cat"] div[style*="fontFamily:monospace"],
[data-theme="cat"] div[style*="font-family: monospace"]{
  color:#6b5b4e!important}

/* Lesson text rendering */
[data-theme="simple"] .lesson-content{color:#2d3142!important}
[data-theme="simple"] .lesson-content strong{color:#1a1d2e!important}
[data-theme="simple"] .lesson-content em{color:#5e6577!important}
[data-theme="simple"] .lesson-content a{color:#635bff!important}
[data-theme="cat"] .lesson-content{color:#2a2320!important}
[data-theme="cat"] .lesson-content strong{color:#1a1410!important}
[data-theme="cat"] .lesson-content em{color:#5a4e43!important}
[data-theme="cat"] .lesson-content a{color:#e8a87c!important}
[data-theme="future"] .lesson-content{color:#8a95a8!important}
[data-theme="future"] .lesson-content strong{color:#00f5d4!important}
[data-theme="future"] .lesson-content em{color:#4d5a6e!important}
[data-theme="future"] .lesson-content a{color:#00f5d4!important}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-thumb{background:#334155;border-radius:3px}
.pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
/* Prevent copying exercise task text */
.no-select{-webkit-user-select:none;user-select:none}
textarea,input{-webkit-user-select:text;user-select:text}
@media(max-width:900px){.g2{grid-template-columns:1fr!important}}
@keyframes glow{0%{box-shadow:0 0 5px #00fff020}50%{box-shadow:0 0 20px #00fff040}100%{box-shadow:0 0 5px #00fff020}}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ± CAT THEME â€” cute meme vibes
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Paw cursor */
[data-theme="cat"]{cursor:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 64 64'><text y='56' font-size='56'>ğŸ¾</text></svg>") 8 8,auto}
[data-theme="cat"] button,[data-theme="cat"] a{cursor:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 64 64'><text y='56' font-size='56'>ğŸ‘†</text></svg>") 8 0,pointer}

/* Bouncy hover on cards */
[data-theme="cat"] button:hover{transform:scale(1.03) rotate(-1deg);transition:transform 0.2s}
[data-theme="cat"] button:active{transform:scale(0.97)}

/* Cat mascot bounce */
@keyframes catBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes catWiggle{0%,100%{transform:rotate(0deg)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}
@keyframes catBlink{0%,90%,100%{opacity:1}95%{opacity:0}}
@keyframes pawFloat{0%{transform:translateY(0) rotate(0deg);opacity:0.6}100%{transform:translateY(-60px) rotate(20deg);opacity:0}}
@keyframes fishSwim{0%{transform:translateX(0) scaleX(1)}50%{transform:translateX(15px) scaleX(1)}51%{transform:translateX(15px) scaleX(-1)}100%{transform:translateX(0) scaleX(-1)}}

.cat-mascot{animation:catBounce 2s ease-in-out infinite;display:inline-block}
.cat-wiggle{animation:catWiggle 0.5s ease-in-out}
.cat-blink{animation:catBlink 3s ease infinite}

/* Paw print trail decoration */
.paw-trail{position:fixed;pointer-events:none;z-index:9999;font-size:16px;animation:pawFloat 1s ease-out forwards}

/* Fish reward animation */
.fish-reward{display:inline-block;animation:fishSwim 2s ease-in-out infinite}

/* Cat card warm glow */
[data-theme="cat"] button[style*="border"]:hover{box-shadow:0 4px 20px rgba(245,158,11,0.2)!important}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸš€ FUTURE THEME â€” cyberpunk wasteland
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Scanline overlay */
[data-theme="future"]::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,240,0.015) 2px,rgba(0,255,240,0.015) 4px);pointer-events:none;z-index:9998}

/* CRT vignette */
[data-theme="future"]::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at center,transparent 60%,rgba(0,0,0,0.4) 100%);pointer-events:none;z-index:9997}

/* Glitch text effect */
@keyframes glitch1{0%,100%{clip-path:inset(0 0 85% 0);transform:translate(-2px,-1px)}25%{clip-path:inset(15% 0 60% 0);transform:translate(2px,1px)}50%{clip-path:inset(50% 0 20% 0);transform:translate(-1px,2px)}75%{clip-path:inset(70% 0 5% 0);transform:translate(1px,-2px)}}
@keyframes glitch2{0%,100%{clip-path:inset(85% 0 0 0);transform:translate(2px,1px)}25%{clip-path:inset(60% 0 15% 0);transform:translate(-2px,-1px)}50%{clip-path:inset(20% 0 50% 0);transform:translate(1px,-2px)}75%{clip-path:inset(5% 0 70% 0);transform:translate(-1px,2px)}}
@keyframes textGlitch{0%,95%,100%{opacity:1;text-shadow:0 0 10px #00fff080}96%{opacity:0.8;text-shadow:-2px 0 #ff0055,2px 0 #00fff0}98%{opacity:0.9;text-shadow:2px 0 #ff0055,-2px 0 #00fff0}}
@keyframes neonFlicker{0%,19%,21%,23%,25%,54%,56%,100%{text-shadow:0 0 7px #00fff0,0 0 10px #00fff0,0 0 21px #00fff0,0 0 42px #0fa,0 0 82px #0fa}20%,24%,55%{text-shadow:none}}
@keyframes borderGlow{0%{border-color:#00fff020;box-shadow:0 0 5px #00fff010}50%{border-color:#00fff060;box-shadow:0 0 15px #00fff020,inset 0 0 15px #00fff008}100%{border-color:#00fff020;box-shadow:0 0 5px #00fff010}}
@keyframes dataStream{0%{background-position:0 0}100%{background-position:0 100%}}
@keyframes warningPulse{0%,100%{border-color:#ff005540;background:rgba(255,0,85,0.03)}50%{border-color:#ff005580;background:rgba(255,0,85,0.08)}}
@keyframes bootFlicker{0%{opacity:0}10%{opacity:1}12%{opacity:0.3}14%{opacity:1}50%{opacity:1}52%{opacity:0.7}54%{opacity:1}100%{opacity:1}}

.glitch-text{animation:textGlitch 4s ease-in-out infinite}
.neon-text{animation:neonFlicker 3s infinite alternate}
.cyber-border{animation:borderGlow 3s ease-in-out infinite}
.boot-flicker{animation:bootFlicker 1.5s ease-out}

/* Neon glow on cards */
[data-theme="future"] button:hover{box-shadow:0 0 15px #00fff030,0 0 30px #00fff010!important;transition:all 0.3s}

/* Matrix rain background for future header */
.matrix-bg{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Ctext x='10' y='20' fill='%2300fff008' font-family='monospace' font-size='10'%3E01001%3C/text%3E%3Ctext x='50' y='45' fill='%2300fff006' font-family='monospace' font-size='8'%3E11010%3C/text%3E%3Ctext x='20' y='70' fill='%2300fff004' font-family='monospace' font-size='10'%3E10110%3C/text%3E%3Ctext x='60' y='90' fill='%2300fff008' font-family='monospace' font-size='8'%3E01101%3C/text%3E%3C/svg%3E");animation:dataStream 20s linear infinite}

/* HUD corners on cards */
[data-theme="future"] .hud-corner{position:relative}
[data-theme="future"] .hud-corner::before,[data-theme="future"] .hud-corner::after{content:'';position:absolute;width:12px;height:12px;border-color:#00fff050;border-style:solid;border-width:0}
[data-theme="future"] .hud-corner::before{top:0;left:0;border-top-width:2px;border-left-width:2px}
[data-theme="future"] .hud-corner::after{bottom:0;right:0;border-bottom-width:2px;border-right-width:2px}

/* Warning/error styling for future */
[data-theme="future"] div[style*="error"]{animation:warningPulse 2s ease-in-out infinite}

/* Monospace override for future */
[data-theme="future"] h1,[data-theme="future"] h3{font-family:'Courier New',monospace!important;letter-spacing:1px}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const{useState,useEffect,useRef,useCallback,useMemo}=React;

const I=({n,s=16})=>{const d={
Play:'M5 3l14 9-14 9V3z',Rotate:'M1 4v6h6M3.51 15a9 9 0 1 0 2.13-9.36L1 10',
Bulb:'M9 18h6M10 22h4M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14',
Check:'M22 11.08V12a10 10 0 1 1-5.93-9.14M22 4L12 14.01l-3-3',
Lock:'M7 11V7a5 5 0 0 1 10 0v4M3 11h18v11H3z',
Trophy:'M6 9H4.5a2.5 2.5 0 0 1 0-5H6M18 9h1.5a2.5 2.5 0 0 0 0-5H18M4 22h16M18 2H6v7a6 6 0 0 0 12 0V2Z',
Flame:'M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.07-2.14-.22-4.05 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.15.43-2.29 1-3a2.5 2.5 0 0 0 2.5 2.5z',
Chat:'M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z',
Send:'M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z',Settings:'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z',X:'M18 6L6 18M6 6l12 12',
Eye:'M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8zM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z',
Book:'M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z',
Code:'M16 18l6-6-6-6M8 6l-6 6 6 6',Right:'M9 18l6-6-6-6',Left:'M15 18l-6-6 6-6',
Star:'M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14l-5-4.87 6.91-1.01L12 2z',
Globe:'M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zM2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z',
Home:'M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',
Grid:'M10 3H3v7h7V3zM21 3h-7v7h7V3zM21 14h-7v7h7v-7zM10 14H3v7h7v-7z',
Arrow:'M5 12h14M12 5l7 7-7 7'
};return d[n]?<svg width={s} height={s} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d={d[n]}/></svg>:null;};

const PROVIDERS={
  gemini:{name:'Google Gemini',placeholder:'AIza...',url:'https://aistudio.google.com/apikey',color:'#4285f4',free:true,pay:'Google è´¦å· (å…è´¹ï¼Œæœ‰æ—¥é™é¢)'},
  openrouter:{name:'OpenRouter',placeholder:'sk-or-...',url:'https://openrouter.ai/settings/keys',color:'#f97316',free:false,pay:'æ”¯ä»˜å®/å¾®ä¿¡/ä¿¡ç”¨å¡'},
  openai:{name:'OpenAI (GPT)',placeholder:'sk-...',url:'https://platform.openai.com/api-keys',color:'#10a37f',free:false,pay:'Visa/Mastercard (USD)'},
  claude:{name:'Claude (Anthropic)',placeholder:'sk-ant-...',url:'https://console.anthropic.com/',color:'#d97706',free:false,pay:'Visa/Mastercard (US)'}
};
const getKey=()=>localStorage.getItem('sl-api-key')||'';
const getProvider=()=>localStorage.getItem('sl-provider')||'gemini';
const hasKey=()=>!!getKey();
const PROXY_URL='https://scrape-lingo-proxy.shengyishu666.workers.dev';
const callAPI=async(body)=>{
  const k=getKey(),p=getProvider();
  if(!k)throw new Error('No API key');
  const r=await fetch(PROXY_URL,{
    method:'POST',
    headers:{'Content-Type':'application/json','x-api-key':k,'x-provider':p},
    body:JSON.stringify(body)
  });
  if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.error?.message||'API error '+r.status)}
  return r.json();
};

const LANGS=[
{code:'en',label:'English',flag:'ğŸ‡¬ğŸ‡§'},{code:'zh',label:'ä¸­æ–‡',flag:'ğŸ‡¨ğŸ‡³'},
{code:'es',label:'EspaÃ±ol',flag:'ğŸ‡ªğŸ‡¸'},{code:'fr',label:'FranÃ§ais',flag:'ğŸ‡«ğŸ‡·'},
{code:'ja',label:'æ—¥æœ¬èª',flag:'ğŸ‡¯ğŸ‡µ'},{code:'ko',label:'í•œêµ­ì–´',flag:'ğŸ‡°ğŸ‡·'},
{code:'pt',label:'PortuguÃªs',flag:'ğŸ‡§ğŸ‡·'},{code:'de',label:'Deutsch',flag:'ğŸ‡©ğŸ‡ª'}];

const UI={
en:{learn:'Learn',practice:'Practice',hint:'Hint',hide:'Hide',solutions:'Solutions',viewSol:'ğŸ“– View Solution',yourOut:'Your output',bestPractice:'âœ¨ Best Practice:',review:'Review',run:'Run',reset:'Reset',prev:'Previous',next:'Next',nextT:'Next Topic â†’',startEx:'Start Exercises',overall:'Overall',topics:'Topics',copy:'Copy to Editor',complete:'Complete all to continue',ex:'Exercise',of:'of',ask:'Ask anything...',tutor:'AI Tutor',think:'Thinking...',fail:'Connection failed. Try the hint!',showEn:'Show English',hideEn:'Hide English',transing:'Translating...',expected:'Expected output',tip:'ğŸ’¡ Tip:',correct:'ğŸ‰ Correct!',wrong:'âŒ Not quite right.',eval:'ğŸ¤” Evaluating...',courses:'Courses',back:'Back to Courses',progress:'Progress',emptyCode:'Please write some code before running.',noChange:'Modify the starter code before running.',pasted:'It looks like you pasted code. Try typing it yourself to build muscle memory!',errSyntax:'Your code has a syntax error.',errEmpty:'Your code produced no output.'},
zh:{learn:'å­¦ä¹ ',practice:'ç»ƒä¹ ',hint:'æç¤º',hide:'éšè—',solutions:'ç­”æ¡ˆ',viewSol:'ğŸ“– æŸ¥çœ‹è§£ç­”',yourOut:'ä½ çš„è¾“å‡º',bestPractice:'âœ¨ æœ€ä½³å®è·µï¼š',review:'å¤ä¹ ',run:'è¿è¡Œ',reset:'é‡ç½®',prev:'ä¸Šä¸€é¢˜',next:'ä¸‹ä¸€é¢˜',nextT:'ä¸‹ä¸€ä¸»é¢˜ â†’',startEx:'å¼€å§‹ç»ƒä¹ ',overall:'æ€»è¿›åº¦',topics:'ä¸»é¢˜',copy:'å¤åˆ¶åˆ°ç¼–è¾‘å™¨',complete:'å®Œæˆæ‰€æœ‰é¢˜ç›®ç»§ç»­',ex:'ç»ƒä¹ ',of:'/',ask:'éšä¾¿é—®...',tutor:'AI å¯¼å¸ˆ',think:'æ€è€ƒä¸­...',fail:'è¿æ¥å¤±è´¥ï¼Œè¯•è¯•æç¤ºï¼',showEn:'æ˜¾ç¤ºè‹±æ–‡',hideEn:'éšè—è‹±æ–‡',transing:'ç¿»è¯‘ä¸­...',expected:'æœŸæœ›è¾“å‡º',tip:'ğŸ’¡ æ”¹è¿›å»ºè®®ï¼š',correct:'ğŸ‰ æ­£ç¡®ï¼',wrong:'âŒ ä¸å¤ªå¯¹ã€‚',eval:'ğŸ¤” è¯„ä¼°ä¸­...',courses:'è¯¾ç¨‹',back:'è¿”å›è¯¾ç¨‹',progress:'è¿›åº¦',emptyCode:'è¯·å…ˆç¼–å†™ä»£ç å†è¿è¡Œã€‚',noChange:'è¯·ä¿®æ”¹ä»£ç åå†è¿è¡Œã€‚',pasted:'æ£€æµ‹åˆ°ç²˜è´´æ“ä½œï¼Œè¯·è‡ªå·±æ‰‹åŠ¨è¾“å…¥æ¥åŠ æ·±è®°å¿†ï¼',errSyntax:'ä»£ç å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚',errEmpty:'ä»£ç æ²¡æœ‰äº§ç”Ÿä»»ä½•è¾“å‡ºã€‚'},
es:{learn:'Aprender',practice:'Practicar',hint:'Pista',hide:'Ocultar',solutions:'Soluciones',viewSol:'ğŸ“– Ver soluciÃ³n',yourOut:'Tu salida',bestPractice:'âœ¨ Mejor prÃ¡ctica:',review:'Revisar',run:'Ejecutar',reset:'Reiniciar',prev:'Anterior',next:'Siguiente',nextT:'Siguiente â†’',startEx:'Comenzar',overall:'Progreso',topics:'Temas',copy:'Copiar',complete:'Completa todo',ex:'Ejercicio',of:'de',ask:'Pregunta...',tutor:'Tutor IA',think:'Pensando...',fail:'ConexiÃ³n fallida!',showEn:'Mostrar inglÃ©s',hideEn:'Ocultar inglÃ©s',transing:'Traduciendo...',expected:'Salida esperada',tip:'ğŸ’¡ Consejo:',correct:'ğŸ‰ Â¡Correcto!',wrong:'âŒ No del todo.',eval:'ğŸ¤” Evaluando...',courses:'Cursos',back:'Volver',progress:'Progreso',emptyCode:'Escribe cÃ³digo antes de ejecutar.',noChange:'Modifica el cÃ³digo primero.',pasted:'Parece que pegaste el cÃ³digo. Â¡Intenta escribirlo tÃº mismo!',errSyntax:'Tu cÃ³digo tiene un error de sintaxis.',errEmpty:'Tu cÃ³digo no produjo salida.'},
fr:{learn:'Apprendre',practice:'Pratiquer',hint:'Indice',hide:'Cacher',solutions:'Solutions',viewSol:'ğŸ“– Voir la solution',yourOut:'Votre sortie',bestPractice:'âœ¨ Meilleure pratique:',review:'RÃ©viser',run:'ExÃ©cuter',reset:'RÃ©initialiser',prev:'PrÃ©cÃ©dent',next:'Suivant',nextT:'Suivant â†’',startEx:'Commencer',overall:'ProgrÃ¨s',topics:'Sujets',copy:'Copier',complete:'Terminez tout',ex:'Exercice',of:'sur',ask:'Demandez...',tutor:'Tuteur IA',think:'RÃ©flexion...',fail:'Ã‰chouÃ©e!',showEn:'Anglais',hideEn:'Cacher',transing:'Traduction...',expected:'Sortie attendue',tip:'ğŸ’¡ Conseil:',correct:'ğŸ‰ Correct!',wrong:'âŒ Pas tout Ã  fait.',eval:'ğŸ¤” Ã‰valuation...',courses:'Cours',back:'Retour',progress:'ProgrÃ¨s',emptyCode:'Ã‰crivez du code avant d\'exÃ©cuter.',noChange:'Modifiez le code d\'abord.',pasted:'Vous avez collÃ© le code. Essayez de le taper vous-mÃªme!',errSyntax:'Votre code a une erreur de syntaxe.',errEmpty:'Votre code n\'a produit aucune sortie.'},
ja:{learn:'å­¦ã¶',practice:'ç·´ç¿’',hint:'ãƒ’ãƒ³ãƒˆ',hide:'éè¡¨ç¤º',solutions:'è§£ç­”',viewSol:'ğŸ“– è§£ç­”ã‚’è¦‹ã‚‹',yourOut:'ã‚ãªãŸã®å‡ºåŠ›',bestPractice:'âœ¨ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:',review:'å¾©ç¿’',run:'å®Ÿè¡Œ',reset:'ãƒªã‚»ãƒƒãƒˆ',prev:'å‰ã¸',next:'æ¬¡ã¸',nextT:'æ¬¡ â†’',startEx:'é–‹å§‹',overall:'é€²æ—',topics:'ãƒˆãƒ”ãƒƒã‚¯',copy:'ã‚³ãƒ”ãƒ¼',complete:'å…¨ã¦å®Œäº†ã—ã¦ç¶šè¡Œ',ex:'ç·´ç¿’',of:'/',ask:'èã„ã¦...',tutor:'AIãƒãƒ¥ãƒ¼ã‚¿ãƒ¼',think:'è€ƒãˆä¸­...',fail:'æ¥ç¶šå¤±æ•—ï¼',showEn:'è‹±èªè¡¨ç¤º',hideEn:'è‹±èªéè¡¨ç¤º',transing:'ç¿»è¨³ä¸­...',expected:'æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›',tip:'ğŸ’¡ ãƒ’ãƒ³ãƒˆ:',correct:'ğŸ‰ æ­£è§£ï¼',wrong:'âŒ æƒœã—ã„ã€‚',eval:'ğŸ¤” è©•ä¾¡ä¸­...',courses:'ã‚³ãƒ¼ã‚¹',back:'æˆ»ã‚‹',progress:'é€²æ—',emptyCode:'ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚',noChange:'ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚',pasted:'ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã‚’æ¤œå‡ºã—ã¾ã—ãŸã€‚è‡ªåˆ†ã§å…¥åŠ›ã—ã¦è¨˜æ†¶ã‚’å®šç€ã•ã›ã¾ã—ã‚‡ã†ï¼',errSyntax:'æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚',errEmpty:'ã‚³ãƒ¼ãƒ‰ãŒå‡ºåŠ›ã‚’ç”Ÿæˆã—ã¾ã›ã‚“ã§ã—ãŸã€‚'},
ko:{learn:'í•™ìŠµ',practice:'ì—°ìŠµ',hint:'íŒíŠ¸',hide:'ìˆ¨ê¸°ê¸°',solutions:'ì •ë‹µ',viewSol:'ğŸ“– ì •ë‹µ ë³´ê¸°',yourOut:'ë‚´ ì¶œë ¥',bestPractice:'âœ¨ ëª¨ë²” ì‚¬ë¡€:',review:'ë³µìŠµ',run:'ì‹¤í–‰',reset:'ì´ˆê¸°í™”',prev:'ì´ì „',next:'ë‹¤ìŒ',nextT:'ë‹¤ìŒ â†’',startEx:'ì‹œì‘',overall:'ì§„í–‰ë¥ ',topics:'ì£¼ì œ',copy:'ë³µì‚¬',complete:'ëª¨ë‘ ì™„ë£Œí•˜ê³  ê³„ì†',ex:'ì—°ìŠµ',of:'/',ask:'ì§ˆë¬¸...',tutor:'AI íŠœí„°',think:'ìƒê° ì¤‘...',fail:'ì—°ê²° ì‹¤íŒ¨!',showEn:'ì˜ì–´',hideEn:'ìˆ¨ê¸°ê¸°',transing:'ë²ˆì—­ ì¤‘...',expected:'ì˜ˆìƒ ì¶œë ¥',tip:'ğŸ’¡ íŒ:',correct:'ğŸ‰ ì •ë‹µ!',wrong:'âŒ ì•„ì‰½ë„¤ìš”.',eval:'ğŸ¤” í‰ê°€ ì¤‘...',courses:'ì½”ìŠ¤',back:'ë’¤ë¡œ',progress:'ì§„í–‰ë¥ ',emptyCode:'ì½”ë“œë¥¼ ì‘ì„±í•œ í›„ ì‹¤í–‰í•˜ì„¸ìš”.',noChange:'ì½”ë“œë¥¼ ìˆ˜ì •í•œ í›„ ì‹¤í–‰í•˜ì„¸ìš”.',pasted:'ë¶™ì—¬ë„£ê¸°ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ì§ì ‘ ì…ë ¥í•´ ë³´ì„¸ìš”!',errSyntax:'êµ¬ë¬¸ ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.',errEmpty:'ì½”ë“œê°€ ì¶œë ¥ì„ ìƒì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.'},
pt:{learn:'Aprender',practice:'Praticar',hint:'Dica',hide:'Ocultar',solutions:'SoluÃ§Ãµes',viewSol:'ğŸ“– Ver soluÃ§Ã£o',yourOut:'Sua saÃ­da',bestPractice:'âœ¨ Melhor prÃ¡tica:',review:'Revisar',run:'Executar',reset:'Reiniciar',prev:'Anterior',next:'PrÃ³ximo',nextT:'PrÃ³ximo â†’',startEx:'Iniciar',overall:'Progresso',topics:'Temas',copy:'Copiar',complete:'Complete tudo',ex:'ExercÃ­cio',of:'de',ask:'Pergunte...',tutor:'Tutor IA',think:'Pensando...',fail:'Falhou!',showEn:'InglÃªs',hideEn:'Ocultar',transing:'Traduzindo...',expected:'SaÃ­da esperada',tip:'ğŸ’¡ Dica:',correct:'ğŸ‰ Correto!',wrong:'âŒ NÃ£o.',eval:'ğŸ¤” Avaliando...',courses:'Cursos',back:'Voltar',progress:'Progresso',emptyCode:'Escreva cÃ³digo antes de executar.',noChange:'Modifique o cÃ³digo primeiro.',pasted:'Parece que colou o cÃ³digo. Tente digitar!',errSyntax:'Seu cÃ³digo tem um erro de sintaxe.',errEmpty:'Seu cÃ³digo nÃ£o produziu saÃ­da.'},
de:{learn:'Lernen',practice:'Ãœben',hint:'Hinweis',hide:'Ausblenden',solutions:'LÃ¶sungen',viewSol:'ğŸ“– LÃ¶sung ansehen',yourOut:'Deine Ausgabe',bestPractice:'âœ¨ Best Practice:',review:'Wiederholen',run:'AusfÃ¼hren',reset:'ZurÃ¼cksetzen',prev:'ZurÃ¼ck',next:'Weiter',nextT:'NÃ¤chstes â†’',startEx:'Starten',overall:'Fortschritt',topics:'Themen',copy:'Kopieren',complete:'Alles abschlieÃŸen',ex:'Ãœbung',of:'von',ask:'Frag...',tutor:'KI-Tutor',think:'Denke...',fail:'Fehlgeschlagen!',showEn:'Englisch',hideEn:'Ausblenden',transing:'Ãœbersetze...',expected:'Erwartete Ausgabe',tip:'ğŸ’¡ Tipp:',correct:'ğŸ‰ Richtig!',wrong:'âŒ Nicht ganz.',eval:'ğŸ¤” Auswertung...',courses:'Kurse',back:'ZurÃ¼ck',progress:'Fortschritt',emptyCode:'Bitte schreibe Code vor dem AusfÃ¼hren.',noChange:'Ã„ndere den Code zuerst.',pasted:'Es sieht aus, als hÃ¤ttest du den Code eingefÃ¼gt. Versuche selbst zu tippen!',errSyntax:'Dein Code hat einen Syntaxfehler.',errEmpty:'Dein Code hat keine Ausgabe erzeugt.'}
};


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ANIMATED DIAGRAM COMPONENTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const Diagrams={
'recipe-analogy':()=>{
  const[step,setStep]=React.useState(0);
  React.useEffect(()=>{const t=setInterval(()=>setStep(s=>(s+1)%4),2000);return()=>clearInterval(t)},[]);
  const steps=[{icon:'ğŸ“',label:'Recipe (Code)',desc:'Written instructions'},{icon:'ğŸ‘¨â€ğŸ³',label:'Chef (Python)',desc:'Follows instructions'},{icon:'ğŸ¥˜',label:'Ingredients (Data)',desc:'What you work with'},{icon:'ğŸ½ï¸',label:'Dish (Output)',desc:'The result!'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:20,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:8,flexWrap:'wrap'}}>
      {steps.map((s,i)=><React.Fragment key={i}>
        <div style={{textAlign:'center',padding:12,borderRadius:8,background:i===step?'rgba(99,102,241,0.3)':'transparent',border:i===step?'2px solid #6366f1':'2px solid transparent',transition:'all 0.5s',minWidth:90}}>
          <div style={{fontSize:28}}>{s.icon}</div>
          <div style={{color:i===step?'#a5b4fc':'#c8d0dc',fontSize:11,fontWeight:600,marginTop:4}}>{s.label}</div>
          <div style={{color:'#64748b',fontSize:10}}>{s.desc}</div>
        </div>
        {i<3&&<div style={{color:i===step?'#6366f1':'#334155',fontSize:18,transition:'color 0.5s'}}>â†’</div>}
      </React.Fragment>)}
    </div>
    <p style={{textAlign:'center',color:'#c8d0dc',fontSize:12,marginTop:12}}>Programming = writing precise instructions for a computer to follow</p>
  </div>
},
'how-code-runs':()=>{
  const[phase,setPhase]=React.useState(0);
  React.useEffect(()=>{const t=setInterval(()=>setPhase(p=>(p+1)%3),2500);return()=>clearInterval(t)},[]);
  const ph=[{t:'1. You Write Code',c:'print("Hello!")',col:'#818cf8',i:'âœï¸'},{t:'2. Python Reads It',c:'Interpreting...',col:'#fbbf24',i:'ğŸ'},{t:'3. Result Appears',c:'Hello!',col:'#34d399',i:'ğŸ–¥ï¸'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:20,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:12,justifyContent:'center',flexWrap:'wrap'}}>
      {ph.map((p,i)=><div key={i} style={{flex:'1 1 140px',maxWidth:180,padding:12,borderRadius:8,background:i===phase?'rgba(30,41,59,1)':'rgba(15,23,42,0.5)',border:`2px solid ${i===phase?p.col:'#1e293b'}`,transition:'all 0.5s',textAlign:'center'}}>
        <div style={{fontSize:28}}>{p.i}</div>
        <div style={{color:p.col,fontSize:11,fontWeight:600}}>{p.t}</div>
        <div style={{fontFamily:'monospace',fontSize:12,color:i===phase?'#e2e8f0':'#475569',marginTop:6,padding:'4px 8px',background:'#0f172a',borderRadius:4}}>{p.c}</div>
      </div>)}
    </div>
  </div>
},
'variable-box':()=>{
  const[step,setStep]=React.useState(0);
  React.useEffect(()=>{const t=setInterval(()=>setStep(s=>(s+1)%3),3000);return()=>clearInterval(t)},[]);
  const d=[{v:'name',val:'"Alice"',ty:'Text (string)',c:'#a78bfa'},{v:'age',val:'25',ty:'Integer (int)',c:'#60a5fa'},{v:'price',val:'9.99',ty:'Decimal (float)',c:'#34d399'}];
  const x=d[step];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:20,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:16,flexWrap:'wrap'}}>
      <div style={{fontFamily:'monospace',fontSize:16,color:'#e2e8f0'}}>{x.v} = {x.val}</div>
      <svg width="160" height="70" viewBox="0 0 160 70"><rect x="5" y="10" width="150" height="50" rx="8" fill="rgba(15,23,42,0.8)" stroke={x.c} strokeWidth="2"/><text x="80" y="38" textAnchor="middle" fill={x.c} fontSize="18" fontFamily="monospace" fontWeight="bold">{x.val}</text><text x="80" y="55" textAnchor="middle" fill="#64748b" fontSize="9">{x.ty}</text><rect x="40" y="2" width="80" height="16" rx="4" fill={x.c}/><text x="80" y="14" textAnchor="middle" fill="#0f172a" fontSize="10" fontWeight="bold">{x.v}</text></svg>
    </div>
    <p style={{textAlign:'center',color:'#c8d0dc',fontSize:12,marginTop:8}}>A variable is like a labeled box that stores a value</p>
  </div>
},
'tools-comparison':()=>{
  const t=[{n:'Terminal/REPL',i:'âŒ¨ï¸',g:'Quick tests',b:'No save',f:'Testing ideas',d:'Beginner'},{n:'VS Code',i:'ğŸ’»',g:'Full editor, debug',b:'Needs setup',f:'Real projects',d:'Most Popular'},{n:'Jupyter',i:'ğŸ““',g:'Code + notes + output',b:'Not for big apps',f:'Data analysis',d:'Best for Learning'},{n:'Google Colab',i:'â˜ï¸',g:'No install, free',b:'Needs internet',f:'Quick start',d:'Easiest Start'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(160px,1fr))',gap:10}}>
      {t.map((x,i)=><div key={i} style={{background:'#0f172a',borderRadius:8,padding:10,border:'1px solid #1e293b'}}>
        <div style={{fontSize:22}}>{x.i}</div>
        <div style={{color:'#e2e8f0',fontWeight:600,fontSize:13}}>{x.n}</div>
        <div style={{display:'inline-block',background:'rgba(99,102,241,0.2)',color:'#a5b4fc',fontSize:10,padding:'1px 5px',borderRadius:4,marginTop:3}}>{x.d}</div>
        <div style={{color:'#34d399',fontSize:11,marginTop:6}}>âœ… {x.g}</div>
        <div style={{color:'#f87171',fontSize:11,marginTop:2}}>âš ï¸ {x.b}</div>
        <div style={{color:'#fbbf24',fontSize:11,marginTop:2}}>ğŸ¯ {x.f}</div>
      </div>)}
    </div>
  </div>
},
'terminal-demo':()=>{
  const[line,setLine]=React.useState(0);
  const ls=[{t:'p',x:'$ python3'},{t:'o',x:'Python 3.12.0 (main, Oct 2 2024)'},{t:'o',x:'Type "help" for more information.'},{t:'p',x:'>>> print("Hello, World!")'},{t:'o',x:'Hello, World!',h:1},{t:'p',x:'>>> 2 + 3'},{t:'o',x:'5',h:1},{t:'p',x:'>>> exit()'}];
  React.useEffect(()=>{const t=setInterval(()=>setLine(l=>l<ls.length-1?l+1:0),1500);return()=>clearInterval(t)},[]);
  return <div style={{background:'#0f172a',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155',fontFamily:'monospace',fontSize:13}}>
    <div style={{display:'flex',gap:6,marginBottom:10}}>
      <div style={{width:10,height:10,borderRadius:5,background:'#ef4444'}}/><div style={{width:10,height:10,borderRadius:5,background:'#eab308'}}/><div style={{width:10,height:10,borderRadius:5,background:'#22c55e'}}/>
      <span style={{color:'#c8d0dc',fontSize:11,marginLeft:8}}>Terminal â€” Python Interactive Shell</span>
    </div>
    {ls.slice(0,line+1).map((l,i)=><div key={i} style={{color:l.t==='p'?'#6ee7b7':l.h?'#fbbf24':'#c8d0dc',opacity:i===line?1:0.7,marginBottom:1}}>{l.x}{i===line&&l.t==='p'&&<span className="pulse">â–Š</span>}</div>)}
  </div>
},
'install-steps':({platform})=>{
  const[step,setStep]=React.useState(0);
  const win=[{i:'ğŸŒ',t:'Go to python.org',d:'Open browser â†’ python.org/downloads'},{i:'â¬‡ï¸',t:'Download Python',d:'Click "Download Python 3.x" button'},{i:'â˜‘ï¸',t:'CHECK "Add to PATH"!',d:'âœ… Check "Add Python to PATH" at the bottom of installer!',w:1},{i:'â–¶ï¸',t:'Click Install Now',d:'Wait for completion'},{i:'âœ…',t:'Verify',d:'Open CMD â†’ type: python --version'}];
  const mac=[{i:'ğŸŒ',t:'Go to python.org',d:'Open browser â†’ python.org/downloads'},{i:'â¬‡ï¸',t:'Download .pkg',d:'Click "Download Python 3.x"'},{i:'ğŸ“¦',t:'Open Installer',d:'Double-click the .pkg file'},{i:'â–¶ï¸',t:'Follow Steps',d:'Continue â†’ Agree â†’ Install'},{i:'âœ…',t:'Verify',d:'Open Terminal â†’ type: python3 --version'}];
  const steps=platform==='mac'?mac:win;
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:3,marginBottom:14}}>{steps.map((_,i)=><div key={i} onClick={()=>setStep(i)} style={{flex:1,height:3,borderRadius:2,background:i<=step?'#6366f1':'#1e293b',cursor:'pointer'}}/>)}</div>
    {steps.map((s,i)=><div key={i} style={{display:i===step?'flex':'none',alignItems:'flex-start',gap:12,padding:12,borderRadius:8,background:s.w?'rgba(234,179,8,0.1)':'rgba(15,23,42,0.5)',border:s.w?'1px solid #ca8a04':'1px solid #1e293b'}}>
      <div style={{fontSize:28,flexShrink:0}}>{s.i}</div>
      <div><div style={{color:s.w?'#fbbf24':'#e2e8f0',fontWeight:600,fontSize:14}}>{s.t}</div><div style={{color:s.w?'#fde68a':'#c8d0dc',fontSize:12,marginTop:4}}>{s.d}</div></div>
    </div>)}
    <div style={{display:'flex',gap:8,marginTop:12,justifyContent:'center'}}>
      <button onClick={()=>setStep(Math.max(0,step-1))} disabled={step===0} style={{padding:'3px 10px',borderRadius:6,border:'none',background:step===0?'#1e293b':'#334155',color:step===0?'#475569':'#e2e8f0',cursor:step===0?'default':'pointer',fontSize:11}}>â† Prev</button>
      <span style={{color:'#c8d0dc',fontSize:11,padding:'3px 8px'}}>Step {step+1}/{steps.length}</span>
      <button onClick={()=>setStep(Math.min(steps.length-1,step+1))} disabled={step===steps.length-1} style={{padding:'3px 10px',borderRadius:6,border:'none',background:step===steps.length-1?'#1e293b':'#6366f1',color:'#e2e8f0',cursor:step===steps.length-1?'default':'pointer',fontSize:11}}>Next â†’</button>
    </div>
  </div>
},
'file-tree':()=>{
  const t=[{n:'my_project/',d:0,i:'ğŸ“',c:'#fbbf24'},{n:'main.py',d:1,i:'ğŸ',c:'#6ee7b7',x:'â† Your code'},{n:'data.csv',d:1,i:'ğŸ“Š',c:'#60a5fa',x:'â† Your data'},{n:'README.md',d:1,i:'ğŸ“',c:'#a78bfa',x:'â† Description'},{n:'requirements.txt',d:1,i:'ğŸ“‹',c:'#f87171',x:'â† Packages needed'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155',fontFamily:'monospace',fontSize:13}}>
    {t.map((x,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:8,paddingLeft:x.d*24,marginBottom:4}}><span>{x.i}</span><span style={{color:x.c}}>{x.n}</span>{x.x&&<span style={{color:'#475569',fontSize:11}}>{x.x}</span>}</div>)}
  </div>
},
'github-concept':()=>{
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:20,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:20,flexWrap:'wrap'}}>
      <div style={{textAlign:'center'}}><div style={{fontSize:36}}>ğŸ’»</div><div style={{color:'#c8d0dc',fontSize:11}}>Your Computer</div></div>
      <div style={{display:'flex',flexDirection:'column',alignItems:'center',gap:2}}><div style={{color:'#6366f1',fontSize:11}}>push â†’</div><div style={{width:60,height:2,background:'linear-gradient(to right,#6366f1,#8b5cf6)'}}/><div style={{color:'#8b5cf6',fontSize:11}}>â† pull</div></div>
      <div style={{textAlign:'center'}}><div style={{fontSize:36}}>â˜ï¸</div><div style={{color:'#c8d0dc',fontSize:11}}>GitHub</div></div>
      <div style={{display:'flex',flexDirection:'column',alignItems:'center',gap:2}}><div style={{color:'#22c55e',fontSize:11}}>share â†’</div><div style={{width:40,height:2,background:'#22c55e'}}/></div>
      <div style={{textAlign:'center'}}><div style={{fontSize:36}}>ğŸ‘¥</div><div style={{color:'#c8d0dc',fontSize:11}}>Team</div></div>
    </div>
    <p style={{textAlign:'center',color:'#c8d0dc',fontSize:12,marginTop:12}}>GitHub = Google Drive for code, with version history and collaboration</p>
  </div>
},
'pip-concept':()=>{
  const p=[{n:'requests',d:'Web pages',i:'ğŸŒ'},{n:'pandas',d:'Data tables',i:'ğŸ¼'},{n:'beautifulsoup4',d:'Parse HTML',i:'ğŸœ'},{n:'numpy',d:'Fast math',i:'ğŸ”¢'},{n:'matplotlib',d:'Charts',i:'ğŸ“ˆ'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{fontFamily:'monospace',background:'#0f172a',padding:10,borderRadius:8,marginBottom:10}}>
      <span style={{color:'#34d399'}}>$</span> <span style={{color:'#e2e8f0'}}>pip install requests</span>
      <div style={{color:'#64748b',fontSize:10,marginTop:3}}>Downloads and installs packages from the internet</div>
    </div>
    <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(100px,1fr))',gap:6}}>
      {p.map((x,i)=><div key={i} style={{background:'#0f172a',borderRadius:6,padding:6,textAlign:'center',border:'1px solid #1e293b'}}>
        <div style={{fontSize:18}}>{x.i}</div>
        <div style={{fontFamily:'monospace',color:'#a5b4fc',fontSize:11}}>{x.n}</div>
        <div style={{color:'#64748b',fontSize:9}}>{x.d}</div>
      </div>)}
    </div>
    <p style={{color:'#c8d0dc',fontSize:11,marginTop:8,textAlign:'center'}}>pip is like an "app store" for Python â€” thousands of free tools</p>
  </div>
},
'error-guide':()=>{
  const[s,setS]=React.useState(0);
  const e=[{t:'SyntaxError',c:'print("hello"',m:'SyntaxError: unexpected EOF',f:'Missing ) â†’ print("hello")',col:'#f87171'},{t:'NameError',c:'print(messge)',m:"NameError: name 'messge' is not defined",f:'Typo! Should be "message"',col:'#fbbf24'},{t:'TypeError',c:'"age: " + 25',m:'TypeError: can only concatenate str to str',f:'Convert: "age: " + str(25)',col:'#60a5fa'}];
  const x=e[s];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:14,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:4,marginBottom:10}}>
      {e.map((_,i)=><button key={i} onClick={()=>setS(i)} style={{padding:'3px 8px',borderRadius:4,fontSize:10,border:'none',cursor:'pointer',background:i===s?e[i].col+'33':'#1e293b',color:i===s?e[i].col:'#64748b',fontWeight:i===s?600:400}}>{e[i].t}</button>)}
    </div>
    <div style={{fontFamily:'monospace',fontSize:12}}>
      <div style={{background:'#0f172a',padding:6,borderRadius:'6px 6px 0 0',color:'#c8d0dc'}}>>>> {x.c}</div>
      <div style={{background:'#1a0000',padding:6,color:x.col}}>{x.m}</div>
      <div style={{background:`${'#34d399'}15`,padding:6,borderRadius:'0 0 6px 6px',color:'#34d399'}}>ğŸ’¡ {x.f}</div>
    </div>
    <p style={{color:'#c8d0dc',fontSize:11,marginTop:6}}>Errors are normal! Read the last line first â€” it tells you exactly what went wrong.</p>
  </div>
}
,
'if-else-flow':()=>{
  const[val,setVal]=React.useState(75);
  const pass_=val>=60;
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{textAlign:'center',marginBottom:8}}>
      <label style={{color:'#c8d0dc',fontSize:12}}>score = </label>
      <input type="range" min="0" max="100" value={val} onChange={e=>setVal(+e.target.value)} style={{width:120,verticalAlign:'middle'}}/>
      <span style={{color:'#e2e8f0',fontFamily:'monospace',fontSize:14,marginLeft:8}}>{val}</span>
    </div>
    <svg width="100%" height="140" viewBox="0 0 400 140">
      <rect x="140" y="5" width="120" height="30" rx="6" fill="#1e293b" stroke="#6366f1" strokeWidth="2"/>
      <text x="200" y="25" textAnchor="middle" fill="#a5b4fc" fontSize="12" fontFamily="monospace">score >= 60?</text>
      <line x1="170" y1="35" x2="100" y2="75" stroke={pass_?'#334155':'#f87171'} strokeWidth="2"/>
      <line x1="230" y1="35" x2="300" y2="75" stroke={pass_?'#34d399':'#334155'} strokeWidth="2"/>
      <text x="120" y="60" fill={pass_?'#475569':'#f87171'} fontSize="11">No</text>
      <text x="260" y="60" fill={pass_?'#34d399':'#475569'} fontSize="11">Yes</text>
      <rect x="30" y="75" width="140" height="30" rx="6" fill={pass_?'#1e293b':'rgba(127,29,29,0.4)'} stroke={pass_?'#334155':'#f87171'} strokeWidth="2"/>
      <text x="100" y="95" textAnchor="middle" fill={pass_?'#475569':'#fca5a5'} fontSize="12" fontFamily="monospace">print("Fail")</text>
      <rect x="230" y="75" width="140" height="30" rx="6" fill={pass_?'rgba(6,78,59,0.4)':'#1e293b'} stroke={pass_?'#34d399':'#334155'} strokeWidth="2"/>
      <text x="300" y="95" textAnchor="middle" fill={pass_?'#6ee7b7':'#475569'} fontSize="12" fontFamily="monospace">print("Pass")</text>
      <rect x="120" y="115" width="160" height="22" rx="4" fill={pass_?'rgba(6,78,59,0.3)':'rgba(127,29,29,0.3)'}/>
      <text x="200" y="130" textAnchor="middle" fill={pass_?'#6ee7b7':'#fca5a5'} fontSize="12">Output: {pass_?'Pass':'Fail'}</text>
    </svg>
  </div>
},
'loop-animation':()=>{
  const[i,setI]=React.useState(0);const[total,setTotal]=React.useState(0);const[running,setRun]=React.useState(false);
  React.useEffect(()=>{if(!running)return;if(i>5){setRun(false);return}const t=setTimeout(()=>{setTotal(p=>p+i);setI(p=>p+1)},800);return()=>clearTimeout(t)},[i,running]);
  const reset=()=>{setI(0);setTotal(0);setRun(false)};
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{fontFamily:'monospace',fontSize:13,marginBottom:12}}>
      <div style={{color:'#c8d0dc'}}>total = 0</div>
      <div style={{color:'#c084fc'}}>for i in range(1, 6):</div>
      <div style={{color:'#c8d0dc',paddingLeft:20}}>total += i</div>
    </div>
    <div style={{display:'flex',gap:8,justifyContent:'center',marginBottom:12}}>
      {[1,2,3,4,5].map(n=><div key={n} style={{width:36,height:36,borderRadius:6,display:'flex',alignItems:'center',justifyContent:'center',fontFamily:'monospace',fontSize:14,background:n<i?'rgba(6,78,59,0.5)':n===i&&running?'rgba(99,102,241,0.5)':'#1e293b',border:`2px solid ${n<i?'#34d399':n===i&&running?'#6366f1':'#334155'}`,color:n<i?'#6ee7b7':n===i&&running?'#a5b4fc':'#475569',transition:'all 0.3s'}}>{n}</div>)}
    </div>
    <div style={{textAlign:'center',fontFamily:'monospace',color:'#fbbf24',fontSize:14,marginBottom:8}}>total = {total}{i<=5&&running?' + '+i:''}{i>5?' âœ… Done!':''}</div>
    <div style={{textAlign:'center'}}>
      {!running&&i===0&&<button onClick={()=>{setRun(true);setI(1)}} style={{padding:'4px 16px',borderRadius:6,border:'none',background:'#6366f1',color:'#fff',cursor:'pointer',fontSize:12}}>â–¶ Run Loop</button>}
      {(i>5||(!running&&i>0))&&<button onClick={reset} style={{padding:'4px 16px',borderRadius:6,border:'none',background:'#334155',color:'#e2e8f0',cursor:'pointer',fontSize:12}}>â†» Reset</button>}
    </div>
  </div>
},
'function-machine':()=>{
  const[inp,setInp]=React.useState(5);const[running,setRun]=React.useState(false);const[out,setOut]=React.useState(null);
  const run=()=>{setRun(true);setOut(null);setTimeout(()=>{setOut(inp*2);setRun(false)},1000)};
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:12,flexWrap:'wrap'}}>
      <div style={{textAlign:'center'}}>
        <div style={{color:'#c8d0dc',fontSize:11,marginBottom:4}}>Input</div>
        <input type="number" value={inp} onChange={e=>setInp(+e.target.value)} style={{width:50,padding:'4px 8px',borderRadius:6,border:'1px solid #334155',background:'#0f172a',color:'#e2e8f0',textAlign:'center',fontFamily:'monospace'}}/>
      </div>
      <div style={{color:'#6366f1',fontSize:16}}>â†’</div>
      <div style={{padding:'12px 20px',borderRadius:8,background:running?'rgba(99,102,241,0.3)':'#1e293b',border:`2px solid ${running?'#6366f1':'#334155'}`,textAlign:'center',transition:'all 0.3s'}}>
        <div style={{fontSize:20}}>âš™ï¸</div>
        <div style={{fontFamily:'monospace',color:'#a5b4fc',fontSize:12}}>double(n)</div>
        <div style={{color:'#64748b',fontSize:10}}>return n * 2</div>
      </div>
      <div style={{color:'#6366f1',fontSize:16}}>â†’</div>
      <div style={{textAlign:'center'}}>
        <div style={{color:'#c8d0dc',fontSize:11,marginBottom:4}}>Output</div>
        <div style={{width:50,padding:'4px 8px',borderRadius:6,border:'1px solid #334155',background:'#0f172a',fontFamily:'monospace',color:out!==null?'#6ee7b7':'#475569',textAlign:'center'}}>{out!==null?out:'?'}</div>
      </div>
    </div>
    <div style={{textAlign:'center',marginTop:10}}>
      <button onClick={run} disabled={running} style={{padding:'4px 16px',borderRadius:6,border:'none',background:running?'#334155':'#6366f1',color:'#fff',cursor:running?'wait':'pointer',fontSize:12}}>{running?'Processing...':'Run Function'}</button>
    </div>
  </div>
},
'list-visual':()=>{
  const[items,setItems]=React.useState(['ğŸ','ğŸŒ','ğŸ’']);
  const add=()=>setItems(p=>[...p,'ğŸ‡']);const rem=()=>setItems(p=>p.slice(0,-1));const reset=()=>setItems(['ğŸ','ğŸŒ','ğŸ’']);
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:4,justifyContent:'center',marginBottom:8}}>
      {items.map((it,i)=><div key={i} style={{width:44,height:44,borderRadius:6,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',background:'#0f172a',border:'1px solid #334155'}}>
        <span style={{fontSize:18}}>{it}</span>
        <span style={{color:'#64748b',fontSize:9,fontFamily:'monospace'}}>[{i}]</span>
      </div>)}
      {items.length===0&&<div style={{color:'#475569',fontSize:12,padding:12}}>Empty list []</div>}
    </div>
    <div style={{textAlign:'center',color:'#c8d0dc',fontSize:11,marginBottom:8}}>len = {items.length} | index: 0 to {Math.max(0,items.length-1)}</div>
    <div style={{display:'flex',gap:6,justifyContent:'center'}}>
      <button onClick={add} style={{padding:'3px 10px',borderRadius:4,border:'none',background:'#166534',color:'#34d399',cursor:'pointer',fontSize:11}}>.append(ğŸ‡)</button>
      <button onClick={rem} disabled={!items.length} style={{padding:'3px 10px',borderRadius:4,border:'none',background:items.length?'#7f1d1d':'#1e293b',color:items.length?'#fca5a5':'#475569',cursor:items.length?'pointer':'default',fontSize:11}}>.pop()</button>
      <button onClick={reset} style={{padding:'3px 10px',borderRadius:4,border:'none',background:'#334155',color:'#e2e8f0',cursor:'pointer',fontSize:11}}>Reset</button>
    </div>
  </div>
},
'dict-visual':()=>{
  const d=[{k:'name',v:'"Alice"',c:'#a78bfa'},{k:'age',v:'25',c:'#60a5fa'},{k:'city',v:'"NYC"',c:'#34d399'}];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:8,justifyContent:'center',flexWrap:'wrap'}}>
      {d.map((x,i)=><div key={i} style={{display:'flex',alignItems:'center',border:'1px solid #334155',borderRadius:8,overflow:'hidden'}}>
        <div style={{padding:'8px 12px',background:'rgba(15,23,42,0.8)',fontFamily:'monospace',fontSize:13,color:x.c}}>{x.k}</div>
        <div style={{padding:'8px 4px',color:'#475569'}}>â†’</div>
        <div style={{padding:'8px 12px',background:'#0f172a',fontFamily:'monospace',fontSize:13,color:'#e2e8f0'}}>{x.v}</div>
      </div>)}
    </div>
    <p style={{textAlign:'center',color:'#c8d0dc',fontSize:11,marginTop:8}}>Dictionary = key â†’ value pairs (like a phone book: name â†’ number)</p>
  </div>
},

'http-flow':()=>{
  const[phase,setPhase]=React.useState(0);
  React.useEffect(()=>{const t=setInterval(()=>setPhase(p=>(p+1)%4),2000);return()=>clearInterval(t)},[]);
  const ph=[
    {i:'ğŸ’»',l:'Your Code',d:'requests.get(url)',c:'#818cf8'},
    {i:'ğŸŒ',l:'Internet',d:'HTTP Request â†’',c:'#fbbf24'},
    {i:'ğŸ–¥ï¸',l:'Web Server',d:'Processes request',c:'#f87171'},
    {i:'ğŸ“„',l:'HTML Response',d:'â† Status 200 + HTML',c:'#34d399'}
  ];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:6,flexWrap:'wrap'}}>
      {ph.map((p,i)=><React.Fragment key={i}>
        <div style={{textAlign:'center',padding:10,borderRadius:8,background:i===phase?'rgba(99,102,241,0.2)':'transparent',border:i===phase?'2px solid '+p.c:'2px solid transparent',transition:'all 0.5s',minWidth:80}}>
          <div style={{fontSize:24}}>{p.i}</div>
          <div style={{color:p.c,fontSize:10,fontWeight:600}}>{p.l}</div>
          <div style={{color:'#64748b',fontSize:9}}>{p.d}</div>
        </div>
        {i<3&&<div style={{color:i===phase?'#6366f1':'#334155',fontSize:14}}>â†’</div>}
      </React.Fragment>)}
    </div>
  </div>
},
'html-tree':()=>{
  const[hl,setHl]=React.useState(null);
  const nodes=[
    {tag:'html',depth:0,c:'#64748b'},
    {tag:'head',depth:1,c:'#64748b'},
    {tag:'title',depth:2,c:'#fbbf24',text:'"My Page"'},
    {tag:'body',depth:1,c:'#64748b'},
    {tag:'h1',depth:2,c:'#818cf8',text:'"Welcome"',cls:''},
    {tag:'div',depth:2,c:'#64748b',cls:'class="content"'},
    {tag:'p',depth:3,c:'#34d399',text:'"Hello World"',cls:'class="intro"'},
    {tag:'a',depth:3,c:'#f87171',text:'"Click me"',cls:'href="/about"'}
  ];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{fontFamily:'monospace',fontSize:12}}>
      {nodes.map((n,i)=><div key={i} style={{paddingLeft:n.depth*20,marginBottom:3,cursor:'pointer',background:hl===i?'rgba(99,102,241,0.15)':'transparent',borderRadius:4,padding:'2px 6px'}} onClick={()=>setHl(hl===i?null:i)}>
        <span style={{color:'#475569'}}>&lt;</span>
        <span style={{color:n.c,fontWeight:600}}>{n.tag}</span>
        {n.cls&&<span style={{color:'#c8d0dc'}}> {n.cls}</span>}
        <span style={{color:'#475569'}}>&gt;</span>
        {n.text&&<span style={{color:'#e2e8f0'}}> {n.text}</span>}
      </div>)}
    </div>
    <p style={{color:'#c8d0dc',fontSize:11,marginTop:8,textAlign:'center'}}>HTML is a tree â€” tags nest inside each other. Click to highlight.</p>
  </div>
},
'selector-cheat':()=>{
  const sels=[
    {sel:"soup.find('h1')",desc:'First <h1> tag',c:'#818cf8'},
    {sel:"soup.find_all('p')",desc:'ALL <p> tags (list)',c:'#34d399'},
    {sel:"soup.select('.intro')",desc:'class="intro"',c:'#fbbf24'},
    {sel:"soup.select_one('#main')",desc:'id="main"',c:'#f87171'},
    {sel:"soup.select('div > p')",desc:'<p> directly inside <div>',c:'#a78bfa'},
    {sel:"tag.get('href')",desc:'Get attribute value safely',c:'#60a5fa'}
  ];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:12,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(240px,1fr))',gap:6}}>
      {sels.map((s,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:8,padding:'6px 8px',borderRadius:6,background:'#0f172a'}}>
        <code style={{color:s.c,fontSize:11,fontFamily:'monospace',flexShrink:0}}>{s.sel}</code>
        <span style={{color:'#64748b',fontSize:10}}>â†’ {s.desc}</span>
      </div>)}
    </div>
  </div>
},
'scraper-template':()=>{
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',gap:8,marginBottom:10}}><span style={{fontSize:16}}>ğŸ—ï¸</span><span style={{color:'#10b981',fontWeight:600,fontSize:13}}>Scraper Template</span></div>
    <div style={{fontFamily:'monospace',fontSize:11,color:'#c8d0dc',lineHeight:1.6}}>
      <div><span style={{color:'#c084fc'}}>import</span> requests</div>
      <div><span style={{color:'#c084fc'}}>from</span> bs4 <span style={{color:'#c084fc'}}>import</span> BeautifulSoup</div>
      <div style={{marginTop:6}}><span style={{color:'#64748b'}}># 1. Fetch the page</span></div>
      <div>r = requests.get(url, headers=<span style={{color:'#fbbf24'}}>headers</span>)</div>
      <div style={{marginTop:4}}><span style={{color:'#64748b'}}># 2. Parse HTML</span></div>
      <div>soup = BeautifulSoup(r.text, <span style={{color:'#34d399'}}>'html.parser'</span>)</div>
      <div style={{marginTop:4}}><span style={{color:'#64748b'}}># 3. Find elements</span></div>
      <div>items = soup.select(<span style={{color:'#34d399'}}>'.product-card'</span>)</div>
      <div style={{marginTop:4}}><span style={{color:'#64748b'}}># 4. Extract data</span></div>
      <div><span style={{color:'#c084fc'}}>for</span> item <span style={{color:'#c084fc'}}>in</span> items:</div>
      <div style={{paddingLeft:16}}>title = item.select_one(<span style={{color:'#34d399'}}>'.title'</span>).text</div>
      <div style={{paddingLeft:16}}>price = item.select_one(<span style={{color:'#34d399'}}>'.price'</span>).text</div>
    </div>
  </div>
},

'db-concept':()=>{
  const tables=[
    {name:'users',cols:['id','name','email'],rows:[['1','Alice','alice@...'],['2','Bob','bob@...']]},
    {name:'orders',cols:['id','user_id','product'],rows:[['1','1','Laptop'],['2','2','Phone'],['3','1','Mouse']]}
  ];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:16,justifyContent:'center',flexWrap:'wrap'}}>
      {tables.map((t,ti)=><div key={ti} style={{border:'1px solid #334155',borderRadius:8,overflow:'hidden',minWidth:200}}>
        <div style={{background:'#1e293b',padding:'6px 12px',fontWeight:600,color:'#fbbf24',fontSize:12}}>{t.name}</div>
        <table style={{width:'100%',borderCollapse:'collapse'}}>
          <thead><tr>{t.cols.map((c,i)=><th key={i} style={{padding:'4px 8px',background:'#0f172a',color:'#c8d0dc',fontSize:10,borderBottom:'1px solid #334155',textAlign:'left'}}>{c}</th>)}</tr></thead>
          <tbody>{t.rows.map((r,ri)=><tr key={ri}>{r.map((c,ci)=><td key={ci} style={{padding:'4px 8px',color:ci===0?'#60a5fa':'#cbd5e1',fontSize:11,fontFamily:'monospace',borderBottom:'1px solid #1e293b'}}>{c}</td>)}</tr>)}</tbody>
        </table>
      </div>)}
    </div>
    <div style={{textAlign:'center',marginTop:8}}>
      <span style={{color:'#f87171',fontSize:11}}>orders.user_id</span>
      <span style={{color:'#475569',fontSize:11}}> â†’ </span>
      <span style={{color:'#60a5fa',fontSize:11}}>users.id</span>
      <span style={{color:'#64748b',fontSize:10}}> (foreign key relationship)</span>
    </div>
  </div>
},
'join-visual':()=>{
  const[type,setType]=React.useState('inner');
  const left=[{id:1,n:'Alice'},{id:2,n:'Bob'},{id:3,n:'Carol'}];
  const right=[{uid:1,p:'Laptop'},{uid:1,p:'Mouse'},{uid:2,p:'Phone'}];
  const results={
    inner:[{n:'Alice',p:'Laptop'},{n:'Alice',p:'Mouse'},{n:'Bob',p:'Phone'}],
    left:[{n:'Alice',p:'Laptop'},{n:'Alice',p:'Mouse'},{n:'Bob',p:'Phone'},{n:'Carol',p:'NULL'}]
  };
  const r=results[type]||results.inner;
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',gap:6,justifyContent:'center',marginBottom:12}}>
      {['inner','left'].map(t=><button key={t} onClick={()=>setType(t)} style={{padding:'4px 12px',borderRadius:6,fontSize:11,border:'none',cursor:'pointer',background:type===t?'#f59e0b':'#1e293b',color:type===t?'#000':'#c8d0dc',fontWeight:type===t?600:400,textTransform:'uppercase'}}>{t} join</button>)}
    </div>
    <div style={{display:'flex',gap:12,justifyContent:'center',flexWrap:'wrap',alignItems:'flex-start'}}>
      <div style={{border:'1px solid #334155',borderRadius:6,overflow:'hidden'}}>
        <div style={{background:'#1e293b',padding:'3px 8px',color:'#60a5fa',fontSize:10,fontWeight:600}}>users</div>
        {left.map((l,i)=><div key={i} style={{padding:'3px 8px',fontSize:11,fontFamily:'monospace',color:r.some(x=>x.n===l.n)?'#e2e8f0':'#475569',background:r.some(x=>x.n===l.n)?'rgba(96,165,250,0.1)':'transparent'}}>{l.id} {l.n}</div>)}
      </div>
      <div style={{color:'#f59e0b',fontSize:20,alignSelf:'center'}}>â‹ˆ</div>
      <div style={{border:'1px solid #334155',borderRadius:6,overflow:'hidden'}}>
        <div style={{background:'#1e293b',padding:'3px 8px',color:'#f87171',fontSize:10,fontWeight:600}}>orders</div>
        {right.map((o,i)=><div key={i} style={{padding:'3px 8px',fontSize:11,fontFamily:'monospace',color:'#e2e8f0'}}>{o.uid} {o.p}</div>)}
      </div>
      <div style={{color:'#64748b',fontSize:16,alignSelf:'center'}}>=</div>
      <div style={{border:'1px solid #334155',borderRadius:6,overflow:'hidden'}}>
        <div style={{background:'#1e293b',padding:'3px 8px',color:'#34d399',fontSize:10,fontWeight:600}}>result</div>
        {r.map((x,i)=><div key={i} style={{padding:'3px 8px',fontSize:11,fontFamily:'monospace',color:x.p==='NULL'?'#475569':'#e2e8f0'}}>{x.n} | {x.p}</div>)}
      </div>
    </div>
    <p style={{textAlign:'center',color:'#c8d0dc',fontSize:11,marginTop:8}}>{type==='inner'?'INNER JOIN: only rows that match in BOTH tables':'LEFT JOIN: ALL rows from left + matches from right (NULL if no match)'}</p>
  </div>
},
'crud-ops':()=>{
  const ops=[
    {name:'CREATE',sql:'CREATE TABLE users (...)',icon:'ğŸ—ï¸',color:'#818cf8',desc:'Define table structure'},
    {name:'INSERT',sql:"INSERT INTO users VALUES (...)",icon:'â•',color:'#34d399',desc:'Add new rows'},
    {name:'SELECT',sql:'SELECT * FROM users WHERE ...',icon:'ğŸ”',color:'#60a5fa',desc:'Read/query data'},
    {name:'UPDATE',sql:'UPDATE users SET age=26 WHERE ...',icon:'âœï¸',color:'#fbbf24',desc:'Modify existing rows'},
    {name:'DELETE',sql:'DELETE FROM users WHERE ...',icon:'ğŸ—‘ï¸',color:'#f87171',desc:'Remove rows'}
  ];
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:12,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(140px,1fr))',gap:6}}>
      {ops.map((o,i)=><div key={i} style={{background:'#0f172a',borderRadius:6,padding:8,textAlign:'center',border:'1px solid #1e293b'}}>
        <div style={{fontSize:18}}>{o.icon}</div>
        <div style={{color:o.color,fontWeight:600,fontSize:12}}>{o.name}</div>
        <div style={{fontFamily:'monospace',color:'#475569',fontSize:9,marginTop:2}}>{o.sql}</div>
        <div style={{color:'#64748b',fontSize:10,marginTop:2}}>{o.desc}</div>
      </div>)}
    </div>
  </div>
},

'project-flow':()=>{
  const steps=[
    {i:'ğŸ¤”',l:'Plan',d:'Break the problem down',c:'#818cf8'},
    {i:'ğŸ—ï¸',l:'Build',d:'Write code step by step',c:'#fbbf24'},
    {i:'ğŸ§ª',l:'Test',d:'Try different inputs',c:'#34d399'},
    {i:'âœ¨',l:'Improve',d:'Refactor & add features',c:'#f87171'}
  ];
  const[step,setStep]=React.useState(0);
  React.useEffect(()=>{const t=setInterval(()=>setStep(s=>(s+1)%4),2000);return()=>clearInterval(t)},[]);
  return <div style={{background:'rgba(30,41,59,0.8)',borderRadius:12,padding:16,margin:'16px 0',border:'1px solid #334155'}}>
    <div style={{display:'flex',alignItems:'center',justifyContent:'center',gap:8,flexWrap:'wrap'}}>
      {steps.map((s,i)=><React.Fragment key={i}>
        <div style={{textAlign:'center',padding:10,borderRadius:8,background:i===step?'rgba(99,102,241,0.15)':'transparent',border:i===step?'2px solid '+s.c:'2px solid transparent',transition:'all 0.5s',minWidth:80}}>
          <div style={{fontSize:22}}>{s.i}</div>
          <div style={{color:s.c,fontSize:11,fontWeight:600}}>{s.l}</div>
          <div style={{color:'#64748b',fontSize:9}}>{s.d}</div>
        </div>
        {i<3&&<div style={{color:i===step?'#6366f1':'#334155',fontSize:14}}>â†’</div>}
      </React.Fragment>)}
    </div>
  </div>
},
};
const DiagramSummary=({items,th})=><div style={{background:th?`${th.accent}10`:'linear-gradient(135deg,rgba(99,102,241,0.1),rgba(139,92,246,0.1))',borderRadius:12,padding:16,margin:'16px 0',border:`1px solid ${th?th.accent+'30':'rgba(99,102,241,0.3)'}`}}>
  <div style={{display:'flex',alignItems:'center',gap:8,marginBottom:10}}><span style={{fontSize:16}}>ğŸ“‹</span><span style={{color:th?th.accent:'#a5b4fc',fontWeight:600,fontSize:14}}>Summary</span></div>
  {items.map((it,i)=><div key={i} style={{display:'flex',alignItems:'flex-start',gap:8,marginBottom:5}}><span style={{color:th?th.success:'#6366f1',flexShrink:0}}>âœ“</span><span style={{color:th?th.text:'#cbd5e1',fontSize:13}}>{it}</span></div>)}
</div>;


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COURSE DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•




const PRE_T={"c:0:title": {"zh": "Python å…¥é—¨", "es": "Primeros Pasos con Python", "fr": "DÃ©buter avec Python", "ja": "Pythonã‚’ã¯ã˜ã‚ã‚ˆã†", "ko": "Python ì‹œì‘í•˜ê¸°", "pt": "Primeiros Passos com Python", "de": "Erste Schritte mit Python"}, "c:0:desc": {"zh": "ä»å®‰è£… Python åˆ°è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº â€” é›¶åŸºç¡€å®Œå…¨æŒ‡å—ã€‚", "es": "Desde instalar Python hasta ejecutar tu primer programa â€” guÃ­a completa desde cero.", "fr": "De l'installation de Python Ã  l'exÃ©cution de votre premier programme â€” guide complet.", "ja": "Pythonã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã‚‰æœ€åˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œã¾ã§ â€” å®Œå…¨åˆå¿ƒè€…ã‚¬ã‚¤ãƒ‰ã€‚", "ko": "Python ì„¤ì¹˜ë¶€í„° ì²« í”„ë¡œê·¸ë¨ ì‹¤í–‰ê¹Œì§€ â€” ì™„ì „ ì´ˆë³´ì ê°€ì´ë“œ.", "pt": "Da instalaÃ§Ã£o do Python atÃ© seu primeiro programa â€” guia completo do zero.", "de": "Von der Python-Installation bis zum ersten Programm â€” kompletter AnfÃ¤ngerleitfaden."}, "c:1:title": {"zh": "Python åŸºç¡€", "es": "Fundamentos de Python", "fr": "Les Bases de Python", "ja": "PythonåŸºç¤", "ko": "Python ê¸°ì´ˆ", "pt": "Fundamentos de Python", "de": "Python Grundlagen"}, "c:1:desc": {"zh": "å˜é‡ã€å‡½æ•°ã€å¾ªç¯ã€æ•°æ®ç»“æ„ â€” æŒæ¡ Python æ ¸å¿ƒæŠ€èƒ½ã€‚", "es": "Variables, funciones, bucles, estructuras de datos â€” domina las habilidades esenciales.", "fr": "Variables, fonctions, boucles, structures de donnÃ©es â€” maÃ®trisez les compÃ©tences essentielles.", "ja": "å¤‰æ•°ã€é–¢æ•°ã€ãƒ«ãƒ¼ãƒ—ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€  â€” Python ã®ã‚³ã‚¢ã‚¹ã‚­ãƒ«ã‚’ãƒã‚¹ã‚¿ãƒ¼ã€‚", "ko": "ë³€ìˆ˜, í•¨ìˆ˜, ë°˜ë³µë¬¸, ìë£Œêµ¬ì¡° â€” Python í•µì‹¬ ìŠ¤í‚¬ ë§ˆìŠ¤í„°.", "pt": "VariÃ¡veis, funÃ§Ãµes, loops, estruturas de dados â€” domine as habilidades essenciais.", "de": "Variablen, Funktionen, Schleifen, Datenstrukturen â€” Python-Kernkompetenzen meistern."}, "c:2:title": {"zh": "Python ç½‘é¡µçˆ¬è™«", "es": "Python para Web Scraping", "fr": "Python pour le Web Scraping", "ja": "Pythonã§Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°", "ko": "Python ì›¹ ìŠ¤í¬ë˜í•‘", "pt": "Python para Web Scraping", "de": "Python fÃ¼r Web Scraping"}, "c:2:desc": {"zh": "ä»ç†è§£ HTML åˆ°æ„å»ºå®Œæ•´çš„ç½‘é¡µçˆ¬è™« â€” å­¦ä¼šä»ç½‘ç«™æå–æ•°æ®ã€‚", "es": "Desde entender HTML hasta construir scrapers completos â€” aprende a extraer datos.", "fr": "De la comprÃ©hension du HTML Ã  la construction de scrapers â€” apprenez Ã  extraire des donnÃ©es.", "ja": "HTMLã®ç†è§£ã‹ã‚‰å®Œå…¨ãªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼æ§‹ç¯‰ã¾ã§ â€” Webã‚µã‚¤ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã€‚", "ko": "HTML ì´í•´ë¶€í„° ì™„ì „í•œ ìŠ¤í¬ë˜í¼ êµ¬ì¶•ê¹Œì§€ â€” ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë°ì´í„° ì¶”ì¶œ.", "pt": "De entender HTML a construir scrapers completos â€” aprenda a extrair dados de sites.", "de": "Vom HTML-VerstÃ¤ndnis bis zum vollstÃ¤ndigen Scraper â€” Daten aus Websites extrahieren."}, "c:3:title": {"zh": "Python ä¸ SQL æ•°æ®åº“", "es": "Python para SQL y Bases de Datos", "fr": "Python pour SQL et Bases de DonnÃ©es", "ja": "Pythonã§SQLãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹", "ko": "Python SQL ë° ë°ì´í„°ë² ì´ìŠ¤", "pt": "Python para SQL e Bancos de Dados", "de": "Python fÃ¼r SQL & Datenbanken"}, "c:3:desc": {"zh": "å­˜å‚¨ã€æŸ¥è¯¢å’Œåˆ†ææ•°æ® â€” ä»åŸºç¡€ SQL åˆ°å®é™…é¡¹ç›®ã€‚", "es": "Almacenar, consultar y analizar datos â€” desde SQL bÃ¡sico hasta proyectos reales.", "fr": "Stocker, interroger et analyser des donnÃ©es â€” du SQL de base aux projets rÃ©els.", "ja": "ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»ã‚¯ã‚¨ãƒªãƒ»åˆ†æ â€” åŸºæœ¬SQLã‹ã‚‰å®Ÿè·µãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¾ã§ã€‚", "ko": "ë°ì´í„° ì €ì¥, ì¿¼ë¦¬, ë¶„ì„ â€” ê¸°ë³¸ SQLë¶€í„° ì‹¤ì „ í”„ë¡œì íŠ¸ê¹Œì§€.", "pt": "Armazenar, consultar e analisar dados â€” do SQL bÃ¡sico a projetos reais.", "de": "Daten speichern, abfragen und analysieren â€” von SQL-Grundlagen bis zu realen Projekten."}, "c:4:title": {"zh": "å®æˆ˜é¡¹ç›®", "es": "Proyectos PrÃ¡cticos", "fr": "Projets Pratiques", "ja": "å®Ÿè·µãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "ko": "ì‹¤ì „ í”„ë¡œì íŠ¸", "pt": "Projetos PrÃ¡ticos", "de": "Praxisprojekte"}, "c:4:desc": {"zh": "è¿ç”¨æ‰€å­¦çŸ¥è¯† â€” ä»åˆçº§åˆ°é«˜çº§çš„çœŸå®é¡¹ç›®ã€‚", "es": "Aplica todo lo aprendido â€” proyectos reales de principiante a avanzado.", "fr": "Appliquez tout ce que vous avez appris â€” projets rÃ©els du dÃ©butant Ã  l'avancÃ©.", "ja": "å­¦ã‚“ã ã“ã¨ã‚’æ´»ã‹ãã† â€” åˆç´šã‹ã‚‰ä¸Šç´šã¾ã§ã®å®Ÿè·µãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€‚", "ko": "ë°°ìš´ ê²ƒì„ ì ìš©í•˜ì„¸ìš” â€” ì´ˆê¸‰ë¶€í„° ê³ ê¸‰ê¹Œì§€ ì‹¤ì „ í”„ë¡œì íŠ¸.", "pt": "Aplique tudo que aprendeu â€” projetos reais do iniciante ao avanÃ§ado.", "de": "Wende alles Gelernte an â€” reale Projekte von AnfÃ¤nger bis Fortgeschritten."}, "t:0:0:title": {"zh": "ä»€ä¹ˆæ˜¯ç¼–ç¨‹ï¼Ÿ", "es": "Â¿QuÃ© es la ProgramaciÃ³n?", "fr": "Qu'est-ce que la Programmation ?", "ja": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã¯ï¼Ÿ", "ko": "í”„ë¡œê·¸ë˜ë°ì´ë€?", "pt": "O que Ã© ProgramaÃ§Ã£o?", "de": "Was ist Programmierung?"}, "t:0:1:title": {"zh": "å®‰è£… Python", "es": "Instalar Python", "fr": "Installer Python", "ja": "Pythonã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«", "ko": "Python ì„¤ì¹˜í•˜ê¸°", "pt": "Instalando o Python", "de": "Python installieren"}, "t:0:2:title": {"zh": "è¿è¡Œ Python çš„æ–¹å¼", "es": "Formas de Ejecutar Python", "fr": "FaÃ§ons d'ExÃ©cuter Python", "ja": "Pythonã®å®Ÿè¡Œæ–¹æ³•", "ko": "Python ì‹¤í–‰ ë°©ë²•", "pt": "Formas de Executar Python", "de": "MÃ¶glichkeiten Python auszufÃ¼hren"}, "t:0:3:title": {"zh": "ä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº", "es": "Tu Primer Programa", "fr": "Votre Premier Programme", "ja": "åˆã‚ã¦ã®æœ¬æ ¼ãƒ—ãƒ­ã‚°ãƒ©ãƒ ", "ko": "ì²« ë²ˆì§¸ í”„ë¡œê·¸ë¨", "pt": "Seu Primeiro Programa", "de": "Dein erstes Programm"}, "t:0:4:title": {"zh": "åŒ…ç®¡ç†å™¨ & pip", "es": "Paquetes & pip", "fr": "Paquets & pip", "ja": "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ & pip", "ko": "íŒ¨í‚¤ì§€ & pip", "pt": "Pacotes & pip", "de": "Pakete & pip"}, "t:0:5:title": {"zh": "ä¿å­˜ä¸åˆ†äº«ä»£ç ", "es": "Guardar y Compartir CÃ³digo", "fr": "Sauvegarder et Partager du Code", "ja": "ã‚³ãƒ¼ãƒ‰ã®ä¿å­˜ã¨å…±æœ‰", "ko": "ì½”ë“œ ì €ì¥ ë° ê³µìœ ", "pt": "Salvando e Compartilhando CÃ³digo", "de": "Code Speichern und Teilen"}, "t:1:0:title": {"zh": "å˜é‡ã€ç±»å‹ä¸è¡¨è¾¾å¼", "es": "Variables, Tipos y Expresiones", "fr": "Variables, Types et Expressions", "ja": "å¤‰æ•°ãƒ»å‹ãƒ»å¼", "ko": "ë³€ìˆ˜, íƒ€ì… & í‘œí˜„ì‹", "pt": "VariÃ¡veis, Tipos e ExpressÃµes", "de": "Variablen, Typen & AusdrÃ¼cke"}, "t:1:1:title": {"zh": "æ§åˆ¶æµ", "es": "Flujo de Control", "fr": "Flux de ContrÃ´le", "ja": "åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼", "ko": "ì œì–´ íë¦„", "pt": "Fluxo de Controle", "de": "Kontrollfluss"}, "t:1:2:title": {"zh": "åˆ—è¡¨ã€å…ƒç»„ä¸å­—ç¬¦ä¸²", "es": "Listas, Tuplas y Strings", "fr": "Listes, Tuples et ChaÃ®nes", "ja": "ãƒªã‚¹ãƒˆãƒ»ã‚¿ãƒ—ãƒ«ãƒ»æ–‡å­—åˆ—", "ko": "ë¦¬ìŠ¤íŠ¸, íŠœí”Œ & ë¬¸ìì—´", "pt": "Listas, Tuplas e Strings", "de": "Listen, Tupel & Strings"}, "t:1:3:title": {"zh": "å‡½æ•°", "es": "Funciones", "fr": "Fonctions", "ja": "é–¢æ•°", "ko": "í•¨ìˆ˜", "pt": "FunÃ§Ãµes", "de": "Funktionen"}, "t:1:4:title": {"zh": "å­—å…¸ä¸é›†åˆ", "es": "Diccionarios y Conjuntos", "fr": "Dictionnaires et Ensembles", "ja": "è¾æ›¸ã¨ã‚»ãƒƒãƒˆ", "ko": "ë”•ì…”ë„ˆë¦¬ & ì„¸íŠ¸", "pt": "DicionÃ¡rios e Conjuntos", "de": "Dictionaries & Sets"}, "t:1:5:title": {"zh": "æ–‡ä»¶æ“ä½œ", "es": "Trabajo con Archivos", "fr": "Travailler avec des Fichiers", "ja": "ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ", "ko": "íŒŒì¼ ì‘ì—…", "pt": "Trabalhando com Arquivos", "de": "Arbeiten mit Dateien"}, "t:1:6:title": {"zh": "é”™è¯¯å¤„ç†", "es": "Manejo de Errores", "fr": "Gestion des Erreurs", "ja": "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "ko": "ì—ëŸ¬ ì²˜ë¦¬", "pt": "Tratamento de Erros", "de": "Fehlerbehandlung"}, "t:1:7:title": {"zh": "ç±»ä¸å¯¹è±¡", "es": "Clases y Objetos", "fr": "Classes et Objets", "ja": "ã‚¯ãƒ©ã‚¹ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", "ko": "í´ë˜ìŠ¤ & ê°ì²´", "pt": "Classes e Objetos", "de": "Klassen & Objekte"}, "t:1:8:title": {"zh": "NumPy åŸºç¡€", "es": "Fundamentos de NumPy", "fr": "Les Bases de NumPy", "ja": "NumPyåŸºç¤", "ko": "NumPy ê¸°ì´ˆ", "pt": "Fundamentos de NumPy", "de": "NumPy Grundlagen"}, "t:1:9:title": {"zh": "Pandas åŸºç¡€", "es": "Fundamentos de Pandas", "fr": "Les Bases de Pandas", "ja": "PandasåŸºç¤", "ko": "Pandas ê¸°ì´ˆ", "pt": "Fundamentos de Pandas", "de": "Pandas Grundlagen"}, "t:1:10:title": {"zh": "ğŸ† æ¯•ä¸šé¡¹ç›®", "es": "ğŸ† Proyecto Final", "fr": "ğŸ† Projet Final", "ja": "ğŸ† ç·åˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "ko": "ğŸ† ìº¡ìŠ¤í†¤ í”„ë¡œì íŠ¸", "pt": "ğŸ† Projeto Final", "de": "ğŸ† Abschlussprojekt"}, "t:2:0:title": {"zh": "ç†è§£ Web", "es": "Entendiendo la Web", "fr": "Comprendre le Web", "ja": "Webã‚’ç†è§£ã™ã‚‹", "ko": "ì›¹ ì´í•´í•˜ê¸°", "pt": "Entendendo a Web", "de": "Das Web verstehen"}, "t:2:1:title": {"zh": "Python HTTP è¯·æ±‚", "es": "Peticiones HTTP con Python", "fr": "RequÃªtes HTTP avec Python", "ja": "Pythonã§HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ", "ko": "Python HTTP ìš”ì²­", "pt": "RequisiÃ§Ãµes HTTP com Python", "de": "HTTP-Anfragen mit Python"}, "t:2:2:title": {"zh": "BeautifulSoup è§£æ HTML", "es": "Analizando HTML con BeautifulSoup", "fr": "Analyser le HTML avec BeautifulSoup", "ja": "BeautifulSoupã§HTMLè§£æ", "ko": "BeautifulSoupìœ¼ë¡œ HTML íŒŒì‹±", "pt": "Analisando HTML com BeautifulSoup", "de": "HTML parsen mit BeautifulSoup"}, "t:2:3:title": {"zh": "æ­£åˆ™è¡¨è¾¾å¼ä¸æ•°æ®æ¸…æ´—", "es": "Regex y Limpieza de Datos", "fr": "Regex et Nettoyage de DonnÃ©es", "ja": "æ­£è¦è¡¨ç¾ã¨ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ko": "ì •ê·œì‹ & ë°ì´í„° ì •ì œ", "pt": "Regex e Limpeza de Dados", "de": "Regex & Datenbereinigung"}, "t:2:4:title": {"zh": "å®æˆ˜çˆ¬è™«æŠ€å·§", "es": "TÃ©cnicas Reales de Scraping", "fr": "Techniques de Scraping RÃ©elles", "ja": "å®Ÿè·µã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æŠ€è¡“", "ko": "ì‹¤ì „ ìŠ¤í¬ë˜í•‘ ê¸°ë²•", "pt": "TÃ©cnicas Reais de Scraping", "de": "Praxisnahe Scraping-Techniken"}, "t:2:5:title": {"zh": "ğŸ† çˆ¬è™«æ¯•ä¸šé¡¹ç›®", "es": "ğŸ† Proyecto Final de Scraping", "fr": "ğŸ† Projet Final de Scraping", "ja": "ğŸ† ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ç·åˆ", "ko": "ğŸ† ìŠ¤í¬ë˜í•‘ ìº¡ìŠ¤í†¤", "pt": "ğŸ† Projeto Final de Scraping", "de": "ğŸ† Scraping Abschlussprojekt"}, "t:3:0:title": {"zh": "ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼Ÿ", "es": "Â¿QuÃ© son las Bases de Datos?", "fr": "Qu'est-ce qu'une Base de DonnÃ©es ?", "ja": "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã¯ï¼Ÿ", "ko": "ë°ì´í„°ë² ì´ìŠ¤ë€?", "pt": "O que sÃ£o Bancos de Dados?", "de": "Was sind Datenbanken?"}, "t:3:1:title": {"zh": "SQLite ä¸ Python", "es": "SQLite con Python", "fr": "SQLite avec Python", "ja": "Pythonã§SQLite", "ko": "Python SQLite", "pt": "SQLite com Python", "de": "SQLite mit Python"}, "t:3:2:title": {"zh": "æŸ¥è¯¢æ•°æ®", "es": "Consultar Datos", "fr": "Interroger les DonnÃ©es", "ja": "ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª", "ko": "ë°ì´í„° ì¿¼ë¦¬", "pt": "Consultando Dados", "de": "Daten abfragen"}, "t:3:3:title": {"zh": "èšåˆä¸åˆ†ç»„", "es": "AgregaciÃ³n y AgrupaciÃ³n", "fr": "AgrÃ©gation et Regroupement", "ja": "é›†è¨ˆã¨ã‚°ãƒ«ãƒ¼ãƒ—åŒ–", "ko": "ì§‘ê³„ & ê·¸ë£¹í™”", "pt": "AgregaÃ§Ã£o e Agrupamento", "de": "Aggregation & Gruppierung"}, "t:3:4:title": {"zh": "è¡¨è¿æ¥", "es": "Uniendo Tablas", "fr": "Jointures de Tables", "ja": "ãƒ†ãƒ¼ãƒ–ãƒ«çµåˆ", "ko": "í…Œì´ë¸” ì¡°ì¸", "pt": "Juntando Tabelas", "de": "Tabellen verbinden"}, "t:3:5:title": {"zh": "Pandas + SQL æ•´åˆ", "es": "IntegraciÃ³n Pandas + SQL", "fr": "IntÃ©gration Pandas + SQL", "ja": "Pandas + SQLçµ±åˆ", "ko": "Pandas + SQL í†µí•©", "pt": "IntegraÃ§Ã£o Pandas + SQL", "de": "Pandas + SQL Integration"}, "t:3:6:title": {"zh": "ğŸ† SQL æ¯•ä¸šé¡¹ç›®ï¼šå›¾ä¹¦é¦†æ•°æ®åº“", "es": "ğŸ† Proyecto Final SQL: Biblioteca", "fr": "ğŸ† Projet Final SQL: BibliothÃ¨que", "ja": "ğŸ† SQLç·åˆï¼šå›³æ›¸é¤¨DB", "ko": "ğŸ† SQL ìº¡ìŠ¤í†¤: ë„ì„œê´€ DB", "pt": "ğŸ† Projeto Final SQL: Biblioteca", "de": "ğŸ† SQL Abschlussprojekt: Bibliothek"}, "t:4:0:title": {"zh": "å¦‚ä½•æ„å»ºé¡¹ç›®", "es": "CÃ³mo Construir Proyectos", "fr": "Comment Construire des Projets", "ja": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹", "ko": "í”„ë¡œì íŠ¸ êµ¬ì¶• ë°©ë²•", "pt": "Como Construir Projetos", "de": "Projekte erstellen"}, "t:4:1:title": {"zh": "ğŸ² çŒœæ•°å­—æ¸¸æˆ", "es": "ğŸ² Juego de Adivinar NÃºmeros", "fr": "ğŸ² Jeu de Devinette", "ja": "ğŸ² æ•°å½“ã¦ã‚²ãƒ¼ãƒ ", "ko": "ğŸ² ìˆ«ì ë§ì¶”ê¸° ê²Œì„", "pt": "ğŸ² Jogo de AdivinhaÃ§Ã£o", "de": "ğŸ² Zahlenratespiel"}, "t:4:2:title": {"zh": "ğŸ” å¯†ç ç”Ÿæˆå™¨", "es": "ğŸ” Generador de ContraseÃ±as", "fr": "ğŸ” GÃ©nÃ©rateur de Mots de Passe", "ja": "ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆå™¨", "ko": "ğŸ” ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°", "pt": "ğŸ” Gerador de Senhas", "de": "ğŸ” Passwortgenerator"}, "t:4:3:title": {"zh": "ğŸ“ å•ä½è½¬æ¢å™¨", "es": "ğŸ“ Conversor de Unidades", "fr": "ğŸ“ Convertisseur d'UnitÃ©s", "ja": "ğŸ“ å˜ä½å¤‰æ›å™¨", "ko": "ğŸ“ ë‹¨ìœ„ ë³€í™˜ê¸°", "pt": "ğŸ“ Conversor de Unidades", "de": "ğŸ“ Einheitenumrechner"}, "t:4:4:title": {"zh": "ğŸ’° è®°è´¦å·¥å…·", "es": "ğŸ’° Rastreador de Gastos", "fr": "ğŸ’° Suivi des DÃ©penses", "ja": "ğŸ’° æ”¯å‡ºãƒˆãƒ©ãƒƒã‚«ãƒ¼", "ko": "ğŸ’° ì§€ì¶œ ì¶”ì ê¸°", "pt": "ğŸ’° Rastreador de Despesas", "de": "ğŸ’° Ausgabentracker"}, "t:4:5:title": {"zh": "ğŸ“š ä¹¦ç±ä»·æ ¼çˆ¬è™«", "es": "ğŸ“š Comparador de Precios de Libros", "fr": "ğŸ“š Comparateur de Prix de Livres", "ja": "ğŸ“š æ›¸ç±ä¾¡æ ¼ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼", "ko": "ğŸ“š ë„ì„œ ê°€ê²© ìŠ¤í¬ë˜í¼", "pt": "ğŸ“š Comparador de PreÃ§os de Livros", "de": "ğŸ“š Buchpreis-Scraper"}, "t:4:6:title": {"zh": "âœ… å¾…åŠäº‹é¡¹åº”ç”¨ï¼ˆæ•°æ®åº“ç‰ˆï¼‰", "es": "âœ… App de Tareas con Base de Datos", "fr": "âœ… App Todo avec Base de DonnÃ©es", "ja": "âœ… Todoã‚¢ãƒ—ãƒªã¨DB", "ko": "âœ… í•  ì¼ ì•± (ë°ì´í„°ë² ì´ìŠ¤)", "pt": "âœ… App de Tarefas com Banco de Dados", "de": "âœ… Todo-App mit Datenbank"}, "t:4:7:title": {"zh": "ğŸŒ¤ï¸ å¤©æ°”é¢æ¿", "es": "ğŸŒ¤ï¸ Panel del Clima", "fr": "ğŸŒ¤ï¸ Tableau de Bord MÃ©tÃ©o", "ja": "ğŸŒ¤ï¸ å¤©æ°—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰", "ko": "ğŸŒ¤ï¸ ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ", "pt": "ğŸŒ¤ï¸ Painel do Tempo", "de": "ğŸŒ¤ï¸ Wetter-Dashboard"}, "t:4:8:title": {"zh": "ğŸ“ˆ æŠ•èµ„ç»„åˆè¿½è¸ªå™¨", "es": "ğŸ“ˆ Rastreador de Portafolio", "fr": "ğŸ“ˆ Suivi de Portefeuille", "ja": "ğŸ“ˆ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒˆãƒ©ãƒƒã‚«ãƒ¼", "ko": "ğŸ“ˆ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì ê¸°", "pt": "ğŸ“ˆ Rastreador de PortfÃ³lio", "de": "ğŸ“ˆ Portfolio-Tracker"}};
const preT=(key,lang)=>PRE_T[key]?.[lang]||null;
const COURSES=[
{
id:'getting-started',title:'Getting Started with Python',icon:'ğŸš€',color:'#6366f1',
desc:'From zero to your first program. No experience needed.',
topics:[
{id:1001,title:"What is Programming?",icon:"ğŸ’¡",
lessons:[
{title:"Programming = Giving Instructions",content:"Imagine writing a recipe for someone who follows instructions **perfectly literally**.\n\nIf you say \"add some salt,\" a human knows roughly how much. But a computer would say: \"ERROR â€” how much is 'some'?\" You need to say \"add 0.5 teaspoons of salt.\"\n\n**Programming** is writing these precise, step-by-step instructions for a computer. The instructions are called **code**, and the language we write them in is called a **programming language**.\n\n[[[diagram:recipe-analogy]]]\n\nHere's the good news: you don't need to be a math genius. Programming is more like writing a very detailed to-do list than solving equations."},
{title:"What is Python?",content:"**Python** is one of many programming languages (others include JavaScript, Java, C++). Created in 1991 by Guido van Rossum, named after Monty Python â€” not the snake! ğŸ\n\n**Why learn Python first?**\n\nâ€¢ **Reads like English** â€” `print(\"Hello\")` does exactly what it says\nâ€¢ **Huge community** â€” millions of tutorials and free tools\nâ€¢ **Used everywhere** â€” data science, web, AI, automation\nâ€¢ **Forgiving** â€” fewer cryptic rules than most languages\n\n**Who uses Python?**\nâ€¢ Google, Netflix, Instagram, Spotify\nâ€¢ NASA for space data analysis\nâ€¢ Banks for financial modeling\nâ€¢ Scientists for research\n\nIf you can only learn one language, Python is the right choice."},
{title:"How Code Runs",content:"When you write Python code, here's what happens:\n\n[[[diagram:how-code-runs]]]\n\n**Key insight:** Python runs code **one line at a time**, top to bottom. Order matters!\n\n[[[terminal:Python â€” Line by Line:::>>> name = \"Alice\"|||>>> greeting = \"Hello, \" + name|||>>> print(greeting)|||Hello, Alice]]]\n\nIf you swapped lines 1 and 2, you'd get an error â€” Python would try to use `name` before it exists."},
{title:"Topic Summary",content:"[[[diagram:summary:Programming is writing precise step-by-step instructions for a computer|||Python is a beginner-friendly language that reads like English|||Python is used by Google, Netflix, NASA, and millions of developers|||Code runs top-to-bottom, one line at a time|||You don't need math skills â€” it's more like writing detailed instructions]]]"}
],
exercises:[
{title:"First print()",task:"Type print('Hello!') and run it.",starterCode:"# Type your first line of Python:\n",expectedOutput:"Hello!",hint:"print('Hello!') â€” include parentheses and quotes",bestExplanation:"print() displays text. Text must be in quotes (single ' or double \"). This is your most basic Python tool.",solutions:[{label:"â­ Best",code:"print('Hello!')",best:true},{label:"Double quotes",code:'print("Hello!")'}]},
{title:"Two Lines",task:"Print 'Line 1' then 'Line 2' on separate lines.",starterCode:"# Print two lines\n",expectedOutput:"Line 1\nLine 2",hint:"Two separate print() calls",bestExplanation:"Each print() adds a newline automatically. Two print() calls = two lines of output.",solutions:[{label:"â­ Best",code:"print('Line 1')\nprint('Line 2')",best:true}]}
]},
{id:1002,title:"Installing Python",icon:"â¬‡ï¸",
lessons:[
{title:"Check If You Have Python",content:"Before installing, check if Python is already on your computer.\n\n**On Mac** â€” open Terminal (Cmd+Space, type \"Terminal\"):\n```python\npython3 --version\n```\nIf you see `Python 3.10.0` or higher, you're good!\n\n**On Windows** â€” open Command Prompt (search \"cmd\"):\n```python\npython --version\n```\nIf you see `Python 3.x.x`, great! If not, follow the steps below.\n\n**What version?** Any Python 3.8+ is fine. Latest (3.12+) recommended. **Never use Python 2** â€” retired since 2020."},
{title:"Installing on Windows",content:"Follow these steps carefully â€” especially Step 3!\n\n[[[diagram:install-steps:windows]]]\n\n**The #1 mistake:** forgetting to check **\"Add Python to PATH\"**. This tells Windows where Python is. If you missed it, uninstall and reinstall.\n\n**Verify it works** â€” open Command Prompt:\n```python\npython --version\n```\nYou should see `Python 3.12.0` (or similar)."},
{title:"Installing on Mac",content:"Mac installation is straightforward:\n\n[[[diagram:install-steps:mac]]]\n\n**Important:** Use `python3` (not `python`) on Mac. Older Macs had Python 2 as the default.\n\n**Verify:**\n```python\npython3 --version\n```"},
{title:"No-Install Options",content:"Can't install? Use these online options:\n\n**Google Colab** (colab.research.google.com)\nâ€¢ Free, runs in your browser, just needs a Google account\nâ€¢ Great for learning and data science\n\n**Replit** (replit.com)\nâ€¢ Free online coding environment\nâ€¢ Good for quick experiments\n\n**PyLingo** exercises run in a simulated environment â€” practice here without installing anything! But for real projects, install Python locally."},
{title:"Topic Summary",content:"[[[diagram:summary:Check existing installation with python3 --version (Mac) or python --version (Windows)|||Download from python.org â€” get the latest Python 3.x|||Windows: CHECK \"Add Python to PATH\" during install!|||Mac: use python3 not python|||No-install options: Google Colab, Replit|||Verify before moving on]]]"}
],
exercises:[
{title:"Version Command",task:"Print the Mac command to check Python's version.",starterCode:"# Mac version check command?\n",expectedOutput:"python3 --version",hint:"On Mac, use python3",bestExplanation:"On Mac, 'python' might be Python 2. Always use 'python3'.",solutions:[{label:"â­ Best",code:"print('python3 --version')",best:true}]},
{title:"PATH",task:"Print the crucial Windows install checkbox text.",starterCode:"# Important Windows install step\n",expectedOutput:"Add Python to PATH",hint:"This checkbox is at the bottom of the installer",bestExplanation:"PATH tells Windows where to find Python. Without it, 'python' won't work in Command Prompt.",solutions:[{label:"â­ Best",code:"print('Add Python to PATH')",best:true}]}
]},
{id:1003,title:"Ways to Run Python",icon:"â–¶ï¸",
lessons:[
{title:"Overview",content:"There are several ways to write and run Python:\n\n[[[diagram:tools-comparison]]]\n\nDon't worry â€” you don't need all of these. We'll walk through each one."},
{title:"Python Interactive Shell (REPL)",content:"The simplest way to run Python â€” type commands and see results instantly:\n\n[[[terminal:Python 3.12 â€” Interactive Shell:::>>> 2 + 3|||5|||>>> \"hello\" * 3|||hellohellohello|||>>> len(\"Python\")|||6|||>>> type(42)|||int]]]\n\n**Start it:** Mac â†’ Terminal â†’ `python3` | Windows â†’ CMD â†’ `python`\n\nYou'll see `>>>` â€” Python waiting for instructions. Type code, press Enter.\n\n**Great for:** quick tests, calculator, exploring functions.\n**Not for:** saving work, real projects.\n\nExit with `exit()` or Ctrl+D (Mac) / Ctrl+Z+Enter (Windows)."},
{title:"Running .py Files",content:"For real programs, write code in a `.py` file:\n\n1. Open any text editor (even Notepad)\n2. Type your code:\n```python\nprint(\"Hello from my script!\")\nprint(\"Python is fun!\")\n```\n3. Save as `hello.py`\n4. Open Terminal/CMD, navigate to the folder:\n```python\ncd Desktop\n```\n5. Run it:\n```python\npython3 hello.py\n```\n\nThe `.py` file is your \"recipe\" â€” run it over and over, share it, modify it anytime."},
{title:"VS Code â€” Recommended Editor",content:"**Visual Studio Code** is the most popular free code editor.\n\n**Why VS Code?**\nâ€¢ Color-coded syntax\nâ€¢ Auto-completion as you type\nâ€¢ Error detection before running\nâ€¢ Built-in Terminal\n\n**Setup:**\n1. Download from **code.visualstudio.com**\n2. Install the **Python extension** (search in Extensions sidebar)\n3. Create file â†’ Save as `.py`\n4. Click â–¶ï¸ Run button\n\n**Pro tip:** VS Code has a built-in Terminal (View â†’ Terminal) â€” write and run code in one window."},
{title:"Jupyter Notebook",content:"**Jupyter** mixes code, text, and output in one document â€” like a lab notebook.\n\n**Great for beginners because:**\nâ€¢ See output right below each code block\nâ€¢ Add notes between code\nâ€¢ Run small pieces at a time\nâ€¢ Perfect for data exploration\n\n**Setup:**\n```python\npip install jupyter\njupyter notebook\n```\n\n**Or use Google Colab** â€” zero setup, just a browser and Google account.\n\n**Key shortcuts:**\nâ€¢ **Shift+Enter** â€” run cell, move to next\nâ€¢ **Ctrl+Enter** â€” run cell, stay"},
{title:"Which Tool?",content:"**Recommendation for your journey:**\n\n**Starting out (now!)** â†’ PyLingo + Google Colab\n**First real programs** â†’ VS Code + Terminal\n**Data analysis** â†’ Jupyter Notebook\n\nMost developers primarily use VS Code and switch to Jupyter for data work. Start with whatever feels comfortable.\n\n[[[diagram:summary:REPL (>>>) for quick tests â€” not for saving code|||.py files are permanent programs|||VS Code is the recommended editor|||Jupyter mixes code + notes + output|||Google Colab = Jupyter in the cloud, zero install|||Start with PyLingo + Colab, then graduate to VS Code]]]"}
],
exercises:[
{title:"Best No-Install Tool",task:"Print the best tool for beginners with no installation.",starterCode:"# Best no-install option?\n",expectedOutput:"Google Colab",hint:"Jupyter in the cloud, by Google",bestExplanation:"Google Colab needs only a browser and Google account. Full Python with popular libraries pre-installed.",solutions:[{label:"â­ Best",code:"print('Google Colab')",best:true}]},
{title:"File Extension",task:"Print the file extension for Python files.",starterCode:"# Python file extension?\n",expectedOutput:".py",hint:"Python files end with this",bestExplanation:".py tells your OS and editors this is Python. Enables syntax highlighting and running.",solutions:[{label:"â­ Best",code:"print('.py')",best:true}]},
{title:"Run Command",task:"Print the command to run app.py on Mac.",starterCode:"# Run a .py file on Mac?\n",expectedOutput:"python3 app.py",hint:"python3 + filename",bestExplanation:"Pattern: python3 <filename>. On Windows: python app.py. File must be in current directory.",solutions:[{label:"â­ Best",code:"print('python3 app.py')",best:true}]}
]},
{id:1004,title:"Your First Real Program",icon:"ğŸ¯",
lessons:[
{title:"Hello, World!",content:"Every programmer's first program â€” a tradition since the 1970s:\n\n[[[terminal:Python 3.12:::>>> print(\"Hello, World!\")|||Hello, World!|||>>> print(\"I am learning Python!\")|||I am learning Python!|||>>> print(42)|||42|||>>> print(10 + 5)|||25]]]\n\nLet's break it down:\nâ€¢ `print` â€” a built-in **function** that displays text on screen\nâ€¢ `(` and `)` â€” parentheses say \"here's what to print\"\nâ€¢ `\"Hello, World!\"` â€” the **text** (a **string**) to display\nâ€¢ Quotes tell Python \"this is text, not code\"\n\n**You can print anything:**\n```python\nprint(\"My name is Alice\")\nprint(42)\nprint(3.14)\nprint(10 + 5)\n```\nNumbers don't need quotes, and Python does math inside print()!"},
{title:"Variables â€” Storing Data",content:"A **variable** stores data so you can use it later â€” like a **labeled box**:\n\n[[[diagram:variable-box]]]\n\n```python\nname = \"Alice\"       # Text (string)\nage = 30             # Whole number (integer)\nheight = 5.6         # Decimal (float)\nis_student = True    # Yes/No (boolean)\n```\n\n**The `=` sign means \"store this value\"** â€” NOT equals like in math. Think: `name â† \"Alice\"`\n\n**Variable naming rules:**\nâ€¢ Letters, numbers, underscores: `my_name`, `age2` âœ…\nâ€¢ No starting with numbers: `2name` âŒ\nâ€¢ No spaces â€” use underscores: `my_variable` âœ…\nâ€¢ Case-sensitive: `Name` â‰  `name`\nâ€¢ Be descriptive: `student_count` not `x`\n\n[[[terminal:Python â€” Variables:::>>> name = \"Bob\"|||>>> print(name)|||Bob|||>>> print(\"Hi, \" + name)|||Hi, Bob|||>>> age = 25|||>>> print(f\"{name} is {age} years old\")|||Bob is 25 years old]]]"},
{title:"Comments â€” Notes for Humans",content:"**Comments** are notes Python completely ignores â€” for you and other humans:\n\n```python\n# This is a comment â€” Python skips it\nname = \"Alice\"  # inline comment\n```\n\n**Why comments matter:**\nCode you write today will confuse you in 6 months. Comments are your future self's best friend.\n\n**Bad comment** (says WHAT â€” obvious):\n```python\nx = 5  # set x to 5\n```\n\n**Good comment** (says WHY):\n```python\nretry_limit = 5  # server times out often, retry up to 5 times\n```"},
{title:"Errors Are Normal!",content:"Every programmer encounters errors daily â€” even experts at Google. **Errors are NOT failures.** They're Python telling you what went wrong.\n\n[[[diagram:error-guide]]]\n\n**How to read errors:**\n1. **Last line first** â€” type and description\n2. **Line number** â€” where the problem is\n3. **Description** â€” hints at the fix\n\n**Most common beginner errors:**\nâ€¢ `SyntaxError` â€” typo or missing punctuation\nâ€¢ `NameError` â€” variable doesn't exist (check spelling!)\nâ€¢ `TypeError` â€” mixing incompatible types\nâ€¢ `IndentationError` â€” wrong spacing\n\n**Pro tip:** Copy the error message â†’ paste into Google â†’ find the answer on StackOverflow. Works almost every time!"},
{title:"Putting It All Together",content:"A complete program using everything we've learned:\n\n```python\n# My first Python program!\nmy_name = \"Alice\"\nmy_age = 30\nfavorite_number = 7\n\nprint(\"Hello! My name is \" + my_name)\nprint(\"I am \" + str(my_age) + \" years old\")\n\nresult = favorite_number * 6\nprint(\"My favorite number times 6 is:\")\nprint(result)\n\n# f-strings: the modern way to mix text and variables\nprint(f\"{my_name} is {my_age} and loves {favorite_number}\")\n```\n\n**New things:**\nâ€¢ `str(my_age)` â€” converts number to text for concatenation\nâ€¢ `f\"...{variable}...\"` â€” **f-strings** put variables directly in text (preferred!)\n\n[[[diagram:summary:print() displays output â€” text needs quotes, numbers don't|||Variables store data with = (labeled boxes)|||Types: str (text), int (integer), float (decimal), bool (True/False)|||Comments (#) are notes for humans|||Errors are normal â€” read the last line first|||f-strings f\"text {var}\" are the modern way to format|||str() converts numbers to text]]]"}
],
exercises:[
{title:"Hello World",task:"Print Hello, World! â€” the traditional first program.",starterCode:"# Your first program!\n",expectedOutput:"Hello, World!",hint:"print('Hello, World!') â€” don't forget comma and !",bestExplanation:"This exact output is tradition since 1978. Note comma after Hello, capital W.",solutions:[{label:"â­ Best",code:"print('Hello, World!')",best:true}]},
{title:"Variables",task:"Create variable age = 25 and print it.",starterCode:"# Store and print age\n",expectedOutput:"25",hint:"age = 25 then print(age) â€” no quotes around age",bestExplanation:"print('age') prints text 'age'. print(age) prints the VALUE. No quotes for variables!",solutions:[{label:"â­ Best",code:"age = 25\nprint(age)",best:true}]},
{title:"F-string",task:"Using f-string, print 'I have 3 cats' where 3 comes from variable count.",starterCode:"count = 3\n",expectedOutput:"I have 3 cats",hint:"f'text {variable} text' â€” f before the quote!",bestExplanation:"f-strings are most readable way to combine variables with text. The f enables {expr} substitution.",solutions:[{label:"â­ f-string",code:"count = 3\nprint(f'I have {count} cats')",best:true},{label:"Concat",code:"count = 3\nprint('I have ' + str(count) + ' cats')"}]},
{title:"Fix the Bug",task:"The code prnt('Hello') has a bug. Print the corrected version.",starterCode:"# Fix: prnt('Hello')\n",expectedOutput:"print('Hello')",hint:"Check spelling of the function",bestExplanation:"NameError: 'prnt' is not defined. Spelling matters! The function is 'print'.",solutions:[{label:"â­ Best",code:"print(\"print('Hello')\")",best:true}]}
]},
{id:1005,title:"Packages & pip",icon:"ğŸ“¦",
lessons:[
{title:"What Are Packages?",content:"Python has built-in tools (`print`, `len`, etc.), but the community has created **hundreds of thousands more**.\n\nThese tools are called **packages** â€” think of them as **apps for Python**:\n\n[[[diagram:pip-concept]]]\n\n**Examples:**\nâ€¢ `requests` â€” download web pages\nâ€¢ `pandas` â€” work with data tables\nâ€¢ `matplotlib` â€” create charts\nâ€¢ `flask` â€” build websites\nâ€¢ `pillow` â€” edit images\n\nYou don't build everything from scratch. Need web data? `import requests`. Need analysis? `import pandas`."},
{title:"Using pip",content:"**pip** downloads packages from **PyPI** (400,000+ packages).\n\n[[[terminal:Terminal â€” pip:::$ pip install requests|||Collecting requests|||  Downloading requests-2.31.0.tar.gz (110 kB)|||Installing collected packages: requests|||Successfully installed requests-2.31.0]]]\n\n**Using installed packages:**\n```python\nimport requests\nresponse = requests.get(\"https://example.com\")\nprint(response.status_code)  # 200 = success!\n```\n\n`import` loads the package â€” put it at the **top of every file** that uses it.\n\n**Useful commands:**\n```python\npip list               # See installed packages\npip install numpy      # Install\npip uninstall numpy    # Remove\npip install --upgrade pandas  # Update\n```\n\n[[[diagram:summary:Packages are reusable community tools|||pip install <package> downloads from PyPI|||import <package> loads it in your code|||Popular: requests, pandas, beautifulsoup4, numpy|||Import at the top of your file|||pip3 on Mac if pip doesn't work]]]"}
],
exercises:[
{title:"Install Command",task:"Print the command to install pandas.",starterCode:"# Install pandas\n",expectedOutput:"pip install pandas",hint:"pip install <name>",bestExplanation:"pip install is universal for Python packages. Use pip3 on Mac if needed.",solutions:[{label:"â­ Best",code:"print('pip install pandas')",best:true}]},
{title:"Import",task:"Print the statement to import requests.",starterCode:"# Import requests\n",expectedOutput:"import requests",hint:"import <package>",bestExplanation:"import must be at top of file, before using any package functions.",solutions:[{label:"â­ Best",code:"print('import requests')",best:true}]}
]},
{id:1006,title:"Saving & Sharing Code",icon:"ğŸ’¾",
lessons:[
{title:"Organizing Files",content:"As you write more Python, staying organized matters:\n\n[[[diagram:file-tree]]]\n\n**Best practices:**\nâ€¢ **One folder per project**\nâ€¢ **Descriptive names** â€” `scrape_weather.py` not `test1.py`\nâ€¢ **Data in subfolder** â€” `data/` for CSV/JSON files\nâ€¢ **README.md** â€” explain what your project does\n\n**Where to save:**\nCreate `Documents/python_projects/` with subfolders for each project."},
{title:"What is GitHub?",content:"**GitHub** stores and shares code online â€” like **Google Drive designed for code**:\n\n[[[diagram:github-concept]]]\n\n**Why GitHub?**\n1. **Backup** â€” code safe in the cloud\n2. **Version history** â€” see/undo every change\n3. **Sharing** â€” send a link instead of zipping\n4. **Portfolio** â€” employers check your GitHub\n5. **Collaboration** â€” work together on code\n\nYou don't need GitHub to learn Python. But it's valuable later.\n\n**Getting started:**\n1. Free account at **github.com**\n2. Download **GitHub Desktop** (easiest for beginners)\n3. Or command line:\n```python\ngit init\ngit add .\ngit commit -m \"First commit\"\ngit push\n```\n\n[[[diagram:summary:Organize code in project folders with descriptive names|||One folder per project with README.md|||GitHub = cloud storage for code with version history|||GitHub Desktop is easiest for beginners|||Not required for learning â€” it's a nice-to-have|||Good GitHub profile impresses employers]]]"}
],
exercises:[
{title:"Good Filename",task:"Print a good Python filename for a weather scraper.",starterCode:"# Good filename?\n",expectedOutput:"scrape_weather.py",hint:"lowercase, underscores, descriptive, .py",bestExplanation:"Good: lowercase, underscores between words, describes purpose, ends in .py.",solutions:[{label:"â­ Best",code:"print('scrape_weather.py')",best:true}]},
{title:"Git Upload",task:"Print the git command to upload code to GitHub.",starterCode:"# Upload to GitHub\n",expectedOutput:"git push",hint:"push = upload, pull = download",bestExplanation:"git push uploads committed changes. Needs git add and git commit first.",solutions:[{label:"â­ Best",code:"print('git push')",best:true}]}
]}
]},
{
id:'py-basics',title:'Python Fundamentals',icon:'ğŸ',color:'#3b82f6',
desc:'Master Python from scratch â€” with clear explanations, real-world analogies, and hands-on practice.',
topics:[
// â”€â”€ Topic 1: Variables, Types & Expressions â”€â”€
{id:1,title:"Variables, Types & Expressions",icon:"ğŸ“Š",
lessons:[
{title:"What Are Variables?",content:"Think of a variable as a **labeled sticky note** you put on a value.\n\n[[[diagram:variable-box]]]\n\nWhen you write `name = \"Alice\"`, Python:\n1. Creates the value `\"Alice\"` in memory\n2. Sticks a label called `name` on it\n3. Now whenever you say `name`, Python gives you `\"Alice\"`\n\n```python\nname = \"Alice\"\nage = 30\nprint(name)  # Alice\nprint(age)   # 30\n```\n\n**You can change a variable's value at any time:**\n```python\nscore = 10\nprint(score)   # 10\nscore = 20     # re-assign\nprint(score)   # 20 (not 10!)\n```\n\nPython doesn't keep the old value â€” the sticky note just moves to the new value."},
{title:"Data Types",content:"Every value in Python has a **type** â€” it tells Python what kind of data it is and what you can do with it.\n\n**The four basic types:**\n\nâ€¢ **str** (string) â€” text, always in quotes: `\"hello\"` or `'hello'`\nâ€¢ **int** (integer) â€” whole numbers: `42`, `-7`, `0`\nâ€¢ **float** â€” decimal numbers: `3.14`, `-0.5`, `100.0`\nâ€¢ **bool** (boolean) â€” only two values: `True` or `False`\n\n```python\nname = \"Alice\"        # str\nage = 30              # int\nheight = 5.6          # float\nis_student = True     # bool\n\n# Check the type of anything:\nprint(type(name))     # <class 'str'>\nprint(type(age))      # <class 'int'>\n```\n\n**Why do types matter?** Because you can't mix them carelessly:\n```python\n\"age: \" + 25         # âŒ TypeError!\n\"age: \" + str(25)    # âœ… \"age: 25\"\n```"},
{title:"Math & Operators",content:"Python is a great calculator:\n\n```python\nprint(10 + 3)    # 13  â€” addition\nprint(10 - 3)    # 7   â€” subtraction\nprint(10 * 3)    # 30  â€” multiplication\nprint(10 / 3)    # 3.333... â€” division (always float!)\nprint(10 // 3)   # 3   â€” floor division (round down)\nprint(10 % 3)    # 1   â€” modulo (remainder)\nprint(10 ** 3)   # 1000 â€” power (10Â³)\n```\n\n**Order of operations** follows math rules (PEMDAS):\n```python\nresult = 2 + 3 * 4    # 14 (not 20)\nresult = (2 + 3) * 4  # 20 (parentheses first)\n```\n\n**Comparison operators** return True or False:\n```python\n10 > 5     # True\n10 == 10   # True (== checks equality)\n10 != 5    # True (not equal)\n10 >= 10   # True (greater or equal)\n```"},
{title:"Strings & F-strings",content:"Strings are the most common type â€” any text in quotes:\n\n```python\nfirst = \"Hello\"\nlast = 'World'\n\n# Combine strings (concatenation)\ngreeting = first + \", \" + last + \"!\"\nprint(greeting)  # Hello, World!\n```\n\n**F-strings** are the modern, preferred way to mix variables into text:\n```python\nname = \"Alice\"\nage = 30\nprint(f\"My name is {name} and I'm {age} years old\")\n# My name is Alice and I'm 30 years old\n\n# You can put ANY expression inside {}\nprint(f\"Next year I'll be {age + 1}\")\nprint(f\"10 / 3 = {10/3:.2f}\")  # 10 / 3 = 3.33\n```\n\nThe `f` before the quote is what makes it special â€” without it, `{name}` would print literally as `{name}`."},
{title:"Type Conversion",content:"Sometimes you need to convert between types:\n\n```python\n# String to number\nuser_input = \"42\"\nnum = int(user_input)      # 42 (integer)\npi = float(\"3.14\")         # 3.14 (float)\n\n# Number to string\nage = 25\nmsg = \"Age: \" + str(age)   # \"Age: 25\"\n\n# Float to int (truncates toward zero)\nint(3.9)    # 3\nint(-3.9)   # -3\n```\n\n**When you need conversion:**\nâ€¢ `input()` always returns a string â€” convert to int/float for math\nâ€¢ String concatenation (`+`) requires all strings\nâ€¢ f-strings handle conversion automatically (that's why they're great!)\n\n[[[diagram:summary:Variables are labels pointing to values â€” reassign anytime|||Four basic types: str, int, float, bool|||Use f-strings f\"text {var}\" to mix text and variables|||Python follows math order of operations (PEMDAS)|||Use type() to check, str()/int()/float() to convert|||Comparison operators (==, !=, >, <) return True/False]]]"}
],
exercises:[
{title:"Print & Variables",task:"Create a variable called `greeting` with value 'Hello, Python!' and print it.",starterCode:"# Create and print a greeting\n",expectedOutput:"Hello, Python!",hint:"Use = to assign, then print()",bestExplanation:"Direct assignment with a descriptive variable name is the most readable approach.",solutions:[{label:"â­ Best",code:"greeting = 'Hello, Python!'\nprint(greeting)",best:true},{label:"One-liner",code:"print('Hello, Python!')"}]},
{title:"Arithmetic",task:"Calculate and print the result of 17 divided by 5 using floor division.",starterCode:"# Floor division\n",expectedOutput:"3",hint:"Use the // operator",bestExplanation:"// returns integer result. No need for int(17/5) which creates an unnecessary float first.",solutions:[{label:"â­ Best",code:"print(17 // 5)",best:true},{label:"With var",code:"result = 17 // 5\nprint(result)"}]},
{title:"F-strings",task:"Create variables `item` = 'coffee' and `price` = 4.50, then print 'A coffee costs $4.5'.",starterCode:"# Use f-strings\n",expectedOutput:"A coffee costs $4.5",hint:"f\"{item} costs ${price}\"",bestExplanation:"f-strings are the most Pythonic string formatting since Python 3.6. Faster and more readable than .format().",solutions:[{label:"â­ f-string",code:"item = 'coffee'\nprice = 4.50\nprint(f'A {item} costs ${price}')",best:true},{label:".format()",code:"item = 'coffee'\nprice = 4.50\nprint('A {} costs ${}'.format(item, price))"}]},
{title:"Type Conversion",task:"Convert the string '99' to an integer, add 1, and print the result.",starterCode:"text = '99'\n",expectedOutput:"100",hint:"Use int() to convert",bestExplanation:"int() + arithmetic in one expression is concise. For one-off calculations, inline is Pythonic.",solutions:[{label:"â­ Best",code:"text = '99'\nprint(int(text) + 1)",best:true},{label:"With var",code:"text = '99'\nnum = int(text) + 1\nprint(num)"}]},
{title:"Multiple Variables",task:"Create name = 'Bob' and age = 25. Print 'Bob is 25 years old' using an f-string.",starterCode:"# Use f-string with two variables\n",expectedOutput:"Bob is 25 years old",hint:"f'{name} is {age} years old'",bestExplanation:"f-strings handle type conversion automatically â€” no need for str(age). This is one reason they're preferred.",solutions:[{label:"â­ Best",code:"name = 'Bob'\nage = 25\nprint(f'{name} is {age} years old')",best:true},{label:"Concat",code:"name = 'Bob'\nage = 25\nprint(name + ' is ' + str(age) + ' years old')"}]},
{title:"Power Operator",task:"Calculate 2 to the power of 10 and print the result.",starterCode:"# 2^10\n",expectedOutput:"1024",hint:"Use ** for powers",bestExplanation:"** is Python's power operator. Much cleaner than importing math.pow() for integer powers.",solutions:[{label:"â­ Best",code:"print(2 ** 10)",best:true}]}
]},

// â”€â”€ Topic 2: Control Flow â”€â”€
{id:2,title:"Control Flow: Decisions & Loops",icon:"ğŸ”€",
lessons:[
{title:"if, elif, else",content:"Programs need to make **decisions** â€” do different things based on conditions.\n\n[[[diagram:if-else-flow]]]\n\nDrag the slider above to see how the flow changes!\n\n```python\nscore = 85\n\nif score >= 90:\n    print(\"A â€” Excellent!\")\nelif score >= 80:\n    print(\"B â€” Good job!\")\nelif score >= 70:\n    print(\"C â€” Not bad\")\nelse:\n    print(\"F â€” Need improvement\")\n```\n\n**How it works:**\n1. Python checks `if` condition first\n2. If False, checks each `elif` in order\n3. If all False, runs `else`\n4. **Only one block runs** â€” the first True condition\n\n**Indentation matters!** Python uses 4 spaces to define code blocks:\n```python\nif True:\n    print(\"This is inside the if\")  # 4 spaces\nprint(\"This always runs\")           # no indent = outside\n```"},
{title:"Combining Conditions",content:"You can combine multiple conditions:\n\n```python\nage = 20\nhas_id = True\n\n# AND â€” both must be True\nif age >= 18 and has_id:\n    print(\"Welcome!\")  # âœ… Both are True\n\n# OR â€” at least one must be True\nif age < 13 or age > 65:\n    print(\"Discount available\")\n\n# NOT â€” reverses True/False\nif not has_id:\n    print(\"ID required\")\n```\n\n**Ternary expression** â€” one-line if/else:\n```python\nstatus = \"adult\" if age >= 18 else \"minor\"\nprint(status)  # \"adult\"\n```\nThis is Pythonic for simple conditions. Don't overuse it for complex logic."},
{title:"for Loops",content:"A **for loop** repeats code for each item in a sequence:\n\n```python\ncolors = [\"red\", \"green\", \"blue\"]\nfor color in colors:\n    print(color)\n# red\n# green\n# blue\n```\n\n**range()** generates number sequences:\n```python\nfor i in range(5):        # 0, 1, 2, 3, 4\n    print(i)\n\nfor i in range(2, 10, 2): # 2, 4, 6, 8 (start, stop, step)\n    print(i)\n```\n\n**Accumulation pattern** â€” building a result:\n\n[[[diagram:loop-animation]]]\n\nClick Run to see the loop execute step by step!\n\n```python\ntotal = 0\nfor i in range(1, 6):  # 1, 2, 3, 4, 5\n    total += i         # same as: total = total + i\nprint(total)           # 15\n```"},
{title:"while Loops & Loop Control",content:"A **while loop** keeps going as long as a condition is True:\n\n```python\ncount = 5\nwhile count > 0:\n    print(count)\n    count -= 1\nprint(\"Go!\")\n# 5, 4, 3, 2, 1, Go!\n```\n\n**âš ï¸ Danger:** If the condition never becomes False, you get an infinite loop! Always make sure something changes.\n\n**break** exits a loop immediately:\n```python\nfor num in range(100):\n    if num > 5:\n        break\n    print(num)  # 0, 1, 2, 3, 4, 5\n```\n\n**continue** skips to the next iteration:\n```python\nfor num in range(6):\n    if num % 2 == 0:\n        continue  # skip even numbers\n    print(num)  # 1, 3, 5\n```\n\n**When to use for vs while?**\nâ€¢ **for** â€” when you know how many times (or what items)\nâ€¢ **while** â€” when you don't know when to stop\n\n[[[diagram:summary:if/elif/else runs the FIRST True block, skips the rest|||Indentation (4 spaces) defines code blocks in Python|||for loops iterate over sequences; range() generates numbers|||while loops run until condition is False â€” watch for infinite loops!|||break exits a loop; continue skips to next iteration|||Use for when you know the count, while when you don't|||Ternary: value_if_true if condition else value_if_false]]]"}
],
exercises:[
{title:"Grade Checker",task:"Given score = 75, print 'Pass' if >= 60, otherwise 'Fail'.",starterCode:"score = 75\n",expectedOutput:"Pass",hint:"Use if/else or ternary",bestExplanation:"Ternary expression is concise for simple cases. Full if/else is clearer for complex logic.",solutions:[{label:"â­ Ternary",code:"score = 75\nprint('Pass' if score >= 60 else 'Fail')",best:true},{label:"if/else",code:"score = 75\nif score >= 60:\n    print('Pass')\nelse:\n    print('Fail')"}]},
{title:"Sum with Loop",task:"Use a for loop and range() to print the sum of 1 through 10.",starterCode:"# Sum 1 to 10\n",expectedOutput:"55",hint:"Accumulate: total += i",bestExplanation:"Loop teaches accumulation. In real Python, sum(range(1,11)) is most Pythonic.",solutions:[{label:"â­ Built-in",code:"print(sum(range(1, 11)))",best:true},{label:"Loop",code:"total = 0\nfor i in range(1, 11):\n    total += i\nprint(total)"}]},
{title:"Even Numbers",task:"Print all even numbers from 2 to 10 (inclusive), one per line.",starterCode:"# Print even numbers\n",expectedOutput:"2\n4\n6\n8\n10",hint:"range(2, 11, 2)",bestExplanation:"range step parameter skips odds entirely â€” faster and more Pythonic than filtering with %.",solutions:[{label:"â­ range step",code:"for i in range(2, 11, 2):\n    print(i)",best:true},{label:"if check",code:"for i in range(1, 11):\n    if i % 2 == 0:\n        print(i)"}]},
{title:"Countdown",task:"Use a while loop to count down from 3 to 1, then print 'Go!'.",starterCode:"# Countdown\n",expectedOutput:"3\n2\n1\nGo!",hint:"n -= 1 each iteration",bestExplanation:"Classic while pattern. n -= 1 preferred over n = n - 1 (augmented assignment).",solutions:[{label:"â­ while",code:"n = 3\nwhile n > 0:\n    print(n)\n    n -= 1\nprint('Go!')",best:true},{label:"for reversed",code:"for i in range(3, 0, -1):\n    print(i)\nprint('Go!')"}]},
{title:"FizzBuzz Lite",task:"Print numbers 1-5. But for multiples of 3, print 'Fizz' instead.",starterCode:"# FizzBuzz lite\n",expectedOutput:"1\n2\nFizz\n4\n5",hint:"if i % 3 == 0: print('Fizz') else: print(i)",bestExplanation:"FizzBuzz is a famous interview question. The modulo operator % checks divisibility. This is a simplified version.",solutions:[{label:"â­ Best",code:"for i in range(1, 6):\n    if i % 3 == 0:\n        print('Fizz')\n    else:\n        print(i)",best:true},{label:"Ternary",code:"for i in range(1, 6):\n    print('Fizz' if i % 3 == 0 else i)"}]}
]},

// â”€â”€ Topic 3: Lists, Tuples & Strings â”€â”€
{id:3,title:"Lists, Tuples & Strings",icon:"ğŸ“",
lessons:[
{title:"Lists â€” Ordered Collections",content:"A **list** stores multiple items in order â€” like a numbered shelf:\n\n[[[diagram:list-visual]]]\n\nTry clicking append and pop above!\n\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\nnumbers = [10, 20, 30, 40, 50]\nmixed = [1, \"hello\", True, 3.14]\n```\n\n**Accessing items** (zero-indexed â€” counting starts at 0):\n```python\nprint(fruits[0])    # \"apple\" (first)\nprint(fruits[-1])   # \"cherry\" (last)\nprint(fruits[1])    # \"banana\" (second)\n```\n\n**Modifying lists:**\n```python\nfruits.append(\"date\")       # add to end\nfruits.insert(1, \"avocado\") # insert at index 1\nfruits.remove(\"banana\")     # remove by value\npopped = fruits.pop()       # remove & return last\nfruits[0] = \"apricot\"       # update by index\n```\n\n**Key fact:** Lists are **mutable** â€” you can change them after creation. This is different from strings and tuples!"},
{title:"Slicing & List Comprehensions",content:"**Slicing** extracts parts of a list:\n\n```python\nnums = [0, 1, 2, 3, 4, 5, 6, 7]\n\nnums[2:5]     # [2, 3, 4]  â€” index 2 to 4\nnums[:3]      # [0, 1, 2]  â€” first 3\nnums[5:]      # [5, 6, 7]  â€” from index 5\nnums[::2]     # [0, 2, 4, 6] â€” every 2nd\nnums[::-1]    # reversed\n```\n\nThe pattern is `list[start:stop:step]` where stop is **exclusive**.\n\n**List comprehensions** â€” create lists in one line:\n```python\n# Instead of:\nsquares = []\nfor x in range(6):\n    squares.append(x**2)\n\n# Write:\nsquares = [x**2 for x in range(6)]\n# [0, 1, 4, 9, 16, 25]\n\n# With filter:\nevens = [x for x in range(20) if x % 2 == 0]\n```\n\nList comprehensions are a signature Python feature â€” more readable AND faster than loops."},
{title:"Tuples & Strings",content:"**Tuples** â€” like lists but **immutable** (can't be changed):\n```python\npoint = (3, 7)\nrgb = (255, 128, 0)\n\nx, y = point   # unpacking\nprint(x)       # 3\n\n# Swap trick:\na, b = 1, 2\na, b = b, a    # a=2, b=1\n```\n\nUse tuples for data that shouldn't change (coordinates, RGB colors, etc.).\n\n**String methods:**\n```python\ntext = \"  Hello, World!  \"\ntext.strip()        # \"Hello, World!\"\ntext.lower()        # \"  hello, world!  \"\ntext.upper()        # \"  HELLO, WORLD!  \"\ntext.replace(\"World\", \"Python\")\ntext.split(\",\")     # [\"  Hello\", \" World!  \"]\n\n# Joining:\n\" \".join([\"Python\", \"is\", \"great\"])  # \"Python is great\"\n```\n\n[[[diagram:summary:Lists store ordered items â€” mutable, use [] brackets|||Zero-indexed: first item is [0], last is [-1]|||Slicing: list[start:stop:step], stop is exclusive|||List comprehensions [expr for x in seq] are Pythonic and fast|||Tuples are immutable lists â€” use () parentheses|||Strings have powerful methods: strip, split, join, replace|||Use tuples for data that shouldn't change]]]"}
],
exercises:[
{title:"List Operations",task:"Create a list [5, 10, 15], append 20, then print the list.",starterCode:"# List operations\n",expectedOutput:"[5, 10, 15, 20]",hint:"Use .append()",bestExplanation:"append() modifies in-place and returns None. Don't write print(nums.append(20))!",solutions:[{label:"â­ Best",code:"nums = [5, 10, 15]\nnums.append(20)\nprint(nums)",best:true},{label:"Concat",code:"nums = [5, 10, 15] + [20]\nprint(nums)"}]},
{title:"List Slicing",task:"Given nums = [1,2,3,4,5,6,7,8], print the slice from index 2 to 5.",starterCode:"nums = [1, 2, 3, 4, 5, 6, 7, 8]\n",expectedOutput:"[3, 4, 5]",hint:"nums[2:5] â€” stop is exclusive",bestExplanation:"[start:stop] gives indices start through stop-1. nums[2:5] = indices 2,3,4 = values 3,4,5.",solutions:[{label:"â­ Best",code:"nums = [1, 2, 3, 4, 5, 6, 7, 8]\nprint(nums[2:5])",best:true}]},
{title:"List Comprehension",task:"Create a list of squares of 1-5 using comprehension and print it.",starterCode:"# List comprehension\n",expectedOutput:"[1, 4, 9, 16, 25]",hint:"[x**2 for x in range(1, 6)]",bestExplanation:"Comprehensions are Pythonic: faster and more readable than loops with append.",solutions:[{label:"â­ Comprehension",code:"squares = [x**2 for x in range(1, 6)]\nprint(squares)",best:true},{label:"Loop",code:"squares = []\nfor x in range(1, 6):\n    squares.append(x**2)\nprint(squares)"}]},
{title:"String Split & Join",task:"Split 'a-b-c-d' by '-' and rejoin with spaces. Print the result.",starterCode:"text = 'a-b-c-d'\n",expectedOutput:"a b c d",hint:"' '.join(text.split('-'))",bestExplanation:"Chaining split() and join() is idiomatic Python for string transformation.",solutions:[{label:"â­ Best",code:"text = 'a-b-c-d'\nprint(' '.join(text.split('-')))",best:true},{label:"replace",code:"text = 'a-b-c-d'\nprint(text.replace('-', ' '))"}]},
{title:"List Length & Sum",task:"Create list [10, 20, 30, 40]. Print its length and sum.",starterCode:"# Length and sum\n",expectedOutput:"4\n100",hint:"len() and sum() built-in functions",bestExplanation:"len() and sum() are built-in functions that work on any iterable. Prefer them over manual loops.",solutions:[{label:"â­ Best",code:"nums = [10, 20, 30, 40]\nprint(len(nums))\nprint(sum(nums))",best:true}]}
]},

// â”€â”€ Topic 4: Functions â”€â”€
{id:4,title:"Functions",icon:"âš™ï¸",
lessons:[
{title:"What Are Functions?",content:"A **function** is a reusable block of code â€” like a machine with an input and output:\n\n[[[diagram:function-machine]]]\n\nTry different inputs above!\n\n```python\ndef greet(name):\n    \"\"\"Prints a greeting.\"\"\"\n    print(f\"Hello, {name}!\")\n\ngreet(\"Alice\")  # Hello, Alice!\ngreet(\"Bob\")    # Hello, Bob!\n```\n\n**Anatomy of a function:**\nâ€¢ `def` â€” keyword that starts a function definition\nâ€¢ `greet` â€” the function name (you choose it)\nâ€¢ `(name)` â€” **parameter** (input the function expects)\nâ€¢ `\"\"\"..\"\"\"` â€” **docstring** (documentation)\nâ€¢ The indented body â€” what the function does\n\n**Why functions?**\nâ€¢ **Reuse** â€” write once, call many times\nâ€¢ **Organize** â€” break big problems into small pieces\nâ€¢ **Test** â€” easier to find bugs in small functions"},
{title:"Return Values & Parameters",content:"**Return values** â€” functions can give back results:\n```python\ndef add(a, b):\n    return a + b\n\nresult = add(3, 7)\nprint(result)  # 10\n```\nWithout `return`, a function returns `None`.\n\n**Default parameters:**\n```python\ndef power(base, exp=2):\n    return base ** exp\n\nprint(power(5))      # 25 (uses default exp=2)\nprint(power(2, 10))  # 1024\n```\n\n**Multiple return values** (via tuple):\n```python\ndef min_max(numbers):\n    return min(numbers), max(numbers)\n\nlo, hi = min_max([3, 7, 1, 9, 2])\nprint(f\"Min: {lo}, Max: {hi}\")\n```"},
{title:"Scope & Best Practices",content:"**Scope** â€” where a variable lives:\n```python\nx = \"global\"\n\ndef demo():\n    y = \"local\"   # only inside demo()\n    print(x)       # can READ global âœ…\n    print(y)\n\ndemo()\n# print(y)  # âŒ ERROR â€” y doesn't exist here\n```\n\n**Best practices:**\nâ€¢ Descriptive names: `calculate_tax()` not `ct()`\nâ€¢ One task per function\nâ€¢ Use docstrings\nâ€¢ Keep functions short (under 20 lines ideally)\nâ€¢ Don't modify global variables inside functions\n\n[[[diagram:summary:Functions are reusable code blocks â€” def name(params): body|||return sends a value back; without it, function returns None|||Default parameters make functions flexible|||Variables inside functions are local â€” they don't exist outside|||Use docstrings to document what a function does|||Keep functions short â€” one task per function]]]"}
],
exercises:[
{title:"Basic Function",task:"Write function double(n) returning n*2. Call with 7, print result.",starterCode:"# Define double()\n",expectedOutput:"14",hint:"def double(n): return n * 2",bestExplanation:"For one-expression functions, return in the body is clean.",solutions:[{label:"â­ Best",code:"def double(n):\n    return n * 2\n\nprint(double(7))",best:true},{label:"Lambda",code:"double = lambda n: n * 2\nprint(double(7))"}]},
{title:"Default Parameter",task:"Write greet(name, greeting='Hello') printing '{greeting}, {name}!'. Call greet('World').",starterCode:"# Function with default\n",expectedOutput:"Hello, World!",hint:"f-string inside function body",bestExplanation:"Default parameters make functions flexible without requiring all arguments.",solutions:[{label:"â­ Best",code:"def greet(name, greeting='Hello'):\n    print(f'{greeting}, {name}!')\n\ngreet('World')",best:true}]},
{title:"Return Multiple",task:"Write stats(nums) returning (min, max). Call with [4,2,9,1,7], print both.",starterCode:"# Return min and max\n",expectedOutput:"1 9",hint:"return min(nums), max(nums)",bestExplanation:"Python can return tuples, which you unpack into separate variables.",solutions:[{label:"â­ Best",code:"def stats(nums):\n    return min(nums), max(nums)\n\nlo, hi = stats([4, 2, 9, 1, 7])\nprint(lo, hi)",best:true}]},
{title:"Is Even Function",task:"Write is_even(n) returning True if n is even, False otherwise. Test with 4 and print.",starterCode:"# Is even?\n",expectedOutput:"True",hint:"n % 2 == 0",bestExplanation:"Return a boolean expression directly â€” no need for if/else to return True/False.",solutions:[{label:"â­ Best",code:"def is_even(n):\n    return n % 2 == 0\n\nprint(is_even(4))",best:true},{label:"Verbose",code:"def is_even(n):\n    if n % 2 == 0:\n        return True\n    else:\n        return False\n\nprint(is_even(4))"}]}
]},

// â”€â”€ Topic 5: Dictionaries & Sets â”€â”€
{id:5,title:"Dictionaries & Sets",icon:"ğŸ—‚ï¸",
lessons:[
{title:"Dictionaries",content:"A **dictionary** maps keys to values â€” like a phone book or real dictionary:\n\n[[[diagram:dict-visual]]]\n\n```python\nstudent = {\n    \"name\": \"Alice\",\n    \"age\": 21,\n    \"major\": \"CS\"\n}\n\nprint(student[\"name\"])     # Alice\nprint(student.get(\"gpa\", 0))  # 0 (default if missing)\n```\n\n**Modifying:**\n```python\nstudent[\"gpa\"] = 3.8          # add\nstudent[\"age\"] = 22            # update\ndel student[\"major\"]            # delete\n```\n\n**Iterating:**\n```python\nfor key, value in student.items():\n    print(f\"{key}: {value}\")\n```"},
{title:"Dict Patterns & Sets",content:"**Counting pattern** (very common):\n```python\nwords = [\"apple\", \"banana\", \"apple\", \"cherry\", \"banana\", \"apple\"]\ncounts = {}\nfor w in words:\n    counts[w] = counts.get(w, 0) + 1\nprint(counts)  # {'apple': 3, 'banana': 2, 'cherry': 1}\n```\n\n**Sets** â€” unique items only:\n```python\na = {1, 2, 3, 4}\nb = {3, 4, 5, 6}\n\na & b   # {3, 4} â€” intersection\na | b   # {1,2,3,4,5,6} â€” union\na - b   # {1, 2} â€” difference\n```\n\n**Remove duplicates:**\n```python\nnames = [\"Alice\", \"Bob\", \"Alice\", \"Carol\"]\nunique = list(set(names))  # ['Alice', 'Bob', 'Carol']\n```\n\n[[[diagram:summary:Dicts map keys to values with {} curly braces|||Use .get(key, default) to avoid KeyError|||Iterate with .items(), .keys(), .values()|||Counting pattern: d[k] = d.get(k, 0) + 1|||Sets store unique items â€” great for deduplication|||Set operations: & intersection, | union, - difference]]]"}
],
exercises:[
{title:"Build a Dict",task:"Create dict with keys 'a','b','c' and values 1,2,3. Print it.",starterCode:"# Create dictionary\n",expectedOutput:"{'a': 1, 'b': 2, 'c': 3}",hint:"Use curly braces",bestExplanation:"Dict literal {} is most readable. Avoid dict(a=1) â€” it's slower and limits key names.",solutions:[{label:"â­ Best",code:"d = {'a': 1, 'b': 2, 'c': 3}\nprint(d)",best:true},{label:"zip",code:"d = dict(zip(['a','b','c'], [1,2,3]))\nprint(d)"}]},
{title:"Word Counter",task:"Count each word in the list and print the dict.",starterCode:"words = ['hi', 'bye', 'hi', 'hi', 'bye']\n",expectedOutput:"{'hi': 3, 'bye': 2}",hint:".get(w, 0) + 1",bestExplanation:".get(key, default) is the standard counting pattern. collections.Counter does this in one line!",solutions:[{label:"â­ .get()",code:"words = ['hi', 'bye', 'hi', 'hi', 'bye']\ncounts = {}\nfor w in words:\n    counts[w] = counts.get(w, 0) + 1\nprint(counts)",best:true},{label:"Counter",code:"from collections import Counter\nwords = ['hi', 'bye', 'hi', 'hi', 'bye']\nprint(dict(Counter(words)))"}]},
{title:"Set Intersection",task:"Find common elements between {1,2,3,4} and {3,4,5,6}.",starterCode:"a = {1, 2, 3, 4}\nb = {3, 4, 5, 6}\n",expectedOutput:"{3, 4}",hint:"& operator",bestExplanation:"& is clean Pythonic syntax. Also works: a.intersection(b).",solutions:[{label:"â­ Best",code:"a = {1, 2, 3, 4}\nb = {3, 4, 5, 6}\nprint(a & b)",best:true},{label:"Method",code:"a = {1, 2, 3, 4}\nb = {3, 4, 5, 6}\nprint(a.intersection(b))"}]},
{title:"Dict Access",task:"Given person = {'name': 'Alice', 'age': 30}, print just the name.",starterCode:"person = {'name': 'Alice', 'age': 30}\n",expectedOutput:"Alice",hint:"person['name']",bestExplanation:"Use dict[key] for keys you know exist, .get(key) when they might be missing.",solutions:[{label:"â­ Best",code:"person = {'name': 'Alice', 'age': 30}\nprint(person['name'])",best:true}]}
]},

// â”€â”€ Topic 6: Working with Files â”€â”€
{id:6,title:"Working with Files",icon:"ğŸ“",
lessons:[
{title:"Reading Files",content:"Python makes file operations straightforward:\n\n```python\n# Read entire file\nwith open('data.txt', 'r') as f:\n    content = f.read()\n    print(content)\n```\n\nThe `with` statement ensures the file is properly closed â€” always use it!\n\n**Reading line by line:**\n```python\nwith open('data.txt', 'r') as f:\n    for line in f:\n        print(line.strip())  # strip removes trailing newline\n```\n\n**File modes:** `'r'` read, `'w'` write (overwrites!), `'a'` append, `'r+'` read+write"},
{title:"Writing & CSV Files",content:"**Writing files:**\n```python\nwith open('output.txt', 'w') as f:\n    f.write('Line 1\\n')\n    f.write('Line 2\\n')\n```\n\n**CSV files** â€” comma-separated data:\n```python\nimport csv\n\n# Reading\nwith open('data.csv', 'r') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print(row)  # each row is a list\n\n# Writing\nwith open('out.csv', 'w', newline='') as f:\n    writer = csv.writer(f)\n    writer.writerow(['Name', 'Age'])\n    writer.writerow(['Alice', 30])\n```\n\n[[[diagram:summary:Always use 'with open()' to ensure files close properly|||Modes: 'r' read, 'w' write (overwrites!), 'a' append|||strip() removes trailing whitespace/newlines|||csv module handles comma-separated files|||Use DictReader for named column access]]]"}
],
exercises:[
{title:"File Mode",task:"Print which mode opens a file for reading.",starterCode:"# Read mode?\n",expectedOutput:"r",hint:"r = read, w = write, a = append",bestExplanation:"'r' is also the default â€” open('file') is same as open('file', 'r').",solutions:[{label:"â­ Best",code:"print('r')",best:true}]},
{title:"Split CSV Line",task:"Split 'Alice,90,A' by comma and print the list.",starterCode:"line = 'Alice,90,A'\n",expectedOutput:"['Alice', '90', 'A']",hint:".split(',')",bestExplanation:".split() is simple CSV parsing. For real CSV with quoted fields, use csv module.",solutions:[{label:"â­ Best",code:"line = 'Alice,90,A'\nprint(line.split(','))",best:true}]},
{title:"Build CSV",task:"Print 3 CSV rows: header 'name,score', then 'Alice,90' and 'Bob,85'.",starterCode:"# Print CSV\n",expectedOutput:"name,score\nAlice,90\nBob,85",hint:"Three print() calls",bestExplanation:"Each print() adds a newline. In real code, use csv.writer for proper escaping.",solutions:[{label:"â­ Best",code:"print('name,score')\nprint('Alice,90')\nprint('Bob,85')",best:true},{label:"Loop",code:"rows = ['name,score', 'Alice,90', 'Bob,85']\nfor r in rows:\n    print(r)"}]}
]},

// â”€â”€ Topic 7: Error Handling (NEW) â”€â”€
{id:10,title:"Error Handling",icon:"ğŸ›¡ï¸",
lessons:[
{title:"try / except",content:"Instead of letting errors crash your program, you can **catch** them:\n\n```python\ntry:\n    number = int(input(\"Enter a number: \"))\n    print(f\"Double: {number * 2}\")\nexcept ValueError:\n    print(\"That's not a valid number!\")\n```\n\n**How it works:**\n1. Python tries to run the `try` block\n2. If an error occurs, it jumps to `except`\n3. If no error, `except` is skipped\n\n**Common exception types:**\nâ€¢ `ValueError` â€” wrong value type (\"abc\" as int)\nâ€¢ `KeyError` â€” dict key doesn't exist\nâ€¢ `IndexError` â€” list index out of range\nâ€¢ `FileNotFoundError` â€” file doesn't exist\nâ€¢ `ZeroDivisionError` â€” dividing by zero\nâ€¢ `TypeError` â€” wrong type operation"},
{title:"Advanced Error Handling",content:"**Catch multiple types:**\n```python\ntry:\n    result = 10 / x\nexcept ZeroDivisionError:\n    print(\"Can't divide by zero\")\nexcept TypeError:\n    print(\"x must be a number\")\n```\n\n**finally** â€” always runs (cleanup):\n```python\ntry:\n    f = open('data.txt')\n    data = f.read()\nexcept FileNotFoundError:\n    print(\"File not found\")\nfinally:\n    print(\"Done\")  # runs whether error or not\n```\n\n**Raising your own errors:**\n```python\ndef set_age(age):\n    if age < 0:\n        raise ValueError(\"Age cannot be negative\")\n    return age\n```\n\n**Pro tip:** Catch specific exceptions, not bare `except:` which catches everything and hides bugs.\n\n[[[diagram:summary:try/except catches errors instead of crashing|||Catch specific exceptions: ValueError, KeyError, IndexError, etc.|||finally block always runs â€” good for cleanup|||raise creates your own exceptions|||Never use bare except: â€” always specify the type|||Errors are normal â€” handle them gracefully]]]"}
],
exercises:[
{title:"Safe Division",task:"Print the result of 10/0 if possible, otherwise print 'Cannot divide by zero'.",starterCode:"# Handle division by zero\n",expectedOutput:"Cannot divide by zero",hint:"try/except ZeroDivisionError",bestExplanation:"Always catch the specific exception type. ZeroDivisionError is Python's built-in for this case.",solutions:[{label:"â­ Best",code:"try:\n    print(10 / 0)\nexcept ZeroDivisionError:\n    print('Cannot divide by zero')",best:true}]},
{title:"Safe Convert",task:"Try converting 'hello' to int. Print 'Invalid number' if it fails.",starterCode:"text = 'hello'\n",expectedOutput:"Invalid number",hint:"try int(text) except ValueError",bestExplanation:"int() raises ValueError for non-numeric strings. This pattern is essential for user input handling.",solutions:[{label:"â­ Best",code:"text = 'hello'\ntry:\n    print(int(text))\nexcept ValueError:\n    print('Invalid number')",best:true}]}
]},

// â”€â”€ Topic 8: Classes & Objects â”€â”€
{id:7,title:"Classes & Objects",icon:"ğŸ—ï¸",
lessons:[
{title:"What Are Classes?",content:"A **class** is a blueprint for creating objects â€” like a cookie cutter makes cookies:\n\n```python\nclass Dog:\n    def __init__(self, name, breed):\n        self.name = name    # attribute\n        self.breed = breed\n    \n    def bark(self):         # method\n        return f\"{self.name} says Woof!\"\n\nmy_dog = Dog(\"Rex\", \"Labrador\")\nprint(my_dog.bark())  # Rex says Woof!\n```\n\n**Key concepts:**\nâ€¢ `__init__` â€” **constructor**, runs when creating an object\nâ€¢ `self` â€” refers to the current instance\nâ€¢ **Attributes** â€” data stored in the object (self.name)\nâ€¢ **Methods** â€” functions belonging to the class"},
{title:"Practical OOP",content:"**A more complete example:**\n```python\nclass BankAccount:\n    def __init__(self, owner, balance=0):\n        self.owner = owner\n        self.balance = balance\n    \n    def deposit(self, amount):\n        self.balance += amount\n    \n    def withdraw(self, amount):\n        if amount > self.balance:\n            return \"Insufficient funds\"\n        self.balance -= amount\n    \n    def __str__(self):\n        return f\"{self.owner}: ${self.balance}\"\n\naccount = BankAccount(\"Alice\", 100)\naccount.deposit(50)\nprint(account)  # Alice: $150\n```\n\n`__str__` defines how the object prints.\n\n[[[diagram:summary:Classes are blueprints; objects are instances|||__init__ is the constructor â€” sets up attributes|||self refers to the current instance|||Attributes store data; methods define behavior|||__str__ controls how an object prints|||Use classes when you have data + related operations together]]]"}
],
exercises:[
{title:"Create a Class",task:"Define Circle with __init__(self, radius) and area() returning 3.14*r*r. Circle(5), print area.",starterCode:"# Circle class\n",expectedOutput:"78.5",hint:"3.14 * self.radius ** 2",bestExplanation:"Store in __init__, compute in methods. In production use math.pi.",solutions:[{label:"â­ Best",code:"class Circle:\n    def __init__(self, radius):\n        self.radius = radius\n    def area(self):\n        return 3.14 * self.radius ** 2\n\nc = Circle(5)\nprint(c.area())",best:true}]},
{title:"Counter Class",task:"Define Counter with count=0, increment() adding 1. Call 3 times, print count.",starterCode:"# Counter class\n",expectedOutput:"3",hint:"self.count += 1",bestExplanation:"Initialize state in __init__, mutate via methods â€” core OOP pattern.",solutions:[{label:"â­ Best",code:"class Counter:\n    def __init__(self):\n        self.count = 0\n    def increment(self):\n        self.count += 1\n\nc = Counter()\nc.increment()\nc.increment()\nc.increment()\nprint(c.count)",best:true}]}
]},

// â”€â”€ Topic 9: NumPy Basics â”€â”€
{id:8,title:"NumPy Basics",icon:"ğŸ”¢",
lessons:[
{title:"Arrays & Creation",content:"**NumPy** is the foundation for scientific computing â€” fast arrays:\n\n```python\nimport numpy as np\n\na = np.array([1, 2, 3, 4, 5])\nb = np.zeros(5)         # [0, 0, 0, 0, 0]\nc = np.ones((2, 3))     # 2x3 matrix of ones\nd = np.arange(0, 10, 2) # [0, 2, 4, 6, 8]\n```\n\n**Why NumPy over lists?** 10-100x faster for math, supports element-wise operations."},
{title:"Array Operations",content:"NumPy operates on entire arrays at once (**vectorization**):\n\n```python\na = np.array([10, 20, 30, 40])\na + 5       # [15, 25, 35, 45]\na * 2       # [20, 40, 60, 80]\na ** 2      # [100, 400, 900, 1600]\n\nnp.sum(a)   # 100\nnp.mean(a)  # 25.0\na[a > 20]   # [30, 40] â€” boolean indexing\n```\n\n**Never loop over NumPy arrays** â€” use operators!\n\n[[[diagram:summary:NumPy arrays are 10-100x faster than Python lists for math|||Create with np.array(), np.zeros(), np.arange()|||Operators (+, *, **) work element-wise|||Aggregate: np.sum(), np.mean(), np.min(), np.max()|||Boolean indexing: a[a > 5] filters elements|||Never loop â€” use vectorized operations]]]"}
],
exercises:[
{title:"Create Array",task:"Create numpy array [2,4,6,8,10] and print its mean.",starterCode:"import numpy as np\n",expectedOutput:"6.0",hint:"np.mean()",bestExplanation:"np.mean() is vectorized. Prefer NumPy functions over Python sum()/len().",solutions:[{label:"â­ Best",code:"import numpy as np\na = np.array([2, 4, 6, 8, 10])\nprint(np.mean(a))",best:true},{label:"Method",code:"import numpy as np\na = np.array([2, 4, 6, 8, 10])\nprint(a.mean())"}]},
{title:"Vectorized Op",task:"Create [1,2,3,4,5], square each element, print result.",starterCode:"import numpy as np\n",expectedOutput:"[ 1  4  9 16 25]",hint:"** operator on array",bestExplanation:"** applies to every element at once. Never loop over numpy arrays!",solutions:[{label:"â­ Best",code:"import numpy as np\na = np.array([1, 2, 3, 4, 5])\nprint(a ** 2)",best:true},{label:"np.square",code:"import numpy as np\nprint(np.square(np.array([1,2,3,4,5])))"}]}
]},

// â”€â”€ Topic 10: Pandas Basics â”€â”€
{id:9,title:"Pandas Basics",icon:"ğŸ¼",
lessons:[
{title:"DataFrames",content:"**pandas** is Python's tool for structured data â€” like Excel in code:\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Carol'],\n    'age': [25, 30, 28],\n    'score': [90, 85, 92]\n})\nprint(df)\n```\n\n**Accessing data:**\n```python\ndf['name']          # single column\ndf[['name','age']]  # multiple columns\ndf.iloc[0]          # first row\ndf.head()           # first 5 rows\ndf.shape            # (rows, cols)\n```"},
{title:"Filtering & Grouping",content:"**Filter rows:**\n```python\nhigh = df[df['score'] > 88]\nresult = df[(df['age'] > 25) & (df['score'] > 85)]\n```\n\n**Add columns & sort:**\n```python\ndf['passed'] = df['score'] >= 70\ndf.sort_values('score', ascending=False)\n```\n\n**Grouping:**\n```python\ndf.groupby('grade')['score'].mean()\n```\n\n[[[diagram:summary:DataFrames are 2D tables â€” like Excel sheets|||Create from dict: pd.DataFrame({'col': [values]})|||Filter with boolean indexing: df[df['col'] > value]|||Groupby aggregates data by categories|||Read files: pd.read_csv(), write: df.to_csv()|||Pandas + SQL = powerful data analysis workflow]]]"}
],
exercises:[
{title:"Create DataFrame",task:"Create DataFrame with 'city' and 'pop' columns. Print it.",starterCode:"import pandas as pd\n",expectedOutput:"    city  pop\n0  Tokyo   37\n1  Delhi   31\n2  Seoul   25",hint:"pd.DataFrame({'city': [...], 'pop': [...]})",bestExplanation:"Dict-to-DataFrame is the most common pattern. Keys = columns, values = rows.",solutions:[{label:"â­ Best",code:"import pandas as pd\ndf = pd.DataFrame({'city': ['Tokyo', 'Delhi', 'Seoul'], 'pop': [37, 31, 25]})\nprint(df)",best:true}]},
{title:"Filter Rows",task:"Filter rows where score > 85 and print.",starterCode:"import pandas as pd\ndf = pd.DataFrame({'name': ['A','B','C'], 'score': [90, 80, 95]})\n",expectedOutput:"  name  score\n0    A     90\n2    C     95",hint:"df[df['score'] > 85]",bestExplanation:"Boolean indexing is THE standard pandas pattern. Use & for multiple conditions.",solutions:[{label:"â­ Best",code:"import pandas as pd\ndf = pd.DataFrame({'name': ['A','B','C'], 'score': [90, 80, 95]})\nprint(df[df['score'] > 85])",best:true},{label:".query()",code:"import pandas as pd\ndf = pd.DataFrame({'name': ['A','B','C'], 'score': [90, 80, 95]})\nprint(df.query('score > 85'))"}]}
]},

// â”€â”€ Topic 11: Python Basics Capstone Project â”€â”€
{id:11,title:"ğŸ† Capstone: Expense Tracker",icon:"ğŸ†",
lessons:[
{title:"Project Overview",content:"Congratulations on learning Python fundamentals! ğŸ‰ Now let's combine everything into a **real project**: a Personal Expense Tracker.\n\n**This project uses:**\nâ€¢ Variables & f-strings (Topic 1)\nâ€¢ Loops & conditions (Topic 2)\nâ€¢ Lists & dictionaries (Topics 3 & 5)\nâ€¢ Functions (Topic 4)\nâ€¢ Error handling (Topic 7)\n\n**What it does:**\n1. Add expenses (category + amount)\n2. View all expenses\n3. See total by category\n4. Calculate grand total"},
{title:"Building the Tracker",content:"Here's the complete project:\n\n```python\n# Personal Expense Tracker\n\ndef add_expense(expenses, category, amount):\n    \"\"\"Add an expense to the tracker.\"\"\"\n    expenses.append({'category': category, 'amount': amount})\n    print(f\"Added: ${amount:.2f} for {category}\")\n\ndef show_expenses(expenses):\n    \"\"\"Display all expenses.\"\"\"\n    if not expenses:\n        print(\"No expenses yet.\")\n        return\n    for i, e in enumerate(expenses, 1):\n        print(f\"{i}. {e['category']}: ${e['amount']:.2f}\")\n\ndef total_by_category(expenses):\n    \"\"\"Sum expenses by category.\"\"\"\n    totals = {}\n    for e in expenses:\n        cat = e['category']\n        totals[cat] = totals.get(cat, 0) + e['amount']\n    for cat, total in totals.items():\n        print(f\"{cat}: ${total:.2f}\")\n\ndef grand_total(expenses):\n    \"\"\"Calculate total of all expenses.\"\"\"\n    return sum(e['amount'] for e in expenses)\n\n# Usage\nmy_expenses = []\nadd_expense(my_expenses, 'Food', 25.50)\nadd_expense(my_expenses, 'Transport', 12.00)\nadd_expense(my_expenses, 'Food', 18.75)\n\nprint(\"\\n--- All Expenses ---\")\nshow_expenses(my_expenses)\nprint(\"\\n--- By Category ---\")\ntotal_by_category(my_expenses)\nprint(f\"\\nGrand Total: ${grand_total(my_expenses):.2f}\")\n```\n\n**Study this code carefully.** Can you identify each concept we learned?\n\n[[[diagram:summary:Real projects combine multiple concepts together|||Functions organize code into manageable pieces|||Dictionaries store structured data (category + amount)|||Lists hold collections of expenses|||.get() with default handles missing keys|||Generator expressions sum(e['amount'] for e in list) are Pythonic]]]"}
],
exercises:[
{title:"Grand Total",task:"Calculate the total amount from the expenses list and print it.",starterCode:"expenses = [\n    {'category': 'Food', 'amount': 25.50},\n    {'category': 'Transport', 'amount': 12.00},\n    {'category': 'Food', 'amount': 18.75}\n]\n# Calculate and print total\n",expectedOutput:"56.25",hint:"sum(e['amount'] for e in expenses)",bestExplanation:"Generator expression inside sum() is the most Pythonic way to sum specific values from a list of dicts.",solutions:[{label:"â­ Generator",code:"expenses = [\n    {'category': 'Food', 'amount': 25.50},\n    {'category': 'Transport', 'amount': 12.00},\n    {'category': 'Food', 'amount': 18.75}\n]\nprint(sum(e['amount'] for e in expenses))",best:true},{label:"Loop",code:"expenses = [\n    {'category': 'Food', 'amount': 25.50},\n    {'category': 'Transport', 'amount': 12.00},\n    {'category': 'Food', 'amount': 18.75}\n]\ntotal = 0\nfor e in expenses:\n    total += e['amount']\nprint(total)"}]},
{title:"Count by Category",task:"Count how many expenses are in each category. Print the result dict.",starterCode:"expenses = [\n    {'category': 'Food', 'amount': 25.50},\n    {'category': 'Transport', 'amount': 12.00},\n    {'category': 'Food', 'amount': 18.75}\n]\n# Count per category\n",expectedOutput:"{'Food': 2, 'Transport': 1}",hint:".get(cat, 0) + 1",bestExplanation:"Counting pattern with .get() is a fundamental Python pattern. In production, use collections.Counter.",solutions:[{label:"â­ Best",code:"expenses = [\n    {'category': 'Food', 'amount': 25.50},\n    {'category': 'Transport', 'amount': 12.00},\n    {'category': 'Food', 'amount': 18.75}\n]\ncounts = {}\nfor e in expenses:\n    cat = e['category']\n    counts[cat] = counts.get(cat, 0) + 1\nprint(counts)",best:true}]}
]}
]},

// â•â•â• COURSE 2: Web Scraping â•â•â•
{
id:'web-scraping',title:'Python for Web Scraping',icon:'ğŸ•·ï¸',color:'#10b981',
desc:'Extract data from websites â€” from understanding HTML to building complete scrapers.',
topics:[
// â”€â”€ Topic 2.1: Understanding the Web â”€â”€
{id:101,title:"Understanding the Web",icon:"ğŸŒ",
lessons:[
{title:"How the Web Works",content:"Before scraping websites, you need to understand how they work.\n\n[[[diagram:http-flow]]]\n\n**When you visit a website:**\n1. Your browser sends an **HTTP request** to a server\n2. The server sends back an **HTTP response** containing HTML\n3. Your browser **renders** the HTML into the page you see\n\n**Web scraping** replaces the browser with Python code. Instead of rendering the HTML visually, we **parse** it to extract specific data.\n\n**Why scrape?**\nâ€¢ Collect prices from multiple stores\nâ€¢ Gather research data from public databases\nâ€¢ Monitor changes on websites\nâ€¢ Build datasets for analysis\n\n**When NOT to scrape:**\nâ€¢ When an API exists (always preferred!)\nâ€¢ When the site's Terms of Service forbid it\nâ€¢ When it would overload the server\nâ€¢ Personal/private data"},
{title:"HTML Basics",content:"**HTML** (HyperText Markup Language) is the language of web pages. It uses **tags** to structure content:\n\n[[[diagram:html-tree]]]\n\nClick tags above to see the tree structure!\n\n```python\n<html>\n  <body>\n    <h1>Welcome</h1>\n    <div class=\"content\">\n      <p class=\"intro\">Hello World</p>\n      <a href=\"/about\">Click me</a>\n    </div>\n  </body>\n</html>\n```\n\n**Key concepts:**\nâ€¢ **Tags** come in pairs: `<h1>...</h1>` (open/close)\nâ€¢ **Attributes** provide extra info: `class=\"intro\"`, `href=\"/about\"`\nâ€¢ **class** â€” groups similar elements (can repeat)\nâ€¢ **id** â€” unique identifier (should be unique per page)\nâ€¢ Tags **nest** inside each other like folders in folders\n\n**Common tags:**\nâ€¢ `<h1>` to `<h6>` â€” headings\nâ€¢ `<p>` â€” paragraph\nâ€¢ `<a href=\"...\">` â€” link\nâ€¢ `<div>` â€” container/section\nâ€¢ `<span>` â€” inline container\nâ€¢ `<table>`, `<tr>`, `<td>` â€” tables\nâ€¢ `<ul>`, `<li>` â€” lists\nâ€¢ `<img src=\"...\">` â€” image"},
{title:"Browser DevTools",content:"Every browser has **Developer Tools** â€” your best friend for scraping!\n\n**How to open DevTools:**\nâ€¢ **Chrome/Edge:** Right-click â†’ Inspect (or F12)\nâ€¢ **Firefox:** Right-click â†’ Inspect Element (or F12)\nâ€¢ **Safari:** Enable in Preferences â†’ Advanced, then right-click â†’ Inspect\n\n**The Elements tab** shows the HTML source. You can:\nâ€¢ **Hover** over HTML to highlight elements on the page\nâ€¢ **Right-click element â†’ Copy â†’ Copy selector** to get CSS selector\nâ€¢ See classes, IDs, and attributes\n\n**The Network tab** shows all HTTP requests â€” useful for finding APIs and understanding what data loads dynamically.\n\n**Pro tip workflow:**\n1. Open the page in your browser\n2. Right-click the data you want â†’ Inspect\n3. Study the HTML structure (what tags, classes, IDs?)\n4. Write your Python selector to target those elements\n5. Test in Python\n\nThis is how professional scrapers work â€” **always inspect before coding!**"},
{title:"Ethics & Best Practices",content:"Web scraping is powerful but comes with responsibility:\n\n**Legal considerations:**\nâ€¢ Check the site's **robots.txt** (example.com/robots.txt) â€” it says what's allowed\nâ€¢ Read the **Terms of Service** â€” some sites explicitly forbid scraping\nâ€¢ Public data is generally OK; private/login-required data is risky\nâ€¢ Don't scrape personal information without consent\n\n**Technical politeness:**\nâ€¢ **Add delays** between requests (1-2 seconds minimum)\nâ€¢ **Set a User-Agent header** identifying yourself\nâ€¢ **Don't overload servers** â€” scrape during off-peak hours\nâ€¢ **Cache responses** â€” don't re-fetch data you already have\nâ€¢ **Handle errors gracefully** â€” don't retry-bomb a down server\n\n```python\nimport time\nimport requests\n\nheaders = {'User-Agent': 'MyScraperBot/1.0 (learning project)'}\n\nfor url in urls:\n    response = requests.get(url, headers=headers)\n    time.sleep(1)  # Be polite â€” wait 1 second between requests\n```\n\n[[[diagram:summary:Web scraping replaces browser with Python to extract data|||HTML uses tags with attributes (class, id, href) in a tree structure|||Browser DevTools (F12) let you inspect HTML structure|||Always inspect the page BEFORE writing scraper code|||Check robots.txt and Terms of Service|||Be polite: add delays, set User-Agent, don't overload servers]]]"}
],
exercises:[
{title:"HTTP Status",task:"Print the HTTP status code that means 'OK / Success'.",starterCode:"# Successful status code?\n",expectedOutput:"200",hint:"The most common success code",bestExplanation:"200 means the server successfully returned the page. Other common: 404=Not Found, 403=Forbidden, 500=Server Error.",solutions:[{label:"â­ Best",code:"print(200)",best:true}]},
{title:"HTML Tag",task:"Print the HTML tag used for links (just the tag name, no brackets).",starterCode:"# HTML link tag?\n",expectedOutput:"a",hint:"<a href='...'>Link text</a>",bestExplanation:"The <a> (anchor) tag creates hyperlinks. The href attribute contains the URL destination.",solutions:[{label:"â­ Best",code:"print('a')",best:true}]},
{title:"DevTools Shortcut",task:"Print the keyboard shortcut to open browser DevTools.",starterCode:"# Open DevTools\n",expectedOutput:"F12",hint:"Works in Chrome, Firefox, and Edge",bestExplanation:"F12 opens DevTools in all major browsers. You can also right-click â†’ Inspect Element.",solutions:[{label:"â­ Best",code:"print('F12')",best:true}]}
]},

// â”€â”€ Topic 2.2: HTTP Requests â”€â”€
{id:102,title:"HTTP Requests with Python",icon:"ğŸŒ",
lessons:[
{title:"The requests Library",content:"**requests** is Python's most popular HTTP library â€” simple and powerful:\n\n```python\nimport requests\n\nresponse = requests.get('https://example.com')\n\nprint(response.status_code)  # 200\nprint(response.text[:100])   # First 100 chars of HTML\nprint(response.headers)      # Server response headers\n```\n\n**Install it first:**\n```python\npip install requests\n```\n\n**Status codes to know:**\nâ€¢ `200` â€” OK, success\nâ€¢ `301/302` â€” Redirect (requests follows automatically)\nâ€¢ `403` â€” Forbidden (you're blocked)\nâ€¢ `404` â€” Not Found\nâ€¢ `429` â€” Too Many Requests (slow down!)\nâ€¢ `500` â€” Server Error"},
{title:"Headers, Params & Error Handling",content:"**Custom headers** â€” some sites block requests without a User-Agent:\n```python\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\n    'Accept-Language': 'en-US'\n}\nresponse = requests.get(url, headers=headers)\n```\n\n**Query parameters:**\n```python\n# Instead of building the URL manually:\n# requests.get('https://api.com/search?q=python&page=2')\n\n# Use params:\nparams = {'q': 'python', 'page': 2}\nresponse = requests.get('https://api.com/search', params=params)\n```\n\n**Error handling** â€” always protect your scraper:\n```python\nimport requests\n\ntry:\n    r = requests.get(url, headers=headers, timeout=10)\n    r.raise_for_status()  # Raises exception for 4xx/5xx\n    html = r.text\nexcept requests.exceptions.RequestException as e:\n    print(f\"Request failed: {e}\")\n```\n\n**timeout** prevents hanging forever if a server doesn't respond.\n\n[[[diagram:summary:requests.get(url) fetches a web page|||Always set headers with User-Agent to avoid being blocked|||Use params dict for URL query parameters|||Add timeout=10 to prevent hanging|||try/except with raise_for_status() handles errors gracefully|||Status 200=OK, 403=Blocked, 404=Not Found, 429=Too Fast]]]"}
],
exercises:[
{title:"First Request",task:"Import requests, GET 'https://example.com', print status code.",starterCode:"# First request\n",expectedOutput:"200",hint:"requests.get() then .status_code",bestExplanation:"Always check status_code before processing the response body.",solutions:[{label:"â­ Best",code:"import requests\nresponse = requests.get('https://example.com')\nprint(response.status_code)",best:true},{label:"Short",code:"import requests\nr = requests.get('https://example.com')\nprint(r.status_code)"}]},
{title:"Check Success",task:"Fetch 'https://example.com'. Print 'Success' if status 200, else 'Failed'.",starterCode:"import requests\n",expectedOutput:"Success",hint:"Ternary or if/else",bestExplanation:"In production, use r.raise_for_status() which throws on HTTP errors.",solutions:[{label:"â­ Best",code:"import requests\nr = requests.get('https://example.com')\nprint('Success' if r.status_code == 200 else 'Failed')",best:true}]},
{title:"With Headers",task:"Print a User-Agent header dictionary for a web scraper.",starterCode:"# Create headers dict\n",expectedOutput:"{'User-Agent': 'Mozilla/5.0'}",hint:"Dict with 'User-Agent' key",bestExplanation:"User-Agent tells the server what client is making the request. Without it, some sites return 403.",solutions:[{label:"â­ Best",code:"headers = {'User-Agent': 'Mozilla/5.0'}\nprint(headers)",best:true}]}
]},

// â”€â”€ Topic 2.3: HTML Parsing with BeautifulSoup â”€â”€
{id:103,title:"Parsing HTML with BeautifulSoup",icon:"ğŸœ",
lessons:[
{title:"Creating Soup Objects",content:"**BeautifulSoup** parses HTML and lets you navigate it like a tree:\n\n```python\nfrom bs4 import BeautifulSoup\n\nhtml = '<h1>Hello</h1><p class=\"intro\">World</p>'\nsoup = BeautifulSoup(html, 'html.parser')\n```\n\n**Install it:**\n```python\npip install beautifulsoup4\n```\n\n**The full workflow:**\n```python\nimport requests\nfrom bs4 import BeautifulSoup\n\n# Fetch\nresponse = requests.get('https://example.com')\n\n# Parse\nsoup = BeautifulSoup(response.text, 'html.parser')\n\n# Extract\ntitle = soup.find('h1').text\nprint(title)\n```\n\nAlways pass `'html.parser'` as the second argument â€” it tells BeautifulSoup which parser to use."},
{title:"Finding Elements",content:"BeautifulSoup gives you several ways to find elements:\n\n[[[diagram:selector-cheat]]]\n\n**find() â€” first match:**\n```python\nsoup.find('h1')                    # first <h1>\nsoup.find('p', class_='intro')     # first <p class=\"intro\">\nsoup.find('a', href='/about')      # first <a> with specific href\nsoup.find(id='main')               # element with id=\"main\"\n```\n\n**find_all() â€” all matches (returns list):**\n```python\nall_links = soup.find_all('a')     # all <a> tags\nall_items = soup.find_all('li')    # all <li> tags\nfirst_three = soup.find_all('p', limit=3)  # only first 3\n```\n\n**select() â€” CSS selectors (very powerful):**\n```python\nsoup.select('.product')            # class=\"product\"\nsoup.select('#header')             # id=\"header\"\nsoup.select('div.card > h3')       # <h3> directly inside <div class=\"card\">\nsoup.select('a[href^=\"/products\"]') # links starting with /products\nsoup.select('table tr:nth-child(2)') # 2nd row in table\n```\n\n**Tip:** `select()` uses the same syntax as CSS and browser DevTools â€” learn once, use everywhere!"},
{title:"Extracting Data",content:"Once you've found an element, extract what you need:\n\n**Text content:**\n```python\ntag = soup.find('h1')\ntag.text              # 'Hello World' (includes children text)\ntag.string            # 'Hello World' (only if single text node)\ntag.get_text(strip=True)  # stripped whitespace\n```\n\n**Attributes:**\n```python\nlink = soup.find('a')\nlink.get('href')      # Safe â€” returns None if missing\nlink['href']          # Raises KeyError if missing\nlink.get('class')     # Returns list: ['intro', 'bold']\n```\n\n**Navigating the tree:**\n```python\ntag.parent            # parent element\ntag.children          # direct children (iterator)\ntag.next_sibling      # next element at same level\ntag.find_parent('div') # first parent <div>\n```\n\n**Handling missing elements** (very important for real scraping!):\n```python\n# âŒ This crashes if element doesn't exist:\ntitle = soup.find('h1').text\n\n# âœ… Safe approach:\ntag = soup.find('h1')\ntitle = tag.text if tag else 'N/A'\n\n# âœ… Or use try/except:\ntry:\n    title = soup.find('h1').text\nexcept AttributeError:\n    title = 'N/A'\n```\n\n[[[diagram:summary:BeautifulSoup parses HTML into a navigable tree|||find() returns first match; find_all() returns all matches|||select() uses CSS selectors â€” same as browser DevTools|||.text gets text content; .get('attr') gets attributes safely|||Always handle missing elements: check for None or use try/except|||Use class_ (with underscore) for class attribute in find()]]]"}
],
exercises:[
{title:"Parse HTML",task:"Parse '<h1>Hello Scraper</h1>' and print the h1 text.",starterCode:"from bs4 import BeautifulSoup\n",expectedOutput:"Hello Scraper",hint:"soup.h1.text or soup.find('h1').text",bestExplanation:"soup.tag shorthand finds the first matching tag. .text extracts text content.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<h1>Hello Scraper</h1>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(soup.h1.text)",best:true},{label:"find()",code:"from bs4 import BeautifulSoup\nhtml = '<h1>Hello Scraper</h1>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(soup.find('h1').get_text())"}]},
{title:"Count Tags",task:"Count <li> items in the HTML and print the count.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<ul><li>Python</li><li>JavaScript</li><li>Ruby</li></ul>'\n",expectedOutput:"3",hint:"len(soup.find_all('li'))",bestExplanation:"find_all() returns a list. len() counts it. Works for any tag.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<ul><li>Python</li><li>JavaScript</li><li>Ruby</li></ul>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(len(soup.find_all('li')))",best:true},{label:"select",code:"from bs4 import BeautifulSoup\nhtml = '<ul><li>Python</li><li>JavaScript</li><li>Ruby</li></ul>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(len(soup.select('li')))"}]},
{title:"Extract Link",task:"Print the href from the <a> tag.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<a href=\"https://python.org\">Python</a>'\n",expectedOutput:"https://python.org",hint:".get('href') is safest",bestExplanation:".get('attr') returns None if missing. ['attr'] raises KeyError. Use .get() for safety.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<a href=\"https://python.org\">Python</a>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(soup.find('a').get('href'))",best:true}]},
{title:"All Links",task:"Print all href values, one per line.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<div><a href=\"/home\">Home</a><a href=\"/about\">About</a></div>'\n",expectedOutput:"/home\n/about",hint:"Loop find_all('a')",bestExplanation:"for loop over find_all() is the core scraping pattern.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<div><a href=\"/home\">Home</a><a href=\"/about\">About</a></div>'\nsoup = BeautifulSoup(html, 'html.parser')\nfor a in soup.find_all('a'):\n    print(a['href'])",best:true}]},
{title:"By Class",task:"Print the text of the element with class 'highlight'.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<div><p>Normal</p><p class=\"highlight\">Important!</p></div>'\n",expectedOutput:"Important!",hint:"find with class_ parameter",bestExplanation:"Use class_ (with underscore) because 'class' is a reserved word in Python.",solutions:[{label:"â­ find()",code:"from bs4 import BeautifulSoup\nhtml = '<div><p>Normal</p><p class=\"highlight\">Important!</p></div>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(soup.find('p', class_='highlight').text)",best:true},{label:"select",code:"from bs4 import BeautifulSoup\nhtml = '<div><p>Normal</p><p class=\"highlight\">Important!</p></div>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(soup.select_one('.highlight').text)"}]}
]},

// â”€â”€ Topic 2.4: Regex & Data Cleaning â”€â”€
{id:104,title:"Regex & Data Cleaning",icon:"ğŸ”¤",
lessons:[
{title:"Regular Expressions",content:"**Regex** (Regular Expressions) are powerful patterns for finding and cleaning text:\n\n```python\nimport re\n\n# Find all numbers\nre.findall(r'\\d+', 'Order 123 has 5 items')\n# ['123', '5']\n\n# Replace multiple spaces\nre.sub(r'\\s+', ' ', 'too  many  spaces')\n# 'too many spaces'\n\n# Search for a pattern\nmatch = re.search(r'\\$(\\d+\\.\\d{2})', 'Price: $29.99')\nif match:\n    print(match.group(1))  # '29.99'\n```\n\n**Essential patterns:**\nâ€¢ `\\d` â€” digit (0-9)\nâ€¢ `\\w` â€” word character (letter, digit, underscore)\nâ€¢ `\\s` â€” whitespace\nâ€¢ `.` â€” any character\nâ€¢ `+` â€” one or more\nâ€¢ `*` â€” zero or more\nâ€¢ `?` â€” zero or one\nâ€¢ `[A-Z]` â€” range of characters\nâ€¢ `^` â€” start of string, `$` â€” end\nâ€¢ `()` â€” capture group\n\n**Always use `r'...'`** (raw strings) for regex â€” prevents backslash issues."},
{title:"Cleaning Scraped Data",content:"Real web data is messy. Common cleaning tasks:\n\n```python\n# Remove extra whitespace\ntext = '  Hello   World  \\n\\n'\nclean = ' '.join(text.split())  # 'Hello World'\n\n# Extract price from text\nimport re\nprice_text = 'Now only $29.99!'\nprice = re.search(r'\\$(\\d+\\.\\d{2})', price_text)\nif price:\n    amount = float(price.group(1))  # 29.99\n\n# Remove HTML entities\ntext = '&amp; &lt; &gt;'\nimport html\nclean = html.unescape(text)  # '& < >'\n\n# Strip non-ASCII characters\nimport re\nclean = re.sub(r'[^\\x00-\\x7F]+', '', text)\n```\n\n**Tip:** BeautifulSoup's `.get_text(strip=True)` handles most whitespace issues automatically.\n\n[[[diagram:summary:re.findall() finds all pattern matches|||re.sub() replaces patterns|||re.search() finds first match with capture groups|||Always use raw strings r'...' for regex patterns|||Common: \\d (digit), \\w (word), \\s (space), + (one or more)|||Clean data: strip(), split()+join(), regex substitution]]]"}
],
exercises:[
{title:"Find Digits",task:"Extract all numbers from the text and print the list.",starterCode:"import re\ntext = 'Order 123 has 5 items worth $99'\n",expectedOutput:"['123', '5', '99']",hint:"r'\\d+' matches sequences of digits",bestExplanation:"re.findall() returns all non-overlapping matches. The r prefix is essential for regex.",solutions:[{label:"â­ Best",code:"import re\ntext = 'Order 123 has 5 items worth $99'\nprint(re.findall(r'\\d+', text))",best:true}]},
{title:"Clean Whitespace",task:"Clean 'Hello    World   !' to 'Hello World !' and print it.",starterCode:"text = 'Hello    World   !'\n",expectedOutput:"Hello World !",hint:"' '.join(text.split())",bestExplanation:"split() without args splits on any whitespace and removes empty strings. join() reassembles with single spaces.",solutions:[{label:"â­ Best",code:"text = 'Hello    World   !'\nprint(' '.join(text.split()))",best:true},{label:"Regex",code:"import re\ntext = 'Hello    World   !'\nprint(re.sub(r'\\s+', ' ', text).strip())"}]}
]},

// â”€â”€ Topic 2.5: Real-World Scraping â”€â”€
{id:105,title:"Real-World Scraping Techniques",icon:"ğŸ”§",
lessons:[
{title:"Tables & Structured Data",content:"Tables are common scraping targets:\n\n```python\nhtml = '''\n<table>\n  <tr><th>Name</th><th>Price</th></tr>\n  <tr><td>Apple</td><td>$1.20</td></tr>\n  <tr><td>Banana</td><td>$0.50</td></tr>\n</table>\n'''\n\nsoup = BeautifulSoup(html, 'html.parser')\ntable = soup.find('table')\n\n# Get headers\nheaders = ['#e2e8f0' for th in table.find_all('th')]\n\n# Get data rows\ndata = []\nfor tr in table.find_all('tr')[1:]:  # skip header row\n    row = [td.text.strip() for td in tr.find_all('td')]\n    data.append(row)\n\nprint(headers)  # ['Name', 'Price']\nprint(data)     # [['Apple', '$1.20'], ['Banana', '$0.50']]\n```"},
{title:"Pagination & Multiple Pages",content:"Most websites spread data across multiple pages:\n\n```python\nimport requests\nfrom bs4 import BeautifulSoup\nimport time\n\nall_items = []\n\nfor page in range(1, 6):  # Pages 1 through 5\n    url = f'https://shop.com/products?page={page}'\n    r = requests.get(url, headers=headers, timeout=10)\n    \n    if r.status_code != 200:\n        print(f\"Page {page} failed\")\n        break\n    \n    soup = BeautifulSoup(r.text, 'html.parser')\n    items = soup.select('.product-card')\n    \n    if not items:  # No more products\n        break\n    \n    for item in items:\n        name = item.select_one('.name').text.strip()\n        price = item.select_one('.price').text.strip()\n        all_items.append({'name': name, 'price': price})\n    \n    print(f\"Page {page}: {len(items)} items\")\n    time.sleep(1)  # Be polite!\n\nprint(f\"Total: {len(all_items)} items\")\n```\n\n**Key patterns:**\nâ€¢ URL pattern: `?page=1`, `?page=2`, etc.\nâ€¢ Stop condition: empty results or status error\nâ€¢ Always add `time.sleep()` between requests"},
{title:"Saving Scraped Data",content:"After scraping, save your data:\n\n**To CSV (most common):**\n```python\nimport csv\n\nwith open('products.csv', 'w', newline='') as f:\n    writer = csv.DictWriter(f, fieldnames=['name', 'price'])\n    writer.writeheader()\n    writer.writerows(all_items)\n```\n\n**To JSON:**\n```python\nimport json\n\nwith open('products.json', 'w') as f:\n    json.dump(all_items, f, indent=2)\n```\n\n**To pandas DataFrame:**\n```python\nimport pandas as pd\n\ndf = pd.DataFrame(all_items)\ndf.to_csv('products.csv', index=False)\nprint(df.head())\n```\n\n**Complete scraper template:**\n\n[[[diagram:scraper-template]]]\n\n[[[diagram:summary:Table scraping: find_all('tr') for rows, find_all('td') for cells|||Pagination: loop through ?page=N, stop when empty|||Always add time.sleep() between requests|||Save to CSV with csv.DictWriter or pandas to_csv()|||Save to JSON with json.dump()|||Handle errors at every step â€” real websites are unpredictable]]]"}
],
exercises:[
{title:"Table Row",task:"Print first data row as 'Alice, 30'.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<table><tr><th>Name</th><th>Age</th></tr><tr><td>Alice</td><td>30</td></tr></table>'\n",expectedOutput:"Alice, 30",hint:"find_all('tr')[1] then find_all('td')",bestExplanation:"Generator expression inside join() is elegant. [1] skips the header row.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<table><tr><th>Name</th><th>Age</th></tr><tr><td>Alice</td><td>30</td></tr></table>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(', '.join(td.text for td in soup.find_all('tr')[1].find_all('td')))",best:true},{label:"Step by step",code:"from bs4 import BeautifulSoup\nhtml = '<table><tr><th>Name</th><th>Age</th></tr><tr><td>Alice</td><td>30</td></tr></table>'\nsoup = BeautifulSoup(html, 'html.parser')\nrow = soup.find_all('tr')[1]\ncells = [td.text for td in row.find_all('td')]\nprint(', '.join(cells))"}]},
{title:"Page URL Builder",task:"Print the URL for page 3 of a product listing.",starterCode:"base = 'https://shop.com/products'\npage = 3\n",expectedOutput:"https://shop.com/products?page=3",hint:"f-string with query parameter",bestExplanation:"f-strings are cleanest for URL building. For complex params, use requests params dict.",solutions:[{label:"â­ Best",code:"base = 'https://shop.com/products'\npage = 3\nprint(f'{base}?page={page}')",best:true}]},
{title:"Extract Table Headers",task:"Print the list of table headers.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<table><tr><th>Name</th><th>Age</th><th>City</th></tr></table>'\n",expectedOutput:"['Name', 'Age', 'City']",hint:"['#e2e8f0' for th in soup.find_all('th')]",bestExplanation:"List comprehension over find_all() is the standard pattern for extracting multiple values.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<table><tr><th>Name</th><th>Age</th><th>City</th></tr></table>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint(['#e2e8f0' for th in soup.find_all('th')])",best:true}]}
]},

// â”€â”€ Topic 2.6: Capstone Projects â”€â”€
{id:106,title:"ğŸ† Scraping Capstone",icon:"ğŸ†",
lessons:[
{title:"Project: News Headline Scraper",content:"Let's build a complete scraper that collects headlines from a news page!\n\n```python\nimport requests\nfrom bs4 import BeautifulSoup\nimport csv\nimport time\n\ndef scrape_headlines(url, headers):\n    \"\"\"Scrape article headlines from a page.\"\"\"\n    try:\n        r = requests.get(url, headers=headers, timeout=10)\n        r.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error: {e}\")\n        return []\n    \n    soup = BeautifulSoup(r.text, 'html.parser')\n    articles = []\n    \n    for item in soup.select('article, .article, .story'):\n        title_tag = item.find(['h1', 'h2', 'h3'])\n        link_tag = item.find('a')\n        \n        if title_tag:\n            articles.append({\n                'title': title_tag.get_text(strip=True),\n                'link': link_tag.get('href', '') if link_tag else ''\n            })\n    \n    return articles\n\ndef save_to_csv(articles, filename):\n    \"\"\"Save articles to CSV file.\"\"\"\n    with open(filename, 'w', newline='') as f:\n        writer = csv.DictWriter(f, fieldnames=['title', 'link'])\n        writer.writeheader()\n        writer.writerows(articles)\n    print(f\"Saved {len(articles)} articles to {filename}\")\n\n# Usage\nheaders = {'User-Agent': 'Mozilla/5.0'}\narticles = scrape_headlines('https://example.com/news', headers)\nsave_to_csv(articles, 'headlines.csv')\n```\n\n**What this demonstrates:**\nâ€¢ Functions for clean organization\nâ€¢ Error handling with try/except\nâ€¢ Multiple selector fallbacks (`h1`, `h2`, `h3`)\nâ€¢ Safe attribute extraction with `.get()`\nâ€¢ Saving results to CSV"},
{title:"What's Next?",content:"You now have the skills to scrape most websites! Here are ideas to practice:\n\n**Beginner projects:**\nâ€¢ Weather data scraper\nâ€¢ Movie ratings collector\nâ€¢ Recipe ingredient extractor\n\n**Intermediate projects:**\nâ€¢ Price comparison across stores\nâ€¢ Job listing aggregator\nâ€¢ Social media trend tracker\n\n**Advanced challenges:**\nâ€¢ Dynamic pages (use Selenium or Playwright)\nâ€¢ Login-required pages (session handling)\nâ€¢ Large-scale scraping (async with aiohttp)\n\n**Libraries to explore next:**\nâ€¢ **Selenium** â€” automates a real browser (for JavaScript pages)\nâ€¢ **Playwright** â€” modern alternative to Selenium\nâ€¢ **Scrapy** â€” full scraping framework for large projects\nâ€¢ **pandas** â€” for analyzing your scraped data\n\n[[[diagram:summary:Real scrapers combine: requests + BeautifulSoup + error handling + saving|||Use functions to organize scraper logic|||Handle missing elements safely with if/try|||Multiple fallback selectors handle varied page structures|||Save data to CSV/JSON for analysis|||Next steps: Selenium for dynamic pages, Scrapy for large projects]]]"}
],
exercises:[
{title:"Complete Scraper",task:"Extract all <li> texts as a list and print it.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<ul><li>Data 1</li><li>Data 2</li><li>Data 3</li></ul>'\n",expectedOutput:"['Data 1', 'Data 2', 'Data 3']",hint:"[li.text for li in soup.find_all('li')]",bestExplanation:"List comprehension over find_all() is the core scraping pattern â€” find elements, extract data.",solutions:[{label:"â­ Best",code:"from bs4 import BeautifulSoup\nhtml = '<ul><li>Data 1</li><li>Data 2</li><li>Data 3</li></ul>'\nsoup = BeautifulSoup(html, 'html.parser')\nprint([li.text for li in soup.find_all('li')])",best:true}]},
{title:"Safe Extract",task:"Safely extract h2 text, print 'N/A' if not found.",starterCode:"from bs4 import BeautifulSoup\nhtml = '<div><p>No heading here</p></div>'\n",expectedOutput:"N/A",hint:"Check if find() returns None",bestExplanation:"Always handle missing elements. Real pages have inconsistent structure â€” None checks prevent crashes.",solutions:[{label:"â­ Ternary",code:"from bs4 import BeautifulSoup\nhtml = '<div><p>No heading here</p></div>'\nsoup = BeautifulSoup(html, 'html.parser')\ntag = soup.find('h2')\nprint(tag.text if tag else 'N/A')",best:true},{label:"try/except",code:"from bs4 import BeautifulSoup\nhtml = '<div><p>No heading here</p></div>'\nsoup = BeautifulSoup(html, 'html.parser')\ntry:\n    print(soup.find('h2').text)\nexcept AttributeError:\n    print('N/A')"}]}
]}
]},

// â•â•â• COURSE 3: Python for SQL â•â•â•
{
id:'py-sql',title:'Python for SQL & Databases',icon:'ğŸ—ƒï¸',color:'#f59e0b',
desc:'Store, query, and analyze data with databases â€” from basic SQL to real-world projects.',
topics:[
// â”€â”€ Topic 3.1: Database Concepts â”€â”€
{id:201,title:"What Are Databases?",icon:"ğŸ’¡",
lessons:[
{title:"Why Databases?",content:"Imagine you're tracking 10,000 customers and their orders. You could use a spreadsheet, but:\n\nâ€¢ It gets **slow** with lots of data\nâ€¢ Multiple people can't edit at once without conflicts\nâ€¢ Searching is limited\nâ€¢ No data validation\n\nA **database** solves all of this. Think of it as a **super-powered spreadsheet** that can:\nâ€¢ Handle millions of rows effortlessly\nâ€¢ Let many users access data simultaneously\nâ€¢ Search any column instantly\nâ€¢ Enforce rules (e.g., email must be unique)\nâ€¢ Link related data across tables\n\n**SQL** (Structured Query Language) is the universal language for talking to databases. Learn SQL once, use it with any database (MySQL, PostgreSQL, SQLite, etc.)."},
{title:"Tables, Rows & Columns",content:"A database stores data in **tables** â€” just like spreadsheets:\n\n[[[diagram:db-concept]]]\n\n**Key concepts:**\nâ€¢ **Table** â€” a collection of related data (like one sheet)\nâ€¢ **Row** (record) â€” one entry (like one spreadsheet row)\nâ€¢ **Column** (field) â€” one attribute (like one spreadsheet column)\nâ€¢ **Primary Key** â€” unique identifier for each row (usually `id`)\nâ€¢ **Foreign Key** â€” links to another table's primary key\n\nIn the diagram above, `orders.user_id` is a **foreign key** that points to `users.id`. This is how we connect related data across tables.\n\n**Why SQLite?**\nSQLite comes **built into Python** â€” no installation, no server, no configuration. Your database is just a single file. Perfect for learning and small-to-medium projects.\n\n[[[diagram:summary:Databases are super-powered spreadsheets for structured data|||Tables hold rows (records) and columns (fields)|||Primary Key uniquely identifies each row (usually id)|||Foreign Key links tables together|||SQL is the universal database language|||SQLite is built into Python â€” no setup needed]]]"}
],
exercises:[
{title:"Data Storage",task:"Print the name of the database engine built into Python.",starterCode:"# Built-in Python database\n",expectedOutput:"SQLite",hint:"It requires no installation or server",bestExplanation:"SQLite stores the entire database in a single file. Import with: import sqlite3. No server needed.",solutions:[{label:"â­ Best",code:"print('SQLite')",best:true}]},
{title:"Primary Key",task:"Print what uniquely identifies each row in a database table.",starterCode:"# Unique row identifier\n",expectedOutput:"primary key",hint:"Two words: primary ___",bestExplanation:"Primary keys are usually auto-incrementing integers (id). They must be unique and not NULL.",solutions:[{label:"â­ Best",code:"print('primary key')",best:true}]}
]},

// â”€â”€ Topic 3.2: SQLite with Python â”€â”€
{id:202,title:"SQLite with Python",icon:"ğŸ’¾",
lessons:[
{title:"Connecting & Creating Tables",content:"**Three steps** to start using SQLite in Python:\n\n```python\nimport sqlite3\n\n# 1. Connect (creates file if it doesn't exist)\nconn = sqlite3.connect('mydata.db')\n\n# 2. Create a cursor (sends commands to database)\ncursor = conn.cursor()\n\n# 3. Create a table\ncursor.execute('''\n    CREATE TABLE IF NOT EXISTS students (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL,\n        age INTEGER,\n        grade REAL\n    )\n''')\nconn.commit()  # Save changes!\n```\n\n**SQL data types in SQLite:**\nâ€¢ `INTEGER` â€” whole numbers (1, 42, -7)\nâ€¢ `REAL` â€” decimal numbers (3.14, 99.9)\nâ€¢ `TEXT` â€” strings ('Alice', 'hello')\nâ€¢ `BLOB` â€” binary data (images, files)\nâ€¢ `NULL` â€” no value\n\n**Column constraints:**\nâ€¢ `PRIMARY KEY` â€” unique identifier\nâ€¢ `AUTOINCREMENT` â€” auto-assigns increasing numbers\nâ€¢ `NOT NULL` â€” value required\nâ€¢ `UNIQUE` â€” no duplicate values\nâ€¢ `DEFAULT value` â€” default if not specified\n\n**Always call `conn.commit()`** after changes, or they'll be lost!"},
{title:"CRUD Operations",content:"**CRUD** = Create, Read, Update, Delete â€” the four basic database operations:\n\n[[[diagram:crud-ops]]]\n\n**INSERT â€” adding data:**\n```python\n# âš ï¸ ALWAYS use ? placeholders â€” NEVER use f-strings!\ncursor.execute(\n    'INSERT INTO students (name, age, grade) VALUES (?, ?, ?)',\n    ('Alice', 20, 3.8)\n)\n\n# Insert multiple rows at once:\nstudents = [\n    ('Bob', 22, 3.5),\n    ('Carol', 19, 3.9),\n    ('Dave', 21, 3.2)\n]\ncursor.executemany(\n    'INSERT INTO students (name, age, grade) VALUES (?, ?, ?)',\n    students\n)\nconn.commit()\n```\n\n**SELECT â€” reading data:**\n```python\ncursor.execute('SELECT * FROM students')\nall_rows = cursor.fetchall()  # List of tuples\nfor row in all_rows:\n    print(row)  # (1, 'Alice', 20, 3.8)\n\n# Fetch one row:\ncursor.execute('SELECT name FROM students WHERE id = ?', (1,))\nresult = cursor.fetchone()  # ('Alice',)\n```\n\n**UPDATE â€” changing data:**\n```python\ncursor.execute(\n    'UPDATE students SET grade = ? WHERE name = ?',\n    (3.9, 'Alice')\n)\nconn.commit()\n```\n\n**DELETE â€” removing data:**\n```python\ncursor.execute('DELETE FROM students WHERE age < ?', (20,))\nconn.commit()\n```\n\n**âš ï¸ SQL Injection Prevention:**\n```python\n# âŒ DANGEROUS â€” never do this:\nname = \"Alice\"\ncursor.execute(f\"SELECT * FROM students WHERE name = '{name}'\")\n\n# âœ… SAFE â€” always use placeholders:\ncursor.execute('SELECT * FROM students WHERE name = ?', (name,))\n```\nUsing `?` placeholders prevents SQL injection â€” one of the most common security attacks.\n\n[[[diagram:summary:Connect with sqlite3.connect('file.db'), create cursor|||CREATE TABLE defines structure with column types|||CRUD: Create (INSERT), Read (SELECT), Update (UPDATE), Delete (DELETE)|||ALWAYS use ? placeholders â€” NEVER put variables in SQL strings|||fetchall() returns all rows; fetchone() returns one|||Always conn.commit() after INSERT/UPDATE/DELETE]]]"}
],
exercises:[
{title:"SQL Types",task:"Print the SQL type for decimal numbers.",starterCode:"# SQL decimal type\n",expectedOutput:"REAL",hint:"REAL = floating point",bestExplanation:"SQLite has 5 types: NULL, INTEGER, REAL, TEXT, BLOB. REAL stores 8-byte floating point.",solutions:[{label:"â­ Best",code:"print('REAL')",best:true}]},
{title:"Safe Queries",task:"Print the placeholder character for safe SQLite queries in Python.",starterCode:"# Safe SQL placeholder\n",expectedOutput:"?",hint:"Use ? not f-strings",bestExplanation:"? placeholders prevent SQL injection â€” one of the most common security vulnerabilities ever.",solutions:[{label:"â­ Best",code:"print('?')",best:true}]},
{title:"Insert Syntax",task:"Print the SQL keyword to add a new row to a table.",starterCode:"# Add data keyword\n",expectedOutput:"INSERT INTO",hint:"___ INTO table_name",bestExplanation:"INSERT INTO table (columns) VALUES (values) is the standard SQL syntax for adding data.",solutions:[{label:"â­ Best",code:"print('INSERT INTO')",best:true}]},
{title:"Fetch All",task:"Print the Python method that retrieves all query results.",starterCode:"# Get all results\n",expectedOutput:"fetchall()",hint:"cursor.fetch___() returns a list",bestExplanation:"fetchall() returns a list of tuples. fetchone() returns a single tuple. Use fetchall() for small result sets.",solutions:[{label:"â­ Best",code:"print('fetchall()')",best:true}]}
]},

// â”€â”€ Topic 3.3: Queries & Filtering â”€â”€
{id:203,title:"Querying Data",icon:"ğŸ”",
lessons:[
{title:"WHERE â€” Filtering Rows",content:"**WHERE** lets you filter which rows are returned:\n\n```python\n# Basic comparison\ncursor.execute('SELECT * FROM students WHERE age > 20')\n\n# Multiple conditions\ncursor.execute('SELECT * FROM students WHERE age > 20 AND grade >= 3.5')\ncursor.execute('SELECT * FROM students WHERE age < 18 OR age > 65')\n\n# Pattern matching with LIKE\ncursor.execute(\"SELECT * FROM students WHERE name LIKE 'A%'\")  # starts with A\ncursor.execute(\"SELECT * FROM students WHERE name LIKE '%son'\")  # ends with 'son'\ncursor.execute(\"SELECT * FROM students WHERE name LIKE '%li%'\")  # contains 'li'\n\n# IN â€” match against a list\ncursor.execute('SELECT * FROM students WHERE age IN (18, 19, 20)')\n\n# BETWEEN â€” range\ncursor.execute('SELECT * FROM students WHERE grade BETWEEN 3.0 AND 4.0')\n\n# NULL checks\ncursor.execute('SELECT * FROM students WHERE email IS NULL')\ncursor.execute('SELECT * FROM students WHERE email IS NOT NULL')\n```\n\n**Comparison operators:** `=`, `!=` (or `<>`), `>`, `<`, `>=`, `<=`"},
{title:"ORDER BY, LIMIT & More",content:"**Sorting results:**\n```python\n# Sort ascending (default)\ncursor.execute('SELECT * FROM students ORDER BY grade ASC')\n\n# Sort descending (highest first)\ncursor.execute('SELECT * FROM students ORDER BY grade DESC')\n\n# Multiple sort criteria\ncursor.execute('SELECT * FROM students ORDER BY age DESC, name ASC')\n```\n\n**Limiting results:**\n```python\n# Top 5 students by grade\ncursor.execute('SELECT * FROM students ORDER BY grade DESC LIMIT 5')\n\n# Skip first 10, get next 5 (pagination)\ncursor.execute('SELECT * FROM students LIMIT 5 OFFSET 10')\n```\n\n**DISTINCT â€” unique values only:**\n```python\ncursor.execute('SELECT DISTINCT city FROM students')\n```\n\n**Combining clauses** â€” the full pattern:\n```python\nSELECT columns\nFROM table\nWHERE condition\nORDER BY column DESC\nLIMIT count OFFSET skip\n```\nOrder matters! WHERE before ORDER BY before LIMIT.\n\n[[[diagram:summary:WHERE filters rows: =, !=, >, <, AND, OR, NOT|||LIKE for pattern matching: % = any characters, _ = single character|||IN (list) checks membership; BETWEEN for ranges|||IS NULL / IS NOT NULL for missing values|||ORDER BY sorts results (ASC default, DESC for reverse)|||LIMIT restricts row count; OFFSET skips rows (pagination)]]]"}
],
exercises:[
{title:"SQL Filter",task:"Print a WHERE clause that filters age > 25.",starterCode:"# SQL WHERE clause\n",expectedOutput:"WHERE age > 25",hint:"WHERE column operator value",bestExplanation:"In Python, use parameterized: cursor.execute('... WHERE age > ?', (25,)).",solutions:[{label:"â­ Best",code:"print('WHERE age > 25')",best:true}]},
{title:"SQL Sort",task:"Print SQL to select all from 'products' ordered by price descending.",starterCode:"# SQL ORDER BY\n",expectedOutput:"SELECT * FROM products ORDER BY price DESC",hint:"ORDER BY column DESC",bestExplanation:"DESC = highest first. Sorting in SQL is faster than fetching all rows and sorting in Python.",solutions:[{label:"â­ Best",code:"print('SELECT * FROM products ORDER BY price DESC')",best:true}]},
{title:"Pattern Match",task:"Print a LIKE pattern that matches names starting with 'J'.",starterCode:"# LIKE pattern for names starting with J\n",expectedOutput:"J%",hint:"% matches any number of characters",bestExplanation:"% is the SQL wildcard. 'J%' = starts with J. '%son' = ends with son. '%mid%' = contains mid.",solutions:[{label:"â­ Best",code:"print('J%')",best:true}]},
{title:"Top 3",task:"Print SQL to get the top 3 highest-priced products.",starterCode:"# Top 3 by price\n",expectedOutput:"SELECT * FROM products ORDER BY price DESC LIMIT 3",hint:"ORDER BY + LIMIT",bestExplanation:"ORDER BY DESC + LIMIT is the standard pattern for 'top N' queries. Very common in practice.",solutions:[{label:"â­ Best",code:"print('SELECT * FROM products ORDER BY price DESC LIMIT 3')",best:true}]}
]},

// â”€â”€ Topic 3.4: Aggregation & Grouping â”€â”€
{id:204,title:"Aggregation & Grouping",icon:"ğŸ“Š",
lessons:[
{title:"Aggregate Functions",content:"SQL can summarize data with **aggregate functions**:\n\n```python\n# Count rows\ncursor.execute('SELECT COUNT(*) FROM students')  # total rows\ncursor.execute('SELECT COUNT(email) FROM students')  # non-NULL emails\n\n# Math aggregates\ncursor.execute('SELECT AVG(grade) FROM students')   # average\ncursor.execute('SELECT SUM(amount) FROM orders')     # total\ncursor.execute('SELECT MAX(grade) FROM students')    # highest\ncursor.execute('SELECT MIN(age) FROM students')      # lowest\n\n# Combine multiple\ncursor.execute('SELECT COUNT(*), AVG(grade), MAX(grade) FROM students')\ncount, avg, max_grade = cursor.fetchone()\nprint(f\"{count} students, avg grade: {avg:.2f}, top: {max_grade}\")\n```\n\nThese functions work on an entire column and return a single value."},
{title:"GROUP BY & HAVING",content:"**GROUP BY** groups rows and applies aggregates per group:\n\n```python\n# Count students per city\ncursor.execute('''\n    SELECT city, COUNT(*) as student_count\n    FROM students\n    GROUP BY city\n''')\n# Result: ('New York', 15), ('Chicago', 8), ...\n\n# Average grade per department\ncursor.execute('''\n    SELECT department, AVG(grade) as avg_grade\n    FROM students\n    GROUP BY department\n    ORDER BY avg_grade DESC\n''')\n```\n\n**HAVING** filters groups (like WHERE but for groups):\n```python\n# Cities with more than 10 students\ncursor.execute('''\n    SELECT city, COUNT(*) as cnt\n    FROM students\n    GROUP BY city\n    HAVING cnt > 10\n    ORDER BY cnt DESC\n''')\n```\n\n**WHERE vs HAVING:**\nâ€¢ `WHERE` filters **individual rows** before grouping\nâ€¢ `HAVING` filters **groups** after grouping\n\n```python\n# Students older than 18, grouped by city, only cities with 5+ students\ncursor.execute('''\n    SELECT city, COUNT(*) as cnt\n    FROM students\n    WHERE age > 18          -- filter rows first\n    GROUP BY city           -- then group\n    HAVING cnt >= 5         -- then filter groups\n    ORDER BY cnt DESC       -- finally sort\n''')\n```\n\n[[[diagram:summary:COUNT(), SUM(), AVG(), MIN(), MAX() summarize columns|||GROUP BY groups rows for per-group aggregation|||HAVING filters groups (use after GROUP BY)|||WHERE filters rows before grouping; HAVING filters groups after|||Execution order: WHERE â†’ GROUP BY â†’ HAVING â†’ ORDER BY|||Use aliases (AS name) for readability]]]"}
],
exercises:[
{title:"Count Rows",task:"Print the SQL to count all rows in a 'users' table.",starterCode:"# Count all users\n",expectedOutput:"SELECT COUNT(*) FROM users",hint:"COUNT(*) counts all rows",bestExplanation:"COUNT(*) counts all rows including NULLs. COUNT(column) counts non-NULL values only.",solutions:[{label:"â­ Best",code:"print('SELECT COUNT(*) FROM users')",best:true}]},
{title:"Average",task:"Print SQL to get the average price from 'products'.",starterCode:"# Average price\n",expectedOutput:"SELECT AVG(price) FROM products",hint:"AVG() function",bestExplanation:"AVG() calculates the arithmetic mean. It ignores NULL values automatically.",solutions:[{label:"â­ Best",code:"print('SELECT AVG(price) FROM products')",best:true}]},
{title:"Group By",task:"Print SQL to count orders per customer_id.",starterCode:"# Orders per customer\n",expectedOutput:"SELECT customer_id, COUNT(*) FROM orders GROUP BY customer_id",hint:"GROUP BY groups + COUNT(*) counts per group",bestExplanation:"GROUP BY + aggregate function is THE pattern for per-group statistics. Essential SQL skill.",solutions:[{label:"â­ Best",code:"print('SELECT customer_id, COUNT(*) FROM orders GROUP BY customer_id')",best:true}]}
]},

// â”€â”€ Topic 3.5: JOINs â”€â”€
{id:205,title:"Joining Tables",icon:"ğŸ”—",
lessons:[
{title:"Why JOINs?",content:"Real databases split data across multiple tables. **JOINs** reconnect them:\n\n[[[diagram:join-visual]]]\n\nClick INNER vs LEFT above to see the difference!\n\n```python\n# INNER JOIN â€” only matching rows from BOTH tables\ncursor.execute('''\n    SELECT users.name, orders.product, orders.amount\n    FROM users\n    INNER JOIN orders ON users.id = orders.user_id\n''')\n```\n\n**JOIN types:**\nâ€¢ **INNER JOIN** â€” only rows that match in both tables\nâ€¢ **LEFT JOIN** â€” ALL rows from left table + matches from right (NULL if no match)\nâ€¢ **RIGHT JOIN** â€” opposite of LEFT (not supported in SQLite)\nâ€¢ **CROSS JOIN** â€” every combination (rarely used)\n\n**When to use which?**\nâ€¢ Need only matching data? â†’ INNER JOIN\nâ€¢ Need all customers, even without orders? â†’ LEFT JOIN"},
{title:"JOIN in Practice",content:"**Using aliases** for shorter code:\n```python\ncursor.execute('''\n    SELECT u.name, o.product, o.amount\n    FROM users u\n    JOIN orders o ON u.id = o.user_id\n    WHERE o.amount > 50\n    ORDER BY o.amount DESC\n''')\n```\n\n**Joining multiple tables:**\n```python\ncursor.execute('''\n    SELECT u.name, p.product_name, o.quantity\n    FROM users u\n    JOIN orders o ON u.id = o.user_id\n    JOIN products p ON o.product_id = p.id\n    WHERE u.city = 'New York'\n''')\n```\n\n**LEFT JOIN â€” keep all left rows:**\n```python\n# All customers, with their orders (or NULL)\ncursor.execute('''\n    SELECT u.name, o.product\n    FROM users u\n    LEFT JOIN orders o ON u.id = o.user_id\n''')\n# Carol appears with NULL product â€” she has no orders\n```\n\n[[[diagram:summary:INNER JOIN returns only rows matching in both tables|||LEFT JOIN returns ALL left rows + matches (NULL if no match)|||Use ON to specify which columns link the tables|||Aliases (FROM users u) make code shorter and clearer|||You can JOIN multiple tables in one query|||Always specify table.column to avoid ambiguity]]]"}
],
exercises:[
{title:"JOIN Syntax",task:"Print SQL for INNER JOIN between 'orders' and 'customers' on customer_id.",starterCode:"# SQL JOIN\n",expectedOutput:"SELECT * FROM orders JOIN customers ON orders.customer_id = customers.id",hint:"JOIN table ON condition",bestExplanation:"INNER JOIN (or just JOIN) returns only matching rows. Use table.column to avoid ambiguity.",solutions:[{label:"â­ Best",code:"print('SELECT * FROM orders JOIN customers ON orders.customer_id = customers.id')",best:true},{label:"Aliases",code:"print('SELECT * FROM orders o JOIN customers c ON o.customer_id = c.id')"}]},
{title:"LEFT JOIN",task:"Print the JOIN type that keeps ALL rows from the left table.",starterCode:"# Keep all left rows\n",expectedOutput:"LEFT JOIN",hint:"All from left, matches from right, NULL if no match",bestExplanation:"LEFT JOIN includes unmatched rows from the left table with NULL for right-side columns.",solutions:[{label:"â­ Best",code:"print('LEFT JOIN')",best:true}]}
]},

// â”€â”€ Topic 3.6: Pandas + SQL â”€â”€
{id:206,title:"Pandas + SQL Integration",icon:"ğŸ¼",
lessons:[
{title:"Reading SQL into Pandas",content:"**pandas** bridges SQL databases and Python data analysis:\n\n```python\nimport pandas as pd\nimport sqlite3\n\nconn = sqlite3.connect('data.db')\n\n# Read query results directly into DataFrame\ndf = pd.read_sql_query('SELECT * FROM students', conn)\nprint(df)\nprint(df.describe())  # Statistics summary\n```\n\n**You can use any SQL query:**\n```python\n# Complex query â†’ clean DataFrame\ndf = pd.read_sql_query('''\n    SELECT u.name, COUNT(o.id) as order_count, SUM(o.amount) as total\n    FROM users u\n    LEFT JOIN orders o ON u.id = o.user_id\n    GROUP BY u.name\n    ORDER BY total DESC\n''', conn)\n\nprint(df.head())\n```\n\nThis is incredibly powerful â€” SQL handles the heavy lifting, pandas does the analysis."},
{title:"Writing DataFrames to SQL",content:"**Save DataFrame to database:**\n```python\nimport pandas as pd\nimport sqlite3\n\n# Create DataFrame\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Carol'],\n    'score': [90, 85, 92]\n})\n\n# Write to SQLite\nconn = sqlite3.connect('data.db')\ndf.to_sql('scores', conn, if_exists='replace', index=False)\n```\n\n**if_exists options:**\nâ€¢ `'fail'` â€” error if table exists (default)\nâ€¢ `'replace'` â€” drop and recreate\nâ€¢ `'append'` â€” add rows to existing table\n\n**When to use SQL vs Pandas?**\nâ€¢ **SQL** â€” filtering, joining, aggregating large data (fast!)\nâ€¢ **Pandas** â€” complex transformations, visualization, statistics\nâ€¢ **Both together** â€” SQL pre-filters, Pandas analyzes\n\n```python\n# Best practice: let SQL do the heavy work\ndf = pd.read_sql_query('''\n    SELECT * FROM sales\n    WHERE date >= '2024-01-01'\n    AND amount > 100\n''', conn)  # SQL filters first\n\n# Then pandas does the analysis\nmonthly = df.groupby(df['date'].str[:7])['amount'].sum()\nprint(monthly)\n```\n\n[[[diagram:summary:pd.read_sql_query(sql, conn) loads SQL results into DataFrame|||df.to_sql('table', conn) saves DataFrame to database|||if_exists: 'replace' overwrites, 'append' adds rows|||Use SQL for filtering/joining (fast), Pandas for analysis|||Let SQL do heavy lifting, Pandas does final analysis|||This combo is the standard for data science workflows]]]"}
],
exercises:[
{title:"Pandas SQL",task:"Print the pandas function name for reading SQL queries.",starterCode:"# Pandas SQL reader\n",expectedOutput:"read_sql_query",hint:"pd.read_sql_query(sql, conn)",bestExplanation:"read_sql_query() returns a DataFrame directly. The most common way to load database data for analysis.",solutions:[{label:"â­ Best",code:"print('read_sql_query')",best:true}]},
{title:"Save DataFrame",task:"Print the pandas method name that writes a DataFrame to a SQL table.",starterCode:"# DataFrame to SQL\n",expectedOutput:"to_sql",hint:"df.to_sql('table', conn)",bestExplanation:"to_sql() writes DataFrame rows to a database table. Use if_exists='replace' or 'append'.",solutions:[{label:"â­ Best",code:"print('to_sql')",best:true}]},
{title:"When SQL",task:"Print which tool is better for filtering millions of rows: 'SQL' or 'Pandas'.",starterCode:"# Filter millions of rows â€” which is faster?\n",expectedOutput:"SQL",hint:"Databases are optimized for filtering",bestExplanation:"SQL databases use indexes and query optimization. Filtering in SQL before loading to Pandas is much faster than loading everything first.",solutions:[{label:"â­ Best",code:"print('SQL')",best:true}]}
]},

// â”€â”€ Topic 3.7: Capstone â”€â”€
{id:207,title:"ğŸ† SQL Capstone: Library DB",icon:"ğŸ†",
lessons:[
{title:"Project: Personal Library Database",content:"Let's build a complete database project â€” a **personal library tracker**!\n\n```python\nimport sqlite3\n\ndef create_db():\n    conn = sqlite3.connect('library.db')\n    c = conn.cursor()\n    c.execute('''CREATE TABLE IF NOT EXISTS books (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        title TEXT NOT NULL,\n        author TEXT NOT NULL,\n        year INTEGER,\n        rating REAL,\n        read INTEGER DEFAULT 0\n    )''')\n    conn.commit()\n    return conn\n\ndef add_book(conn, title, author, year, rating=None):\n    conn.cursor().execute(\n        'INSERT INTO books (title, author, year, rating, read) VALUES (?, ?, ?, ?, ?)',\n        (title, author, year, rating, 0)\n    )\n    conn.commit()\n    print(f\"Added: {title} by {author}\")\n\ndef mark_read(conn, book_id, rating):\n    conn.cursor().execute(\n        'UPDATE books SET read = 1, rating = ? WHERE id = ?',\n        (rating, book_id)\n    )\n    conn.commit()\n\ndef search(conn, query):\n    c = conn.cursor()\n    c.execute(\n        'SELECT id, title, author, year, rating FROM books WHERE title LIKE ? OR author LIKE ?',\n        (f'%{query}%', f'%{query}%')\n    )\n    return c.fetchall()\n\ndef stats(conn):\n    c = conn.cursor()\n    c.execute('SELECT COUNT(*), AVG(rating) FROM books WHERE read = 1')\n    count, avg = c.fetchone()\n    print(f\"Read: {count} books, avg rating: {avg:.1f}\")\n    \n    c.execute('SELECT author, COUNT(*) as cnt FROM books GROUP BY author ORDER BY cnt DESC LIMIT 3')\n    print(\"Top authors:\", c.fetchall())\n\n# Usage\nconn = create_db()\nadd_book(conn, 'Python Crash Course', 'Eric Matthes', 2019)\nadd_book(conn, 'Automate the Boring Stuff', 'Al Sweigart', 2020)\nadd_book(conn, 'Fluent Python', 'Luciano Ramalho', 2022)\nmark_read(conn, 1, 4.5)\nmark_read(conn, 2, 4.0)\n\nprint(\"\\nSearch 'Python':\")\nfor book in search(conn, 'Python'):\n    print(f\"  {book}\")\n\nprint()\nstats(conn)\nconn.close()\n```\n\n**Concepts used:**\nâ€¢ CREATE TABLE with constraints\nâ€¢ INSERT with placeholders\nâ€¢ UPDATE to modify data\nâ€¢ SELECT with WHERE, LIKE, GROUP BY\nâ€¢ Aggregate functions (COUNT, AVG)\nâ€¢ Functions for clean organization\n\n[[[diagram:summary:Real projects combine multiple SQL operations|||Functions organize database logic cleanly|||Always use ? placeholders for safety|||GROUP BY + aggregate functions for statistics|||LIKE with % for flexible text searching|||Always close the connection when done: conn.close()]]]"}
],
exercises:[
{title:"Create Table",task:"Print SQL to create a 'books' table with columns: id (PRIMARY KEY), title (TEXT), author (TEXT).",starterCode:"# Create books table\n",expectedOutput:"CREATE TABLE books (id INTEGER PRIMARY KEY, title TEXT, author TEXT)",hint:"CREATE TABLE name (col1 TYPE, col2 TYPE, ...)",bestExplanation:"CREATE TABLE defines the schema. INTEGER PRIMARY KEY auto-assigns IDs in SQLite.",solutions:[{label:"â­ Best",code:"print('CREATE TABLE books (id INTEGER PRIMARY KEY, title TEXT, author TEXT)')",best:true}]},
{title:"Search Query",task:"Print SQL to find books with 'Python' in the title.",starterCode:"# Find Python books\n",expectedOutput:"SELECT * FROM books WHERE title LIKE '%Python%'",hint:"LIKE '%text%' matches anywhere in the string",bestExplanation:"LIKE with % wildcards is the standard SQL text search. For exact match, use = instead.",solutions:[{label:"â­ Best",code:"print(\"SELECT * FROM books WHERE title LIKE '%Python%'\")",best:true}]}
]}
]}
,

// â•â•â• COURSE 4: Practice Projects â•â•â•
{
id:'projects',title:'Practice Projects',icon:'ğŸ—ï¸',color:'#ec4899',
desc:'Apply everything you learned â€” build real projects from beginner to advanced.',
topics:[
// â”€â”€ 4.1: Project Approach â”€â”€
{id:301,title:"How to Build Projects",icon:"ğŸ¯",
lessons:[
{title:"The Project Mindset",content:"Building projects is how you **actually learn** programming. Reading tutorials gets you 20% â€” building things gets you the other 80%.\n\n[[[diagram:project-flow]]]\n\n**Step 1: Plan** ğŸ¤”\nâ€¢ What does the program do? (one sentence)\nâ€¢ What inputs does it need?\nâ€¢ What outputs should it produce?\nâ€¢ Break it into small steps\n\n**Step 2: Build** ğŸ—ï¸\nâ€¢ Start with the simplest version\nâ€¢ Get ONE thing working before adding more\nâ€¢ Use `print()` to check values as you go\nâ€¢ Don't try to write perfect code first time\n\n**Step 3: Test** ğŸ§ª\nâ€¢ Try normal inputs\nâ€¢ Try edge cases (empty, zero, very large)\nâ€¢ Try breaking it on purpose\n\n**Step 4: Improve** âœ¨\nâ€¢ Add error handling\nâ€¢ Make the code cleaner\nâ€¢ Add new features\n\n**Golden rule:** Start simple, then iterate. A working simple program beats a broken complex one.\n\n[[[diagram:summary:Plan first â€” break the problem into small steps|||Build the simplest version first, then add features|||Test with normal inputs AND edge cases|||Improve: add error handling, refactor, extend|||print() is your best debugging tool|||A working simple program beats a broken complex one]]]"},
{title:"Reading Error Messages",content:"Errors are not failures â€” they're **guides**. Python tells you exactly what went wrong:\n\n```python\n# SyntaxError â€” typo in code\nprint('hello'  # Missing closing )\n# SyntaxError: unexpected EOF while parsing\n\n# NameError â€” variable doesn't exist\nprint(username)  # forgot to define it\n# NameError: name 'username' is not defined\n\n# TypeError â€” wrong type\n'age: ' + 25  # can't add string + int\n# TypeError: can only concatenate str to str\n\n# IndexError â€” list too short\nnums = [1, 2, 3]\nprint(nums[5])  # only 0, 1, 2 exist\n# IndexError: list index out of range\n\n# KeyError â€” dict key doesn't exist\ndata = {'name': 'Alice'}\nprint(data['age'])  # 'age' not in dict\n# KeyError: 'age'\n```\n\n**How to read an error:**\n1. Look at the **last line** â€” it tells you the error type and message\n2. Look at the **line number** â€” it shows where the error happened\n3. Google the exact error message if you're stuck\n\n**Pro tip:** Read errors from **bottom to top**!"}
],
exercises:[
{title:"Error Type",task:"Print the error type you get when using an undefined variable.",starterCode:"# Undefined variable error\n",expectedOutput:"NameError",hint:"print(x) when x doesn't exist â†’ ???Error",bestExplanation:"NameError means Python can't find a variable with that name. Check spelling or define it first.",solutions:[{label:"â­ Best",code:"print('NameError')",best:true}]}
]},

// â”€â”€ 4.2: Number Guessing Game â”€â”€
{id:302,title:"ğŸ² Number Guessing Game",icon:"ğŸ²",
lessons:[
{title:"Build: Number Guessing Game",content:"A classic beginner project! The computer picks a random number, and the player guesses.\n\n**The plan:**\nâ€¢ Computer picks random number 1-100\nâ€¢ Player guesses\nâ€¢ Computer says 'too high', 'too low', or 'correct!'\nâ€¢ Track number of attempts\n\n```python\nimport random\n\nnumber = random.randint(1, 100)\nattempts = 0\n\nprint(\"I'm thinking of a number between 1 and 100!\")\n\nwhile True:\n    guess = int(input(\"Your guess: \"))\n    attempts += 1\n    \n    if guess < number:\n        print(\"Too low! Try higher.\")\n    elif guess > number:\n        print(\"Too high! Try lower.\")\n    else:\n        print(f\"Correct! You got it in {attempts} attempts!\")\n        break\n\n# Rate the player\nif attempts <= 5:\n    print(\"Amazing! ğŸŒŸ\")\nelif attempts <= 10:\n    print(\"Good job! ğŸ‘\")\nelse:\n    print(\"Keep practicing! ğŸ’ª\")\n```\n\n**Concepts used:** random, while loop, if/elif/else, input(), f-strings, comparison operators\n\n**Challenge extensions:**\nâ€¢ Add input validation (what if they type 'abc'?)\nâ€¢ Add a hint system ('within 10 of the answer!')\nâ€¢ Let the player choose difficulty (1-10, 1-100, 1-1000)"}
],
exercises:[
{title:"Random Number",task:"Import random and print a random integer between 1 and 100.",starterCode:"import random\n",expectedOutput:"",hint:"random.randint(1, 100)",bestExplanation:"random.randint(a, b) returns random integer including both endpoints.",solutions:[{label:"â­ Best",code:"import random\nprint(random.randint(1, 100))",best:true}]},
{title:"Guess Check",task:"Given guess=50 and answer=75, print 'Too low!'.",starterCode:"guess = 50\nanswer = 75\n",expectedOutput:"Too low!",hint:"if guess < answer",bestExplanation:"Simple comparison drives the game loop. < means too low, > means too high, == means correct.",solutions:[{label:"â­ Best",code:"guess = 50\nanswer = 75\nif guess < answer:\n    print('Too low!')",best:true},{label:"Ternary",code:"guess = 50\nanswer = 75\nprint('Too low!' if guess < answer else 'Too high!' if guess > answer else 'Correct!')"}]}
]},

// â”€â”€ 4.3: Password Generator â”€â”€
{id:303,title:"ğŸ” Password Generator",icon:"ğŸ”",
lessons:[
{title:"Build: Password Generator",content:"Create strong, random passwords â€” a very practical tool!\n\n```python\nimport random\nimport string\n\ndef generate_password(length=12, use_special=True):\n    \"\"\"Generate a random secure password.\"\"\"\n    chars = string.ascii_letters + string.digits\n    if use_special:\n        chars += string.punctuation\n    \n    # Ensure at least one of each type\n    password = [\n        random.choice(string.ascii_uppercase),\n        random.choice(string.ascii_lowercase),\n        random.choice(string.digits),\n    ]\n    if use_special:\n        password.append(random.choice(string.punctuation))\n    \n    # Fill remaining length\n    remaining = length - len(password)\n    password += [random.choice(chars) for _ in range(remaining)]\n    \n    # Shuffle so required chars aren't always first\n    random.shuffle(password)\n    return ''.join(password)\n\n# Generate passwords\nprint(\"Simple:\", generate_password(8, use_special=False))\nprint(\"Strong:\", generate_password(16, use_special=True))\nprint(\"Extra:\",  generate_password(20))\n```\n\n**Concepts used:** string module, random.choice(), lists, functions with defaults, list comprehension, join()\n\n**Challenge extensions:**\nâ€¢ Add strength meter (weak/medium/strong)\nâ€¢ Generate multiple passwords at once\nâ€¢ Exclude confusing characters (0/O, l/1)"}
],
exercises:[
{title:"String Module",task:"Print all digits available in string.digits.",starterCode:"import string\n",expectedOutput:"0123456789",hint:"string.digits is a pre-built string",bestExplanation:"string module provides: ascii_letters, digits, punctuation, ascii_uppercase, ascii_lowercase.",solutions:[{label:"â­ Best",code:"import string\nprint(string.digits)",best:true}]},
{title:"Random Choice",task:"Print a random choice from the list ['a', 'b', 'c'].",starterCode:"import random\n",expectedOutput:"",hint:"random.choice(list)",bestExplanation:"random.choice() picks one random element from a sequence. Core building block for password generators.",solutions:[{label:"â­ Best",code:"import random\nprint(random.choice(['a', 'b', 'c']))",best:true}]}
]},

// â”€â”€ 4.4: Unit Converter â”€â”€
{id:304,title:"ğŸ“ Unit Converter",icon:"ğŸ“",
lessons:[
{title:"Build: Unit Converter",content:"A multi-purpose converter using dictionaries and functions:\n\n```python\ndef convert(value, from_unit, to_unit):\n    \"\"\"Convert between units using a conversion table.\"\"\"\n    # All conversions relative to a base unit\n    conversions = {\n        # Length (base: meters)\n        'length': {\n            'm': 1, 'km': 1000, 'cm': 0.01, 'mm': 0.001,\n            'ft': 0.3048, 'in': 0.0254, 'mi': 1609.34\n        },\n        # Weight (base: grams)\n        'weight': {\n            'g': 1, 'kg': 1000, 'mg': 0.001,\n            'lb': 453.592, 'oz': 28.3495\n        },\n        # Temperature handled separately\n    }\n    \n    # Find which category contains both units\n    for category, units in conversions.items():\n        if from_unit in units and to_unit in units:\n            # Convert: from_unit â†’ base â†’ to_unit\n            base_value = value * units[from_unit]\n            result = base_value / units[to_unit]\n            return round(result, 4)\n    \n    # Temperature special case\n    if from_unit == 'C' and to_unit == 'F':\n        return round(value * 9/5 + 32, 2)\n    elif from_unit == 'F' and to_unit == 'C':\n        return round((value - 32) * 5/9, 2)\n    \n    return None  # Unknown conversion\n\n# Test it\nprint(f\"5 km = {convert(5, 'km', 'mi')} mi\")\nprint(f\"100 lb = {convert(100, 'lb', 'kg')} kg\")\nprint(f\"72 F = {convert(72, 'F', 'C')} C\")\nprint(f\"180 cm = {convert(180, 'cm', 'ft')} ft\")\n```\n\n**Concepts used:** nested dictionaries, functions, for loop with dict.items(), math operations, rounding\n\n**Challenge extensions:**\nâ€¢ Add more categories (time, volume, area)\nâ€¢ Interactive mode with input()\nâ€¢ Conversion history"}
],
exercises:[
{title:"Celsius to F",task:"Convert 0 Celsius to Fahrenheit. Print the result.",starterCode:"celsius = 0\n",expectedOutput:"32.0",hint:"F = C Ã— 9/5 + 32",bestExplanation:"Temperature formulas: F = CÃ—9/5+32, C = (F-32)Ã—5/9. Must be handled separately from ratio-based conversions.",solutions:[{label:"â­ Best",code:"celsius = 0\nprint(celsius * 9/5 + 32)",best:true}]},
{title:"Dict Lookup",task:"Print the value for 'km' from the conversion dict.",starterCode:"length = {'m': 1, 'km': 1000, 'cm': 0.01}\n",expectedOutput:"1000",hint:"dict['key']",bestExplanation:"Dictionary lookup is O(1) â€” instant regardless of size. Perfect for conversion tables.",solutions:[{label:"â­ Best",code:"length = {'m': 1, 'km': 1000, 'cm': 0.01}\nprint(length['km'])",best:true}]}
]},

// â”€â”€ 4.5: Expense Tracker â”€â”€
{id:305,title:"ğŸ’° Expense Tracker",icon:"ğŸ’°",
lessons:[
{title:"Build: Personal Expense Tracker",content:"Track spending with file storage â€” combines many Python skills:\n\n```python\nimport json\nimport os\nfrom datetime import datetime\n\nFILE = 'expenses.json'\n\ndef load_expenses():\n    if os.path.exists(FILE):\n        with open(FILE) as f:\n            return json.load(f)\n    return []\n\ndef save_expenses(expenses):\n    with open(FILE, 'w') as f:\n        json.dump(expenses, f, indent=2)\n\ndef add_expense(expenses, amount, category, note=''):\n    expense = {\n        'date': datetime.now().strftime('%Y-%m-%d'),\n        'amount': round(amount, 2),\n        'category': category,\n        'note': note\n    }\n    expenses.append(expense)\n    save_expenses(expenses)\n    print(f\"Added: ${amount:.2f} ({category})\")\n\ndef summary(expenses):\n    if not expenses:\n        print(\"No expenses yet!\")\n        return\n    \n    total = sum(e['amount'] for e in expenses)\n    print(f\"\\nTotal: ${total:.2f} across {len(expenses)} expenses\")\n    \n    # By category\n    categories = {}\n    for e in expenses:\n        cat = e['category']\n        categories[cat] = categories.get(cat, 0) + e['amount']\n    \n    print(\"\\nBy category:\")\n    for cat, amt in sorted(categories.items(), key=lambda x: -x[1]):\n        pct = amt / total * 100\n        bar = 'â–ˆ' * int(pct / 5)\n        print(f\"  {cat:12s} ${amt:8.2f} ({pct:.0f}%) {bar}\")\n\n# Usage\nexpenses = load_expenses()\nadd_expense(expenses, 45.50, 'Food', 'Groceries')\nadd_expense(expenses, 120.00, 'Transport', 'Monthly pass')\nadd_expense(expenses, 9.99, 'Entertainment', 'Netflix')\nadd_expense(expenses, 35.00, 'Food', 'Restaurant')\nsummary(expenses)\n```\n\n**Concepts used:** JSON file I/O, datetime, dictionaries, functions, sorting, string formatting, list comprehension\n\n**Challenge extensions:**\nâ€¢ Monthly/weekly reports\nâ€¢ Budget limits with warnings\nâ€¢ CSV export for spreadsheets"}
],
exercises:[
{title:"JSON Save",task:"Print the function to write Python data as JSON.",starterCode:"import json\n",expectedOutput:"json.dump",hint:"json.dump() writes to file, json.dumps() returns string",bestExplanation:"json.dump(data, file) writes to file. json.dumps(data) returns a string. The 's' stands for 'string'.",solutions:[{label:"â­ Best",code:"import json\nprint('json.dump')",best:true}]},
{title:"Date Format",task:"Print today's date in YYYY-MM-DD format.",starterCode:"from datetime import datetime\n",expectedOutput:"",hint:"strftime('%Y-%m-%d')",bestExplanation:"strftime formats dates: %Y=year, %m=month, %d=day. ISO 8601 format (YYYY-MM-DD) is universal.",solutions:[{label:"â­ Best",code:"from datetime import datetime\nprint(datetime.now().strftime('%Y-%m-%d'))",best:true}]}
]},

// â”€â”€ 4.6: Book Price Scraper â”€â”€
{id:306,title:"ğŸ“š Book Price Scraper",icon:"ğŸ“š",
lessons:[
{title:"Build: Book Price Comparison Scraper",content:"Combine web scraping with data analysis to compare book prices!\n\n```python\nimport requests\nfrom bs4 import BeautifulSoup\nimport csv\nimport time\n\ndef scrape_books(url, headers):\n    \"\"\"Scrape book titles and prices from a page.\"\"\"\n    try:\n        r = requests.get(url, headers=headers, timeout=10)\n        r.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error fetching {url}: {e}\")\n        return []\n    \n    soup = BeautifulSoup(r.text, 'html.parser')\n    books = []\n    \n    for article in soup.select('article.product_pod'):\n        title_tag = article.select_one('h3 a')\n        price_tag = article.select_one('.price_color')\n        rating_tag = article.select_one('.star-rating')\n        \n        if title_tag and price_tag:\n            # Extract rating from class name\n            rating_class = rating_tag.get('class', ['', ''])[1] if rating_tag else 'Zero'\n            rating_map = {'One': 1, 'Two': 2, 'Three': 3, 'Four': 4, 'Five': 5}\n            \n            books.append({\n                'title': title_tag.get('title', title_tag.text.strip()),\n                'price': float(price_tag.text.strip().replace('Â£', '')),\n                'rating': rating_map.get(rating_class, 0)\n            })\n    return books\n\ndef save_and_analyze(books, filename='books.csv'):\n    \"\"\"Save books and show analysis.\"\"\"\n    if not books:\n        print(\"No books found!\")\n        return\n    \n    # Save to CSV\n    with open(filename, 'w', newline='') as f:\n        w = csv.DictWriter(f, fieldnames=['title', 'price', 'rating'])\n        w.writeheader()\n        w.writerows(books)\n    \n    # Analysis\n    prices = [b['price'] for b in books]\n    print(f\"\\nğŸ“Š Analysis of {len(books)} books:\")\n    print(f\"  Cheapest: Â£{min(prices):.2f}\")\n    print(f\"  Most expensive: Â£{max(prices):.2f}\")\n    print(f\"  Average price: Â£{sum(prices)/len(prices):.2f}\")\n    \n    top_rated = [b for b in books if b['rating'] >= 4]\n    print(f\"  Highly rated (4-5 stars): {len(top_rated)}\")\n    \n    print(f\"\\nSaved to {filename}\")\n\n# Run scraper (uses books.toscrape.com â€” a practice site)\nheaders = {'User-Agent': 'Mozilla/5.0 (Learning Project)'}\nall_books = []\n\nfor page in range(1, 4):  # First 3 pages\n    url = f'https://books.toscrape.com/catalogue/page-{page}.html'\n    books = scrape_books(url, headers)\n    all_books.extend(books)\n    print(f\"Page {page}: {len(books)} books\")\n    time.sleep(1)  # Be polite!\n\nsave_and_analyze(all_books)\n```\n\n**Concepts used:** requests, BeautifulSoup, CSS selectors, CSV export, data analysis, pagination, error handling, time delays\n\n**Challenge extensions:**\nâ€¢ Filter by price range or rating\nâ€¢ Sort by best value (high rating + low price)\nâ€¢ Compare prices across multiple sites"}
],
exercises:[
{title:"Price Extract",task:"Extract the number from 'Â£29.99' and print as float.",starterCode:"price_text = 'Â£29.99'\n",expectedOutput:"29.99",hint:".replace('Â£', '') then float()",bestExplanation:"String cleaning â†’ type conversion is the core of scraping data. Always strip currency symbols and whitespace.",solutions:[{label:"â­ Best",code:"price_text = 'Â£29.99'\nprint(float(price_text.replace('Â£', '')))",best:true}]},
{title:"Min Price",task:"Print the cheapest price from the list.",starterCode:"prices = [29.99, 15.50, 42.00, 8.99, 55.25]\n",expectedOutput:"8.99",hint:"min() function",bestExplanation:"min() and max() work on any iterable. Combine with list comprehensions for filtered analysis.",solutions:[{label:"â­ Best",code:"prices = [29.99, 15.50, 42.00, 8.99, 55.25]\nprint(min(prices))",best:true}]}
]},

// â”€â”€ 4.7: Todo App with SQLite â”€â”€
{id:307,title:"âœ… Todo App with Database",icon:"âœ…",
lessons:[
{title:"Build: Todo App with SQLite",content:"A complete command-line todo manager with database persistence:\n\n```python\nimport sqlite3\nfrom datetime import datetime\n\ndef init_db():\n    conn = sqlite3.connect('todos.db')\n    conn.execute('''CREATE TABLE IF NOT EXISTS todos (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        task TEXT NOT NULL,\n        category TEXT DEFAULT 'general',\n        done INTEGER DEFAULT 0,\n        created TEXT,\n        completed TEXT\n    )''')\n    conn.commit()\n    return conn\n\ndef add_todo(conn, task, category='general'):\n    conn.execute(\n        'INSERT INTO todos (task, category, created) VALUES (?, ?, ?)',\n        (task, category, datetime.now().strftime('%Y-%m-%d %H:%M'))\n    )\n    conn.commit()\n    print(f\"âœ… Added: {task} [{category}]\")\n\ndef complete_todo(conn, todo_id):\n    conn.execute(\n        'UPDATE todos SET done=1, completed=? WHERE id=?',\n        (datetime.now().strftime('%Y-%m-%d %H:%M'), todo_id)\n    )\n    conn.commit()\n    print(f\"ğŸ‰ Completed task #{todo_id}!\")\n\ndef show_todos(conn, show_done=False):\n    query = 'SELECT id, task, category, done FROM todos'\n    if not show_done:\n        query += ' WHERE done = 0'\n    query += ' ORDER BY id'\n    \n    rows = conn.execute(query).fetchall()\n    if not rows:\n        print(\"ğŸ“­ No tasks!\")\n        return\n    \n    for id, task, cat, done in rows:\n        status = 'âœ“' if done else 'â—‹'\n        print(f\"  {status} [{id}] {task} ({cat})\")\n\ndef stats(conn):\n    total = conn.execute('SELECT COUNT(*) FROM todos').fetchone()[0]\n    done = conn.execute('SELECT COUNT(*) FROM todos WHERE done=1').fetchone()[0]\n    pending = total - done\n    \n    print(f\"\\nğŸ“Š Stats: {done} done, {pending} pending, {total} total\")\n    \n    cats = conn.execute('''\n        SELECT category, COUNT(*) as cnt\n        FROM todos WHERE done=0\n        GROUP BY category ORDER BY cnt DESC\n    ''').fetchall()\n    if cats:\n        print(\"Pending by category:\")\n        for cat, cnt in cats:\n            print(f\"  {cat}: {cnt}\")\n\n# Usage\nconn = init_db()\nadd_todo(conn, 'Learn Python basics', 'learning')\nadd_todo(conn, 'Build a scraper', 'learning')\nadd_todo(conn, 'Buy groceries', 'personal')\nadd_todo(conn, 'Review SQL notes', 'learning')\n\ncomplete_todo(conn, 1)\n\nprint(\"\\nğŸ“‹ Pending tasks:\")\nshow_todos(conn)\nstats(conn)\nconn.close()\n```\n\n**Concepts used:** SQLite CRUD, datetime, functions, string formatting, conditional queries, GROUP BY\n\n**Challenge extensions:**\nâ€¢ Priority levels (high/medium/low)\nâ€¢ Due dates with overdue warnings\nâ€¢ Search by keyword"}
],
exercises:[
{title:"SQL Update",task:"Print SQL to mark todo #5 as done (set done=1).",starterCode:"# Mark task 5 as done\n",expectedOutput:"UPDATE todos SET done=1 WHERE id=5",hint:"UPDATE table SET column=value WHERE condition",bestExplanation:"UPDATE modifies existing rows. Always use WHERE to target specific rows â€” without it, ALL rows get updated!",solutions:[{label:"â­ Best",code:"print('UPDATE todos SET done=1 WHERE id=5')",best:true}]},
{title:"Count Pending",task:"Print SQL to count todos where done=0.",starterCode:"# Count pending tasks\n",expectedOutput:"SELECT COUNT(*) FROM todos WHERE done=0",hint:"COUNT(*) with WHERE filter",bestExplanation:"COUNT(*) + WHERE is the pattern for counting filtered rows. Very common in dashboard queries.",solutions:[{label:"â­ Best",code:"print('SELECT COUNT(*) FROM todos WHERE done=0')",best:true}]}
]},

// â”€â”€ 4.8: Weather Dashboard â”€â”€
{id:308,title:"ğŸŒ¤ï¸ Weather Dashboard",icon:"ğŸŒ¤ï¸",
lessons:[
{title:"Build: Weather Dashboard",content:"Combine scraping, data processing, and display into a weather dashboard:\n\n```python\nimport requests\nimport json\nfrom datetime import datetime\n\ndef get_weather(city, api_key='demo'):\n    \"\"\"Fetch weather data from OpenWeatherMap API.\"\"\"\n    url = 'https://api.openweathermap.org/data/2.5/weather'\n    params = {\n        'q': city,\n        'appid': api_key,\n        'units': 'metric'\n    }\n    \n    try:\n        r = requests.get(url, params=params, timeout=10)\n        r.raise_for_status()\n        return r.json()\n    except requests.exceptions.RequestException as e:\n        print(f\"Error: {e}\")\n        return None\n\ndef display_weather(data):\n    \"\"\"Display weather data beautifully.\"\"\"\n    if not data:\n        print(\"No data available\")\n        return\n    \n    name = data['name']\n    temp = data['main']['temp']\n    feels = data['main']['feels_like']\n    desc = data['weather'][0]['description']\n    humidity = data['main']['humidity']\n    wind = data['wind']['speed']\n    \n    # Weather emoji\n    emojis = {'clear': 'â˜€ï¸', 'cloud': 'â˜ï¸', 'rain': 'ğŸŒ§ï¸', 'snow': 'â„ï¸', 'thunder': 'â›ˆï¸'}\n    emoji = 'ğŸŒ¡ï¸'\n    for key, e in emojis.items():\n        if key in desc.lower():\n            emoji = e\n            break\n    \n    print(f\"\\n{emoji} Weather in {name}\")\n    print(f\"{'â”€' * 30}\")\n    print(f\"  Temperature: {temp}Â°C (feels like {feels}Â°C)\")\n    print(f\"  Conditions:  {desc.title()}\")\n    print(f\"  Humidity:    {humidity}%\")\n    print(f\"  Wind:        {wind} m/s\")\n    print(f\"  Updated:     {datetime.now().strftime('%H:%M')}\")\n\ndef compare_cities(cities, api_key='demo'):\n    \"\"\"Compare weather across multiple cities.\"\"\"\n    print(\"\\nğŸŒ Weather Comparison\")\n    print(f\"{'City':15s} {'Temp':>6s} {'Humidity':>8s} {'Wind':>6s}\")\n    print('â”€' * 40)\n    \n    for city in cities:\n        data = get_weather(city, api_key)\n        if data:\n            t = data['main']['temp']\n            h = data['main']['humidity']\n            w = data['wind']['speed']\n            print(f\"{data['name']:15s} {t:5.1f}Â°C {h:7d}% {w:5.1f}\")\n\n# Usage (needs real API key from openweathermap.org)\ndata = get_weather('London')\ndisplay_weather(data)\ncompare_cities(['Tokyo', 'London', 'New York', 'Sydney'])\n```\n\n**Concepts used:** API requests, JSON parsing, nested dictionaries, string formatting, error handling, functions\n\n**Challenge extensions:**\nâ€¢ 5-day forecast display\nâ€¢ Save history to SQLite\nâ€¢ Temperature trend chart with matplotlib"}
],
exercises:[
{title:"JSON Parse",task:"Extract the 'temp' from nested weather data and print it.",starterCode:"data = {'main': {'temp': 22.5, 'humidity': 60}, 'name': 'London'}\n",expectedOutput:"22.5",hint:"data['main']['temp'] â€” nested dict access",bestExplanation:"API responses are typically nested JSON/dicts. Chain keys to drill down: data['level1']['level2'].",solutions:[{label:"â­ Best",code:"data = {'main': {'temp': 22.5, 'humidity': 60}, 'name': 'London'}\nprint(data['main']['temp'])",best:true}]},
{title:"Format Output",task:"Print 'Tokyo: 28.5Â°C' using the variables below.",starterCode:"city = 'Tokyo'\ntemp = 28.5\n",expectedOutput:"Tokyo: 28.5Â°C",hint:"f-string with special characters",bestExplanation:"f-strings handle any expression: {temp:.1f} for one decimal. The Â° symbol can be typed directly.",solutions:[{label:"â­ Best",code:"city = 'Tokyo'\ntemp = 28.5\nprint(f'{city}: {temp}Â°C')",best:true}]}
]},

// â”€â”€ 4.9: Portfolio Tracker â”€â”€
{id:309,title:"ğŸ“ˆ Portfolio Tracker",icon:"ğŸ“ˆ",
lessons:[
{title:"Build: Portfolio Tracker",content:"The ultimate project â€” combines API, SQLite, and Pandas:\n\n```python\nimport sqlite3\nimport requests\nimport pandas as pd\nfrom datetime import datetime\n\n# â”€â”€ Database Setup â”€â”€\ndef init_db():\n    conn = sqlite3.connect('portfolio.db')\n    conn.execute('''CREATE TABLE IF NOT EXISTS holdings (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        symbol TEXT NOT NULL,\n        shares REAL NOT NULL,\n        buy_price REAL NOT NULL,\n        buy_date TEXT\n    )''')\n    conn.execute('''CREATE TABLE IF NOT EXISTS price_history (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        symbol TEXT,\n        price REAL,\n        recorded TEXT\n    )''')\n    conn.commit()\n    return conn\n\n# â”€â”€ Data Functions â”€â”€\ndef add_holding(conn, symbol, shares, buy_price):\n    conn.execute(\n        'INSERT INTO holdings (symbol, shares, buy_price, buy_date) VALUES (?, ?, ?, ?)',\n        (symbol.upper(), shares, buy_price, datetime.now().strftime('%Y-%m-%d'))\n    )\n    conn.commit()\n    print(f\"Added {shares} shares of {symbol.upper()} at ${buy_price:.2f}\")\n\ndef record_price(conn, symbol, price):\n    conn.execute(\n        'INSERT INTO price_history (symbol, price, recorded) VALUES (?, ?, ?)',\n        (symbol, price, datetime.now().strftime('%Y-%m-%d %H:%M'))\n    )\n    conn.commit()\n\n# â”€â”€ Analysis â”€â”€\ndef portfolio_summary(conn, current_prices):\n    \"\"\"Show portfolio performance.\"\"\"\n    df = pd.read_sql_query('SELECT symbol, shares, buy_price FROM holdings', conn)\n    \n    if df.empty:\n        print(\"No holdings yet!\")\n        return\n    \n    # Add current prices and calculate gains\n    df['current_price'] = df['symbol'].map(current_prices)\n    df['cost'] = df['shares'] * df['buy_price']\n    df['value'] = df['shares'] * df['current_price']\n    df['gain'] = df['value'] - df['cost']\n    df['gain_pct'] = (df['gain'] / df['cost'] * 100).round(1)\n    \n    print(\"\\nğŸ“Š Portfolio Summary\")\n    print('â•' * 55)\n    for _, row in df.iterrows():\n        emoji = 'ğŸ“ˆ' if row['gain'] >= 0 else 'ğŸ“‰'\n        print(f\"  {emoji} {row['symbol']:5s}  {row['shares']:6.1f} shares  \"\n              f\"${row['value']:9.2f}  ({row['gain_pct']:+.1f}%)\")\n    \n    total_cost = df['cost'].sum()\n    total_value = df['value'].sum()\n    total_gain = total_value - total_cost\n    \n    print('â”€' * 55)\n    print(f\"  Total: ${total_value:,.2f}  (gain: ${total_gain:+,.2f})\")\n\n# Usage\nconn = init_db()\nadd_holding(conn, 'AAPL', 10, 150.00)\nadd_holding(conn, 'GOOGL', 5, 140.00)\nadd_holding(conn, 'MSFT', 15, 380.00)\n\n# Simulated current prices (in real app, fetch from API)\ncurrent = {'AAPL': 178.50, 'GOOGL': 165.25, 'MSFT': 415.80}\nportfolio_summary(conn, current)\nconn.close()\n```\n\n**Concepts used:** SQLite (2 tables), Pandas DataFrames, API integration, functions, f-strings with formatting, dictionaries, data analysis\n\n**This project combines ALL three courses:**\nâ€¢ Python fundamentals (functions, dicts, string formatting)\nâ€¢ Web scraping concepts (API requests, JSON)\nâ€¢ SQL & databases (tables, queries, Pandas integration)\n\nğŸ‰ **Congratulations!** If you can understand this project, you have real Python skills!\n\n[[[diagram:summary:Real projects combine multiple skills: Python + Web + SQL|||Start small, then add features incrementally|||Use functions to organize complex programs|||SQLite for storage, Pandas for analysis, APIs for live data|||Error handling at every step makes code production-ready|||These skills are directly applicable to real jobs and freelancing]]]"}
],
exercises:[
{title:"Gain Calculation",task:"Calculate and print the gain: bought at 150, now worth 178.50, holding 10 shares.",starterCode:"shares = 10\nbuy_price = 150.00\ncurrent_price = 178.50\n",expectedOutput:"285.0",hint:"gain = shares * (current - buy)",bestExplanation:"Gain = shares Ã— (current_price - buy_price). This is the core of any portfolio tracker.",solutions:[{label:"â­ Best",code:"shares = 10\nbuy_price = 150.00\ncurrent_price = 178.50\nprint(shares * (current_price - buy_price))",best:true}]},
{title:"Percent Change",task:"Print the percentage gain from 150 to 178.50, rounded to 1 decimal.",starterCode:"old = 150\nnew = 178.50\n",expectedOutput:"19.0",hint:"(new - old) / old * 100",bestExplanation:"Percentage change = (new - old) / old Ã— 100. round() controls decimal places.",solutions:[{label:"â­ Best",code:"old = 150\nnew = 178.50\nprint(round((new - old) / old * 100, 1))",best:true}]}
]}
]}
];

// â•â•â• Storage â•â•â•
const SK='pylingo-v4';
const load=()=>{try{return JSON.parse(localStorage.getItem(SK))}catch{return null}};
const save=(d)=>{try{localStorage.setItem(SK,JSON.stringify(d))}catch{}};

// â•â•â• Main App â•â•â•
// â•â•â• SPOTLIGHT TOUR COMPONENT â•â•â•
const SpotlightTour=({th,isDark,lang,theme,obStep,setObStep,finishOnboard,br,ff,C})=>{
  const steps=[
    {id:null,title:lang==='zh'?'æ¬¢è¿æ¥åˆ° PyLingoï¼':'Welcome to PyLingo!',desc:lang==='zh'?'è®©æˆ‘å¿«é€Ÿå¸¦ä½ äº†è§£å¹³å°åŠŸèƒ½ ğŸ‘‡':'Let me show you around ğŸ‘‡',icon:theme==='cat'?'ğŸ±':theme==='future'?'ğŸ¤–':'ğŸ',pos:'center'},
    {id:'ob-courses',title:lang==='zh'?'è¯¾ç¨‹æ¨¡å—':'Courses',desc:lang==='zh'?'ç‚¹å‡»ä»»æ„è¯¾ç¨‹å¼€å§‹å­¦ä¹ ã€‚æ¯ä¸ªè¯¾ç¨‹åŒ…å«çŸ¥è¯†è®²è§£ + ç¼–ç¨‹ç»ƒä¹ ã€‚':'Click any course to start. Each has lessons + coding exercises.',icon:'ğŸ“š',pos:'top'},
    {id:'ob-theme',title:lang==='zh'?'åˆ‡æ¢ä¸»é¢˜':'Theme',desc:lang==='zh'?'ä¸‰å¥—é£æ ¼ï¼šâœ¨ ç®€æ´ / ğŸ± çŒ«çŒ« / âš¡ èµ›åšæœ‹å…‹':'3 styles: âœ¨ Clean / ğŸ± Cat / âš¡ Cyberpunk',icon:'ğŸ¨',pos:'bottom'},
    {id:'ob-lang',title:lang==='zh'?'åˆ‡æ¢è¯­è¨€':'Language',desc:lang==='zh'?'æ”¯æŒ 7 ç§è¯­è¨€ï¼Œç•Œé¢å’Œç»ƒä¹ è‡ªåŠ¨ç¿»è¯‘':'7 languages, auto-translated.',icon:'ğŸŒ',pos:'bottom'},
    {id:'ob-games',title:lang==='zh'?'å°æ¸¸æˆ':'Games',desc:lang==='zh'?'ğŸ› æ‰¾Bug / ğŸ§  é—®ç­” / âš¡ æ‰“å­— â€” è¾¹ç©è¾¹å­¦':'ğŸ› Bug Hunt / ğŸ§  Quiz / âš¡ Speed Type',icon:'ğŸ®',pos:'bottom'},
    {id:'ob-settings',title:lang==='zh'?'AI è®¾ç½®':'AI Settings',desc:lang==='zh'?'é…ç½® API Keyï¼ˆGemini å…è´¹ï¼‰å¯ç”¨ AI å¯¼å¸ˆ':'Set API Key (Gemini=free) for AI tutor.',icon:'âš™ï¸',pos:'bottom'},
    {id:'ob-help',title:lang==='zh'?'é‡çœ‹å¼•å¯¼':'Replay',desc:lang==='zh'?'éšæ—¶ç‚¹ ? é‡æ–°æŸ¥çœ‹':'Click ? anytime to replay.',icon:'â“',pos:'bottom'},
  ];
  const step=steps[obStep]||steps[0];
  const[rect,setRect]=useState(null);
  useEffect(()=>{
    if(!step.id){setRect(null);return}
    const el=document.getElementById(step.id);
    if(el){const r=el.getBoundingClientRect();setRect({x:r.x-6,y:r.y-6,w:r.width+12,h:r.height+12})}
    else setRect(null);
  },[obStep,step.id]);
  const gap=14;
  let tipStyle={position:'fixed',zIndex:102,width:340,maxWidth:'90vw'};
  let arrSide='top';
  if(rect){
    tipStyle.left=Math.max(12,Math.min(rect.x+rect.w/2-170,window.innerWidth-356));
    if(step.pos==='top'){
      tipStyle.bottom=window.innerHeight-rect.y+gap;
      arrSide='bottom';
    }else{
      tipStyle.top=rect.y+rect.h+gap;
      arrSide='top';
    }
  }else{
    tipStyle.left='50%';tipStyle.top='50%';tipStyle.transform='translate(-50%,-50%)';
  }
  const bg=isDark?'#0d1118':'#fff';
  const tipLeft=typeof tipStyle.left==='number'?tipStyle.left:0;
  const arrLeft=rect?Math.max(20,Math.min(rect.x+rect.w/2-tipLeft,310)):100;
  return <div key={'ob'+obStep}>
    <div onClick={e=>{if(e.target===e.currentTarget)finishOnboard()}} style={{position:'fixed',inset:0,zIndex:101}}>
      <svg width="100%" height="100%" style={{position:'absolute',inset:0}}>
        <defs><mask id="spotM"><rect width="100%" height="100%" fill="white"/>
          {rect&&<rect x={rect.x} y={rect.y} width={rect.w} height={rect.h} rx={br>2?10:2} fill="black"/>}
        </mask></defs>
        <rect width="100%" height="100%" fill="rgba(0,0,0,0.55)" mask="url(#spotM)"/>
        {rect&&<rect x={rect.x} y={rect.y} width={rect.w} height={rect.h} rx={br>2?10:2} fill="none" stroke={th.accent} strokeWidth="2" opacity="0.8">
          <animate attributeName="stroke-dasharray" values="0,300;300,0" dur="1.2s" fill="freeze"/>
        </rect>}
      </svg>
    </div>
    <div style={{...tipStyle,background:bg,borderRadius:br>2?14:4,border:`1px solid ${th.accent}30`,boxShadow:'0 16px 48px rgba(0,0,0,0.35)',padding:'18px 22px',fontFamily:ff,animation:'fadeUp 0.2s ease'}}>
      {rect&&<div style={{position:'absolute',[arrSide==='top'?'top':'bottom']:-7,left:arrLeft,width:14,height:14,background:bg,border:`1px solid ${th.accent}30`,transform:'rotate(45deg)',...(arrSide==='top'?{borderRight:'none',borderBottom:'none'}:{borderLeft:'none',borderTop:'none'})}}/>}
      <div style={{display:'flex',gap:12,alignItems:'flex-start'}}>
        <span style={{fontSize:28,lineHeight:1,flexShrink:0}}>{step.icon}</span>
        <div>
          <h3 style={{fontSize:15,fontWeight:700,color:th.text,marginBottom:4,fontFamily:ff}}>{step.title}</h3>
          <p style={{fontSize:13,color:th.sub,lineHeight:1.6,margin:0}}>{step.desc}</p>
        </div>
      </div>
      <div style={{display:'flex',alignItems:'center',justifyContent:'space-between',marginTop:14,paddingTop:10,borderTop:`1px solid ${th.border}`}}>
        <div style={{display:'flex',gap:4}}>
          {steps.map((_,i)=><div key={i} style={{width:i===obStep?18:6,height:6,borderRadius:3,background:i===obStep?th.accent:i<obStep?(th.success+'50'):(th.tag||'#ddd'),transition:'all 0.3s',cursor:'pointer'}} onClick={()=>setObStep(i)}/>)}
        </div>
        <div style={{display:'flex',gap:6,alignItems:'center'}}>
          <button onClick={finishOnboard} style={{background:'none',border:'none',color:th.sub,cursor:'pointer',fontSize:12,fontFamily:ff}}>{lang==='zh'?'è·³è¿‡':'Skip'}</button>
          {obStep>0&&<button onClick={()=>setObStep(obStep-1)} style={{...C.btn2,padding:'4px 10px',fontSize:12}}>â†</button>}
          {obStep<steps.length-1?<button onClick={()=>setObStep(obStep+1)} style={{padding:'5px 14px',fontSize:12,fontWeight:600,borderRadius:br,border:'none',cursor:'pointer',background:th.accent,color:isDark?'#000':'#fff',fontFamily:ff}}>{lang==='zh'?'ä¸‹ä¸€æ­¥':'Next'} â†’</button>
          :<button onClick={finishOnboard} style={{padding:'5px 14px',fontSize:12,fontWeight:600,borderRadius:br,border:'none',cursor:'pointer',background:th.accent,color:isDark?'#000':'#fff',fontFamily:ff}}>{lang==='zh'?'å¼€å§‹ï¼':'Go!'} ğŸš€</button>}
        </div>
      </div>
    </div>
  </div>;
};

const App=()=>{
  const[courseId,setCourseId]=useState(null);
  const[showGames,setShowGames]=useState(false);
  const[apiKey,setApiKey]=useState(getKey());
  const[provider,setProvider]=useState(getProvider());
  const[showSettings,setShowSettings]=useState(false);
  const[theme,setTheme]=useState(localStorage.getItem('sl-theme')||'simple');
  const switchTheme=(t)=>{setTheme(t);localStorage.setItem('sl-theme',t)};
  React.useEffect(()=>{
    if(theme!=='cat')return;
    const h=(e)=>{
      const p=document.createElement('div');
      p.className='paw-trail';
      p.textContent='ğŸ¾';
      p.style.left=e.clientX+'px';
      p.style.top=e.clientY+'px';
      document.body.appendChild(p);
      setTimeout(()=>p.remove(),1000);
    };
    document.addEventListener('click',h);
    return()=>document.removeEventListener('click',h);
  },[theme]);
  const TH={
    simple:{bg:'#ffffff',card:'#ffffff',border:'#e2e4e9',text:'#2d3142',sub:'#5e6577',accent:'#635bff',success:'#30b07a',error:'#df1b41',codeB:'#f6f8fa',codeTx:'#24292e',hdr:'rgba(255,255,255,0.92)',tag:'#f0f1f4',name:'âœ¨ Clean'},
    cat:{bg:'#faf8f5',card:'#ffffff',border:'#e8dfd4',text:'#2a2320',sub:'#6b5f54',accent:'#e8a87c',success:'#78b5a0',error:'#d4726a',codeB:'#fdf6ee',codeTx:'#6b5b4e',hdr:'rgba(250,248,245,0.95)',tag:'#f5ede3',name:'ğŸ± Meow'},
    future:{bg:'#000000',card:'#06080d',border:'#00f5d435',text:'#8a95a8',sub:'#4d5a6e',accent:'#00f5d4',accent2:'#f72585',success:'#00f5d4',error:'#f72585',codeB:'#040608',codeTx:'#00f5d4',hdr:'rgba(0,0,0,0.96)',tag:'#0a0f18',name:'âš¡ NEXUS'}
  };
  const th=TH[theme]||TH.simple;
  const isDark=theme==='future';
  const[keyInput,setKeyInput]=useState('');
  const saveKey=(p,k)=>{const key=k||keyInput.trim();const prov=p||provider;if(key){localStorage.setItem('sl-api-key',key);localStorage.setItem('sl-provider',prov);setApiKey(key);setProvider(prov);setShowSettings(false)}};
  const clearKey=()=>{localStorage.removeItem('sl-api-key');localStorage.removeItem('sl-provider');setApiKey('');setKeyInput('');setProvider('gemini')};
  const[cT,setCT]=useState(0);
  const[cE,setCE]=useState(0);
  const[tab,setTab]=useState('learn');
  const[lIdx,setLIdx]=useState(0);
  const[code,setCode]=useState('');
  const[done,setDone]=useState(new Set());
  const[hnt,setHnt]=useState(false);
  const[sol,setSol]=useState(false);
  const[sIdx,setSIdx]=useState(0);
  const[fb,setFb]=useState(null);
  const[keys,setKeys]=useState(0);
  const[pasted,setPasted]=useState(false);
  const[runOut,setRunOut]=useState(null); // {lines:[], error:null}
  const[streak,setStreak]=useState(0);
  const[showT,setShowT]=useState(false);
  const[loaded,setLoaded]=useState(false);
  const[onboard,setOnboard]=useState(()=>!localStorage.getItem('sl-onboarded'));
  const finishOnboard=()=>{setOnboard(false);localStorage.setItem('sl-onboarded','1')};
  const[obStep,setObStep]=useState(0);
  const[obRect,setObRect]=useState(null);
  const OB_IDS=[null,'ob-streak','ob-games','ob-theme','ob-settings','ob-lang','ob-course'];
  useEffect(()=>{
    if(!onboard)return;
    const id=OB_IDS[obStep];
    if(!id){setObRect(null);return}
    const tick=()=>{const el=document.getElementById(id);if(el){setObRect(el.getBoundingClientRect())}else{requestAnimationFrame(tick)}};
    requestAnimationFrame(tick);
    const onResize=()=>{const el=document.getElementById(id);if(el)setObRect(el.getBoundingClientRect())};
    window.addEventListener('resize',onResize);
    return()=>window.removeEventListener('resize',onResize);
  },[onboard,obStep]);
  const[chatOn,setChatOn]=useState(false);
  const[msgs,setMsgs]=useState([]);
  const[chatIn,setChatIn]=useState('');
  const[chatLD,setChatLD]=useState(false);
  const chatRef=useRef(null);
  const[lang,setLang]=useState('en');
  const[langMenu,setLangMenu]=useState(false);
  const[showEn,setShowEn]=useState(false);
  const[tCache,setTCache]=useState({});
  const[tring,setTring]=useState(false);
  const[tLesson,setTLesson]=useState('');
  const[tTask,setTTask]=useState('');
  const[tHint,setTHint]=useState('');
  
  const ui=UI[lang]||UI.en;
  const cLang=LANGS.find(l=>l.code===lang)||LANGS[0];

  // Disable right-click and view-source shortcuts
  useEffect(()=>{
    const noCtx=e=>{if(!e.target.closest('textarea'))e.preventDefault()};
    const noKey=e=>{
      if((e.ctrlKey||e.metaKey)&&(e.key==='u'||e.key==='U'))e.preventDefault();
      if((e.ctrlKey||e.metaKey)&&e.shiftKey&&(e.key==='i'||e.key==='I'||e.key==='j'||e.key==='J'))e.preventDefault();
    };
    document.addEventListener('contextmenu',noCtx);
    document.addEventListener('keydown',noKey);
    return()=>{document.removeEventListener('contextmenu',noCtx);document.removeEventListener('keydown',noKey)};
  },[]);
  const course=COURSES.find(c=>c.id===courseId);
  const ci=COURSES.findIndex(c=>c.id===courseId);
  const topics=course?course.topics:[];
  const topic=topics[cT];
  const ex=topic?topic.exercises[cE]:null;
  const eKey=topic&&ex?`${courseId}-${topic.id}-${cE}`:'';
  const sols=ex?ex.solutions:[];

  const translate=useCallback(async(text,tl)=>{
    if(tl==='en'||!text)return text;
    if(!hasKey())return text;
    const ck=`${tl}:${text.slice(0,60)}`;
    if(tCache[ck])return tCache[ck];
    try{
      setTring(true);
      const d=await callAPI({model:"claude-sonnet-4-20250514",max_tokens:4000,
        messages:[{role:"user",content:`Translate to ${LANGS.find(l=>l.code===tl)?.label||tl}. This is a Python learning platform for beginners. RULES:\n1. Keep ALL code blocks and inline code EXACTLY as-is in English\n2. Keep ALL Python function/method names as inline code: \`print()\`, \`input()\`, \`len()\`, \`range()\`, \`type()\`, \`str()\`, \`int()\`, \`float()\`, \`list()\`, \`dict()\`, \`open()\`, \`.append()\`, \`.split()\`, \`.join()\`, \`.format()\`, \`.strip()\`, \`.replace()\` etc.\n3. Keep ALL Python keywords in English: def, class, return, for, while, if, else, elif, try, except, import, True, False, None, and, or, not, in, is, lambda, with, as, yield, break, continue, pass\n4. Keep technical terms in English: HTML, CSS, API, SQL, DataFrame, BeautifulSoup, requests, JSON, CSV, regex, HTTP, URL, string, list, tuple, dictionary, set, boolean, integer, float, variable, function, loop, f-string, slice, index\n5. When the original uses a verb that maps to a Python function (e.g. "Print", "Create a list", "Sort", "Count", "Join"), always include the function name as inline code so students know which function to use. E.g. "Print 'hello'" â†’ "ä½¿ç”¨ \`print()\` è¾“å‡º 'hello'", "Sort the list" â†’ "ä½¿ç”¨ \`sort()\` å¯¹ list æ’åº"\n6. The translation must be CLEAR to a beginner who only knows the target language. If the English phrasing would be ambiguous when translated literally, rephrase for clarity.\n7. NEVER add code blocks, solutions, full code examples, or anything not in the original\n8. Translate ONLY what is given â€” do not expand or add extra explanation\n9. Maintain markdown formatting exactly\n\n${text}`}]});
      const t=d.content?d.content.map(i=>i.text||"").join("\n"):text;
      setTCache(p=>({...p,[ck]:t}));return t;
    }catch{return text}finally{setTring(false)}
  },[tCache,apiKey]);

  useEffect(()=>{
    if(!topic||lang==='en'){setTLesson('');setTTask('');setTHint('');return}
    let c=false;
    translate(topic.lessons[lIdx]?.content||'',lang).then(t=>{if(!c)setTLesson(t)});
    if(ex){
      const ei=EX_I18N[ex.task];
      if(ei&&ei[lang]){setTTask(ei[lang][0]);setTHint(ei[lang][1])}
      else{translate(ex.task,lang).then(t=>{if(!c)setTTask(t)});
      translate(ex.hint,lang).then(t=>{if(!c)setTHint(t)});}
    }
    return()=>{c=true};
  },[lang,courseId,cT,lIdx,cE,translate]);

  useEffect(()=>{const s=load();if(s){setDone(new Set(s.done||[]));setCourseId(s.course||null);setCT(s.t||0);setCE(s.e||0);setStreak(s.s||0);if(s.lang)setLang(s.lang)}setLoaded(true)},[]);
  useEffect(()=>{if(loaded)save({done:Array.from(done),course:courseId,t:cT,e:cE,s:streak,lang})},[done,courseId,cT,cE,streak,loaded,lang]);
  useEffect(()=>{if(ex){setCode(ex.starterCode);setHnt(false);setSol(false);setSIdx(0);setFb(null);setKeys(0);setPasted(false);setRunOut(null)}},[courseId,cT,cE]);
  useEffect(()=>{
    if(!topic)return;
    const w={en:`ğŸ‘‹ Ask me about "${topic.title}"!`,zh:`ğŸ‘‹ å…³äº"${topic.title}"æœ‰ä»€ä¹ˆé—®é¢˜å°½ç®¡é—®ï¼`,es:`ğŸ‘‹ Â¡PregÃºntame sobre "${topic.title}"!`,fr:`ğŸ‘‹ Posez-moi vos questions !`,ja:`ğŸ‘‹ã€Œ${topic.title}ã€ã«ã¤ã„ã¦èã„ã¦ã­ï¼`,ko:`ğŸ‘‹ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!`,pt:`ğŸ‘‹ Pergunte-me!`,de:`ğŸ‘‹ Frag mich!`};
    setMsgs([{role:'assistant',content:w[lang]||w.en}]);
  },[courseId,cT,lang]);
  useEffect(()=>{chatRef.current?.scrollIntoView({behavior:'smooth'})},[msgs]);

  const tProg=i=>{if(!topics[i])return 0;const t=topics[i];return t.exercises.length?t.exercises.filter((_,j)=>done.has(`${courseId}-${t.id}-${j}`)).length/t.exercises.length:0};
  const totalP=()=>{if(!topics.length)return 0;const tot=topics.reduce((s,t)=>s+t.exercises.length,0);if(!tot)return 0;const d=topics.reduce((s,t)=>s+t.exercises.filter((_,j)=>done.has(`${courseId}-${t.id}-${j}`)).length,0);return(d/tot)*100};
  const unlocked=i=>true;
  const allDone=()=>{let d=0;COURSES.forEach(c=>c.topics.forEach(t=>t.exercises.forEach((_,j)=>{if(done.has(`${c.id}-${t.id}-${j}`))d++})));return d};
  const allTotal=()=>COURSES.reduce((s,c)=>s+c.topics.reduce((s2,t)=>s2+t.exercises.length,0),0);



  // â”€â”€ Mini Python simulator for offline evaluation â”€â”€
  const miniPy=(code)=>{
    const out=[];
    try{
      const env={};
      // Preprocess: remove comments, normalize
      const lines=code.split('\n').map(l=>l.replace(/#(?![{])[^\n]*/g,'').trimEnd()).filter(l=>l.trim());
      
      // Simple expression evaluator
      const ev=(expr,e)=>{
        expr=expr.trim();
        if(expr==='True')return true;if(expr==='False')return false;if(expr==='None')return null;
        // String literals
        const sq=expr.match(/^(f?)('|"|'''|""")(.*)(\2)$/s);
        if(sq){
          let s=sq[3];
          if(sq[1]==='f'){s=s.replace(/\{([^}]+)\}/g,(_,x)=>{try{return String(ev(x,e))}catch{return'{'+x+'}'}});}
          return s;
        }
        // Number
        if(/^-?\d+$/.test(expr))return parseInt(expr);
        if(/^-?\d+\.\d+$/.test(expr))return parseFloat(expr);
        // List literal
        if(expr.startsWith('[')&&expr.endsWith(']')){
          const inner=expr.slice(1,-1).trim();
          if(!inner)return[];
          // Simple split by comma (doesn't handle nested, but works for most exercises)
          return inner.split(',').map(x=>ev(x.trim(),e));
        }
        // Dict literal
        if(expr.startsWith('{')&&expr.endsWith('}')){
          const inner=expr.slice(1,-1).trim();
          if(!inner)return{};
          const d={};inner.split(',').forEach(p=>{const[k,v]=p.split(':').map(x=>x.trim());if(k&&v)d[ev(k,e)]=ev(v,e)});
          return d;
        }
        // Set literal  
        if(expr.startsWith('{')&&expr.endsWith('}')&&!expr.includes(':')){
          return new Set(expr.slice(1,-1).split(',').map(x=>ev(x.trim(),e)));
        }
        // Tuple
        if(expr.startsWith('(')&&expr.endsWith(')')&&expr.includes(',')){
          return expr.slice(1,-1).split(',').map(x=>ev(x.trim(),e));
        }
        // Variable lookup
        if(/^[a-zA-Z_]\w*$/.test(expr)){
          if(expr in e)return e[expr];
          throw new Error(`NameError: name '${expr}' is not defined`);
        }
        // String concatenation & repetition
        if(expr.includes('+')){
          const parts=expr.split('+').map(p=>ev(p.trim(),e));
          if(parts.some(p=>typeof p==='string'))return parts.join('');
          return parts.reduce((a,b)=>a+b,0);
        }
        if(expr.includes('*')&&!expr.includes('**')){
          const parts=expr.split('*').map(p=>ev(p.trim(),e));
          if(typeof parts[0]==='string'&&typeof parts[1]==='number')return parts[0].repeat(parts[1]);
          return parts.reduce((a,b)=>a*b,1);
        }
        // Arithmetic
        if(expr.includes('**')){const[a,b]=expr.split('**');return Math.pow(ev(a,e),ev(b,e))}
        if(expr.includes('//')){const[a,b]=expr.split('//');return Math.floor(ev(a,e)/ev(b,e))}
        if(expr.includes('%')){const[a,b]=expr.split('%');return ev(a,e)%ev(b,e)}
        if(expr.includes('/')){const[a,b]=expr.split('/');return ev(a,e)/ev(b,e)}
        if(expr.includes('-')&&!expr.startsWith('-')){const i=expr.lastIndexOf('-');return ev(expr.slice(0,i),e)-ev(expr.slice(i+1),e)}
        // Method calls: str.split(), etc
        const mc=expr.match(/^(.+)\.(split|join|strip|upper|lower|replace|append|get|text|items|keys|values)\(([^)]*)\)$/);
        if(mc){
          const obj=ev(mc[1],e);const meth=mc[2];const args=mc[3]?mc[3].split(',').map(a=>ev(a.trim(),e)):[];
          if(typeof obj==='string'){
            if(meth==='split')return obj.split(args[0]||undefined);
            if(meth==='strip')return obj.trim();
            if(meth==='upper')return obj.toUpperCase();
            if(meth==='lower')return obj.toLowerCase();
            if(meth==='replace')return obj.replace(new RegExp(String(args[0]).replace(/[.*+?^${}()|[\]\\]/g,'\\$&'),'g'),String(args[1]||''));
            if(meth==='join'&&Array.isArray(args[0]))return args[0].join(obj);
          }
          if(Array.isArray(obj)){
            if(meth==='append'){obj.push(args[0]);return undefined;}
          }
          if(obj&&typeof obj==='object'&&!Array.isArray(obj)){
            if(meth==='get')return obj[args[0]]!==undefined?obj[args[0]]:(args.length>1?args[1]:null);
            if(meth==='keys')return Object.keys(obj);
            if(meth==='values')return Object.values(obj);
            if(meth==='items')return Object.entries(obj);
          }
        }
        // Built-in functions
        const fc=expr.match(/^(len|int|float|str|type|min|max|sum|range|abs|round|sorted|list|set|print)\((.+)\)$/s);
        if(fc){
          const fn=fc[1];const arg=ev(fc[2],e);
          if(fn==='len')return typeof arg==='string'?arg.length:(Array.isArray(arg)?arg.length:Object.keys(arg).length);
          if(fn==='int')return parseInt(arg);if(fn==='float')return parseFloat(arg);if(fn==='str')return String(arg);
          if(fn==='min')return Array.isArray(arg)?Math.min(...arg):Math.min(...Object.values(arguments));
          if(fn==='max')return Array.isArray(arg)?Math.max(...arg):Math.max(...Object.values(arguments));
          if(fn==='sum')return Array.isArray(arg)?arg.reduce((a,b)=>a+b,0):0;
          if(fn==='abs')return Math.abs(arg);if(fn==='round')return Math.round(arg);
          if(fn==='sorted')return[...arg].sort((a,b)=>a-b);
          if(fn==='list'){if(arg instanceof Set)return[...arg];return Array.isArray(arg)?[...arg]:[arg]}
          if(fn==='set'){return new Set(arg)}
          if(fn==='range'){
            // Handle range(n), range(a,b), range(a,b,step)
            if(typeof arg==='number'){const r=[];for(let i=0;i<arg;i++)r.push(i);return r}
          }
        }
        // range with multiple args
        const rng=expr.match(/^range\((.+)\)$/);
        if(rng){
          const args=rng[1].split(',').map(a=>ev(a.trim(),e));
          const r=[];
          if(args.length===1)for(let i=0;i<args[0];i++)r.push(i);
          else if(args.length===2)for(let i=args[0];i<args[1];i++)r.push(i);
          else if(args.length===3)for(let i=args[0];args[2]>0?i<args[1]:i>args[1];i+=args[2])r.push(i);
          return r;
        }
        // Index access: obj[idx]
        const idx=expr.match(/^(.+)\[(.+)\]$/);
        if(idx){const o=ev(idx[1],e);const i=ev(idx[2],e);return o[i<0?o.length+i:i]}
        // Slice: obj[a:b]
        const sl=expr.match(/^(.+)\[(\d*):(\d*)\]$/);
        if(sl){const o=ev(sl[1],e);const a=sl[2]?parseInt(sl[2]):0;const b=sl[3]?parseInt(sl[3]):o.length;return typeof o==='string'?o.slice(a,b):o.slice(a,b)}
        // Comparison
        if(expr.includes('==')){const[a,b]=expr.split('==');return ev(a,e)===ev(b,e)}
        if(expr.includes('!=')){const[a,b]=expr.split('!=');return ev(a,e)!==ev(b,e)}
        if(expr.includes('>=')){const[a,b]=expr.split('>=');return ev(a,e)>=ev(b,e)}
        if(expr.includes('<=')){const[a,b]=expr.split('<=');return ev(a,e)<=ev(b,e)}
        if(expr.includes('>')&&!expr.includes('>=')){const[a,b]=expr.split('>');return ev(a,e)>ev(b,e)}
        if(expr.includes('<')&&!expr.includes('<=')){const[a,b]=expr.split('<');return ev(a,e)<ev(b,e)}
        // If nothing matched, return the expression as unevaluated (let API handle complex cases)
        return expr;
      };
      
      const pyStr=(v)=>{
        if(v===null||v===undefined)return'None';
        if(v===true)return'True';if(v===false)return'False';
        if(Array.isArray(v))return'['+v.map(x=>typeof x==='string'?"'"+x+"'":pyStr(x)).join(', ')+']';
        if(v instanceof Set)return'{'+[...v].map(x=>typeof x==='string'?"'"+x+"'":pyStr(x)).join(', ')+'}';
        if(typeof v==='object')return'{'+Object.entries(v).map(([k,val])=>(typeof k==='string'?"'"+k+"'":k)+': '+(typeof val==='string'?"'"+val+"'":pyStr(val))).join(', ')+'}';
        return String(v);
      };
      
      // Execute lines (simplified â€” handles assignment, print, for, if, while)
      const run=(lines,e,depth=0)=>{
        let i=0;
        while(i<lines.length){
          const line=lines[i];const trimmed=line.trim();
          if(!trimmed){i++;continue}
          
          // print()
          const pr=trimmed.match(/^print\((.+)\)$/s);
          if(pr){
            const args=[];let arg='';let paren=0;let inStr=false;let strCh='';
            for(const ch of pr[1]){
              if(!inStr&&(ch==="'"||ch==='"')){inStr=true;strCh=ch;arg+=ch}
              else if(inStr&&ch===strCh){inStr=false;arg+=ch}
              else if(!inStr&&ch==='('){paren++;arg+=ch}
              else if(!inStr&&ch===')'){paren--;arg+=ch}
              else if(!inStr&&ch===','&&paren===0){args.push(arg.trim());arg=''}
              else{arg+=ch}
            }
            if(arg.trim())args.push(arg.trim());
            const vals=args.map(a=>ev(a,e));
            out.push(vals.map(v=>typeof v==='string'?v:pyStr(v)).join(' '));
            i++;continue;
          }
          
          // for loop
          const fl=trimmed.match(/^for\s+(\w+)\s+in\s+(.+):$/);
          if(fl){
            const varN=fl[1];const iter=ev(fl[2],e);
            // Collect body
            const body=[];i++;
            while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){
              body.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
            }
            if(Array.isArray(iter)||typeof iter==='string'){
              for(const item of iter){e[varN]=item;run(body,e,depth+1)}
            }
            continue;
          }
          
          // while loop
          const wl=trimmed.match(/^while\s+(.+):$/);
          if(wl){
            const body=[];i++;
            while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){
              body.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
            }
            let safety=1000;
            while(ev(wl[1],e)&&safety-->0){run(body,e,depth+1)}
            continue;
          }
          
          // if/elif/else
          const ifm=trimmed.match(/^if\s+(.+):$/);
          if(ifm){
            const branches=[];
            const body=[];i++;
            while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){
              body.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
            }
            branches.push({cond:ifm[1],body:[...body]});
            while(i<lines.length){
              const el=lines[i].trim().match(/^elif\s+(.+):$/);
              if(el){const b2=[];i++;while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){b2.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++}branches.push({cond:el[1],body:b2});continue}
              if(lines[i].trim()==='else:'){const b2=[];i++;while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){b2.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++}branches.push({cond:'True',body:b2});continue}
              break;
            }
            for(const br of branches){if(ev(br.cond,e)){run(br.body,e,depth+1);break}}
            continue;
          }
          
          // def (skip for now â€” just register)
          if(trimmed.startsWith('def ')){
            const dm=trimmed.match(/^def\s+(\w+)\(([^)]*)\):$/);
            if(dm){
              const fname=dm[1];const params=dm[2].split(',').map(p=>p.trim()).filter(Boolean);
              const body=[];i++;
              while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){
                body.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
              }
              e[fname]=(...args)=>{const le={...e};params.forEach((p,idx)=>{const[pn,pd]=p.split('=');le[pn.trim()]=idx<args.length?args[idx]:(pd?ev(pd.trim(),le):undefined)});
                let ret=undefined;
                for(const bl of body){
                  const rt=bl.trim().match(/^return\s+(.+)$/);
                  if(rt){ret=ev(rt[1],le);break}
                  // Handle print in function
                  const fp=bl.trim().match(/^print\((.+)\)$/s);
                  if(fp){const v=ev(fp[1],le);out.push(typeof v==='string'?v:pyStr(v));continue}
                  // Assignment in function
                  const fa=bl.trim().match(/^(\w+)\s*=\s*(.+)$/);
                  if(fa){le[fa[1]]=ev(fa[2],le)}
                }
                return ret;
              };
              continue;
            }
          }
          
          // class (minimal)
          if(trimmed.startsWith('class ')){
            const cm=trimmed.match(/^class\s+(\w+).*:$/);
            if(cm){
              const cname=cm[1];const cbody=[];i++;
              while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){
                cbody.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
              }
              // Simple class: extract methods
              const methods={};let mi=0;
              while(mi<cbody.length){
                const md=cbody[mi].trim().match(/^def\s+(\w+)\(([^)]*)\):$/);
                if(md){
                  const mname=md[1];const mparams=md[2].split(',').map(p=>p.trim()).filter(Boolean);
                  const mbody=[];mi++;
                  while(mi<cbody.length&&(cbody[mi].startsWith('        ')||cbody[mi].startsWith('\t\t'))){
                    mbody.push(cbody[mi].replace(/^        /,'').replace(/^\t\t/,''));mi++;
                  }
                  methods[mname]={params:mparams,body:mbody};
                }else mi++;
              }
              e[cname]=function(...args){
                const obj={__class__:cname};
                // Execute __init__ if exists
                if(methods.__init__){
                  const le={...e,self:obj};
                  methods.__init__.params.slice(1).forEach((p,idx)=>{const[pn,pd]=p.split('=');le[pn.trim()]=idx<args.length?args[idx]:(pd?ev(pd.trim(),le):undefined)});
                  for(const bl of methods.__init__.body){
                    const sa=bl.trim().match(/^self\.(\w+)\s*=\s*(.+)$/);
                    if(sa)obj[sa[1]]=ev(sa[2],le);
                    const sa2=bl.trim().match(/^self\.(\w+)\s*=\s*\[\]$/);
                    if(sa2)obj[sa2[1]]=[];
                  }
                }
                // Attach methods
                for(const[mn,md] of Object.entries(methods)){
                  if(mn==='__init__')continue;
                  obj[mn]=function(...margs){
                    const le={...e,self:obj};
                    md.params.slice(1).forEach((p,idx)=>{le[p.trim()]=margs[idx]});
                    for(const bl of md.body){
                      const rt=bl.trim().match(/^return\s+(.+)$/);
                      if(rt)return ev(rt[1],le);
                      const sa=bl.trim().match(/^self\.(\w+)\s*([\+\-]?)=\s*(.+)$/);
                      if(sa){
                        if(sa[2]==='+')obj[sa[1]]+=ev(sa[3],le);
                        else if(sa[2]==='-')obj[sa[1]]-=ev(sa[3],le);
                        else obj[sa[1]]=ev(sa[3],le);
                        continue;
                      }
                      const ap=bl.trim().match(/^self\.(\w+)\.append\((.+)\)$/);
                      if(ap){obj[ap[1]].push(ev(ap[2],le));continue}
                      const fp=bl.trim().match(/^print\((.+)\)$/s);
                      if(fp){const v=ev(fp[1],le);out.push(typeof v==='string'?v:pyStr(v))}
                    }
                  };
                }
                return obj;
              };
              continue;
            }
          }
          
          // try/except (simplified)
          if(trimmed==='try:'){
            const tbody=[];i++;
            while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))&&!lines[i].trim().startsWith('except')){
              tbody.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++;
            }
            const ecatch=lines[i]?.trim().match(/^except\s*(.*):$/);
            const ebody=[];if(ecatch){i++;while(i<lines.length&&(lines[i].startsWith('    ')||lines[i].startsWith('\t'))){ebody.push(lines[i].replace(/^    /,'').replace(/^\t/,''));i++}}
            try{run(tbody,e,depth+1)}
            catch(err){
              if(ecatch&&ecatch[1]){
                const em=ecatch[1].match(/(\w+)\s+as\s+(\w+)/);
                if(em)e[em[2]]={toString:()=>err.message||String(err),message:err.message||String(err)};
              }
              run(ebody,e,depth+1);
            }
            continue;
          }
          
          // raise
          if(trimmed.startsWith('raise ')){
            const rm=trimmed.match(/^raise\s+(\w+)\((.+)\)$/);
            if(rm)throw new Error(ev(rm[2],e));
            i++;continue;
          }
          
          // import (skip)
          if(trimmed.startsWith('import ')||trimmed.startsWith('from ')){i++;continue}
          
          // pass, break, continue
          if(trimmed==='pass'||trimmed==='break'||trimmed==='continue'){i++;continue}
          
          // Augmented assignment: x += 1, x -= 1
          const aug=trimmed.match(/^(\w+)\s*([\+\-\*\/])=\s*(.+)$/);
          if(aug){
            const cur=e[aug[1]]||0;const val=ev(aug[3],e);
            if(aug[2]==='+')e[aug[1]]=typeof cur==='string'?cur+val:cur+val;
            else if(aug[2]==='-')e[aug[1]]=cur-val;
            else if(aug[2]==='*')e[aug[1]]=cur*val;
            else if(aug[2]==='/')e[aug[1]]=cur/val;
            i++;continue;
          }
          
          // Assignment: x = expr
          const asg=trimmed.match(/^(\w+)\s*=\s*(.+)$/);
          if(asg){e[asg[1]]=ev(asg[2],e);i++;continue}
          
          // Dict/list assignment: x[k] = v
          const da=trimmed.match(/^(\w+)\[(.+)\]\s*=\s*(.+)$/);
          if(da){const o=e[da[1]];const k=ev(da[2],e);o[k]=ev(da[3],e);i++;continue}
          
          // Method call on variable: x.append(v), etc
          const mc=trimmed.match(/^(\w+)\.(\w+)\((.*)?\)$/);
          if(mc){
            const obj=e[mc[1]];const meth=mc[2];const args=mc[3]?[ev(mc[3],e)]:[];
            if(Array.isArray(obj)&&meth==='append')obj.push(args[0]);
            if(typeof obj==='object'&&obj&&typeof obj[meth]==='function')obj[meth](...args);
            i++;continue;
          }
          
          // Function/constructor call: x = Name(args)
          const fca=trimmed.match(/^(\w+)\s*=\s*(\w+)\(([^)]*)\)$/);
          if(fca&&typeof e[fca[2]]==='function'){
            const args=fca[3]?fca[3].split(',').map(a=>ev(a.trim(),e)):[];
            e[fca[1]]=e[fca[2]](...args);i++;continue;
          }
          
          // Bare function call
          const bfc=trimmed.match(/^(\w+)\((.*)?\)$/);
          if(bfc&&typeof e[bfc[1]]==='function'){
            const args=bfc[2]?bfc[2].split(',').map(a=>ev(a.trim(),e)):[];
            e[bfc[1]](...args);i++;continue;
          }
          
          // Standalone expression with method: obj.method()
          if(trimmed.includes('.')&&trimmed.includes('(')){
            try{ev(trimmed,e)}catch(ex){if(ex.message.startsWith('NameError'))throw ex}
            i++;continue;
          }
          
          // Bare identifier or expression â€” evaluate to catch NameErrors
          if(/^[a-zA-Z_]\w*$/.test(trimmed)){
            ev(trimmed,e); // Will throw NameError for undefined names
          }
          // Bare function call that's not defined
          const ubfc=trimmed.match(/^(\w+)\(.*\)$/);
          if(ubfc&&!(ubfc[1] in e)){
            throw new Error(`NameError: name '${ubfc[1]}' is not defined`);
          }
          i++;
        }
      };
      
      run(lines,env);
      return {output:out.join('\n'),error:null};
    }catch(err){
      // Return partial output + error message
      return {output:out.length?out.join('\n'):null,error:err.message||'Unknown error'};
    }
  };

  // â”€â”€ Smart offline feedback: compare user code to best solution â”€â”€
  const offlineTips=(userCode,exercise)=>{
    const best=exercise.solutions.find(s=>s.best);
    if(!best)return'';
    const uc=userCode.trim();const bc=best.code.trim();
    if(uc===bc)return'';
    const tips=[];
    // Check for common non-Pythonic patterns
    if(uc.includes('= '+' ')&&!bc.includes('= '+' '))tips.push('Remove extra spaces around =');
    if(uc.includes('.format(')&&bc.includes("f'"))tips.push('Try f-strings instead of .format() â€” more readable');
    if(uc.includes('str(')&&uc.includes(' + ')&&bc.includes("f'"))tips.push('f-strings are more Pythonic than str() concatenation');
    if((uc.includes('total = total +')|| uc.includes('count = count +'))&&bc.includes('+='))tips.push('Use += for cleaner accumulation (e.g., total += i)');
    if(uc.includes('== True')|| uc.includes('== False'))tips.push("Don't compare with == True/False â€” just use 'if x:' or 'if not x:'");
    if(uc.includes('range(len(')&&!bc.includes('range(len('))tips.push('Avoid range(len(x)) â€” iterate directly: for item in x');
    if(uc.includes('.append(')&&bc.includes('[')&&bc.includes(' for ')&&bc.includes(' in '))tips.push('A list comprehension would be more Pythonic here');
    if(uc.includes('if ')&&uc.includes('else')&&uc.split('\n').length>3&&bc.includes(' if ')&&bc.includes(' else ')&&bc.split('\n').length<=2)tips.push('Consider a ternary expression: x if condition else y');
    if(uc.match(/\bprint\b/g)?.length>1&&bc.match(/\bprint\b/g)?.length===1)tips.push('You can often combine multiple prints into one');
    // If code is already close to best, show the bestExplanation
    if(tips.length===0&&exercise.bestExplanation)return exercise.bestExplanation;
    if(tips.length>0)return tips.join('. ')+(exercise.bestExplanation?'\n\n'+exercise.bestExplanation:'');
    return exercise.bestExplanation||'';
  };

  // â”€â”€ Multilingual error translations â”€â”€
  const errT=(key,vars={})=>{
    const m={
      nameErr:{en:`NameError: name '${vars.n||'?'}' is not defined`,zh:`NameErrorï¼šå˜é‡ '${vars.n||'?'}' æœªå®šä¹‰`,es:`NameError: '${vars.n||'?'}' no estÃ¡ definido`,fr:`NameError: '${vars.n||'?'}' n'est pas dÃ©fini`,ja:`NameErrorï¼š'${vars.n||'?'}' ã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“`,ko:`NameError: '${vars.n||'?'}' ì´(ê°€) ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤`,pt:`NameError: '${vars.n||'?'}' nÃ£o estÃ¡ definido`,de:`NameError: '${vars.n||'?'}' ist nicht definiert`},
      nameHint:{en:`Did you mean '${vars.r||'print'}'?`,zh:`ä½ æ˜¯ä¸æ˜¯æƒ³å†™ '${vars.r||'print'}'ï¼Ÿ`,es:`Â¿Quisiste decir '${vars.r||'print'}'?`,fr:`Vouliez-vous dire '${vars.r||'print'}' ?`,ja:`'${vars.r||'print'}' ã®ã“ã¨ã§ã™ã‹ï¼Ÿ`,ko:`'${vars.r||'print'}'ì„(ë¥¼) ì˜ë¯¸í–ˆë‚˜ìš”?`,pt:`VocÃª quis dizer '${vars.r||'print'}'?`,de:`Meintest du '${vars.r||'print'}'?`},
      syntaxColon:{en:`SyntaxError: expected ':' after '${vars.kw||''}'`,zh:`SyntaxErrorï¼š'${vars.kw||''}' åé¢ç¼ºå°‘å†’å· ':'`,es:`SyntaxError: se esperaba ':' despuÃ©s de '${vars.kw||''}'`,fr:`SyntaxError: ':' attendu aprÃ¨s '${vars.kw||''}'`,ja:`SyntaxErrorï¼š'${vars.kw||''}' ã®å¾Œã« ':' ãŒå¿…è¦ã§ã™`,ko:`SyntaxError: '${vars.kw||''}' ë’¤ì— ':'ì´ í•„ìš”í•©ë‹ˆë‹¤`,pt:`SyntaxError: esperado ':' apÃ³s '${vars.kw||''}'`,de:`SyntaxError: ':' erwartet nach '${vars.kw||''}'`},
      syntaxParen:{en:`SyntaxError: '(' was never closed`,zh:`SyntaxErrorï¼šæ‹¬å· '(' æœªé—­åˆ`,es:`SyntaxError: '(' nunca se cerrÃ³`,fr:`SyntaxError: '(' jamais fermÃ©`,ja:`SyntaxErrorï¼š'(' ãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“`,ko:`SyntaxError: '('ì´ ë‹«íˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤`,pt:`SyntaxError: '(' nunca foi fechado`,de:`SyntaxError: '(' wurde nie geschlossen`},
      syntaxStr:{en:`SyntaxError: unterminated string literal`,zh:`SyntaxErrorï¼šå­—ç¬¦ä¸²å¼•å·æœªé—­åˆ`,es:`SyntaxError: cadena sin terminar`,fr:`SyntaxError: chaÃ®ne non terminÃ©e`,ja:`SyntaxErrorï¼šæ–‡å­—åˆ—ãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“`,ko:`SyntaxError: ë¬¸ìì—´ì´ ë‹«íˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤`,pt:`SyntaxError: string nÃ£o terminada`,de:`SyntaxError: nicht abgeschlossener String`},
      noOutput:{en:'Your code produced no output. Did you use print()?',zh:'ä»£ç æ²¡æœ‰è¾“å‡ºã€‚æ˜¯å¦ä½¿ç”¨äº† print()ï¼Ÿ',es:'Tu cÃ³digo no produjo salida. Â¿Usaste print()?',fr:'Votre code n\'a produit aucune sortie. Avez-vous utilisÃ© print() ?',ja:'ã‚³ãƒ¼ãƒ‰ãŒå‡ºåŠ›ã‚’ç”Ÿæˆã—ã¾ã›ã‚“ã§ã—ãŸã€‚print() ã‚’ä½¿ã„ã¾ã—ãŸã‹ï¼Ÿ',ko:'ì½”ë“œê°€ ì¶œë ¥ì„ ìƒì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. print()ë¥¼ ì‚¬ìš©í–ˆë‚˜ìš”?',pt:'Seu cÃ³digo nÃ£o produziu saÃ­da. VocÃª usou print()?',de:'Dein Code hat keine Ausgabe erzeugt. Hast du print() benutzt?'},
      checkCode:{en:'Check your code carefully. Click "Hint" for help.',zh:'ä»”ç»†æ£€æŸ¥ä»£ç ï¼Œç‚¹å‡»"æç¤º"è·å–å¸®åŠ©ã€‚',es:'Revisa tu cÃ³digo. Haz clic en "Pista".',fr:'VÃ©rifiez votre code. Cliquez sur "Indice".',ja:'ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã€Œãƒ’ãƒ³ãƒˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚',ko:'ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”. "íŒíŠ¸"ë¥¼ í´ë¦­í•˜ì„¸ìš”.',pt:'Verifique seu cÃ³digo. Clique em "Dica".',de:'ÃœberprÃ¼fe deinen Code. Klicke auf "Hinweis".'},
      typeSelf:{en:'Type the code character by character â€” it helps you learn syntax.',zh:'é€å­—è¾“å…¥ä»£ç æœ‰åŠ©äºè®°å¿†è¯­æ³•ã€‚',es:'Escribe el cÃ³digo carÃ¡cter por carÃ¡cter para aprender la sintaxis.',fr:'Tapez le code caractÃ¨re par caractÃ¨re pour apprendre la syntaxe.',ja:'ã‚³ãƒ¼ãƒ‰ã‚’ä¸€æ–‡å­—ãšã¤å…¥åŠ›ã—ã¦æ§‹æ–‡ã‚’è¦šãˆã¾ã—ã‚‡ã†ã€‚',ko:'ì½”ë“œë¥¼ í•œ ê¸€ìì”© ì§ì ‘ ì…ë ¥í•˜ë©´ ë¬¸ë²•ì„ ìµíˆëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.',pt:'Digite o cÃ³digo caractere por caractere para aprender a sintaxe.',de:'Tippe den Code Zeichen fÃ¼r Zeichen, um die Syntax zu lernen.'}
    };
    const entry=m[key];
    if(!entry)return key;
    const local=entry[lang]||entry.en;
    const en=entry.en;
    return lang==='en'?en:(local+'\n\nğŸ‡¬ğŸ‡§ '+en);
  };

  const submit=async()=>{
    if(!ex)return;
    
    // â”€â”€ VALIDATION â”€â”€
    const userCode=code.split('\n').map(l=>l.trim()).filter(l=>l&&!l.startsWith('#')).join('\n');
    if(!userCode){
      setRunOut({lines:[],error:ui.emptyCode});
      setFb({type:'error',message:ui.emptyCode+'\n\nğŸ‡¬ğŸ‡§ Please write some code before running.'});return;
    }
    const starterClean=ex.starterCode.split('\n').map(l=>l.trim()).filter(l=>l&&!l.startsWith('#')).join('\n');
    if(userCode===starterClean){
      setRunOut({lines:[],error:ui.noChange});
      setFb({type:'error',message:ui.noChange+'\n\nğŸ‡¬ğŸ‡§ Modify the starter code before running.'});return;
    }
    
    // â”€â”€ ANTI COPY-PASTE CHECK â”€â”€
    const codeLen=code.replace(ex.starterCode,'').replace(/\s/g,'').length;
    if(codeLen>5&&keys<codeLen*0.3&&pasted){
      setRunOut({lines:[],error:ui.pasted});
      setFb({type:'error',message:ui.pasted+(lang!=='en'?'\n\nğŸ‡¬ğŸ‡§ Try typing it yourself to build muscle memory!':''),explanation:errT('typeSelf')});
      return;
    }
    
    setFb({type:'loading',message:ui.eval});setSol(false);
    
    // â”€â”€ PRE-FLIGHT SYNTAX CHECKS â”€â”€
    const userLines=code.split('\n').filter(l=>l.trim()&&!l.trim().startsWith('#'));
    const parens=userLines.join('\n').split('').reduce((n,c)=>c==='('?n+1:c===')'?n-1:n,0);
    if(parens>0){const msg=errT('syntaxParen');setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
    if(parens<0){const msg=errT('syntaxParen');setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
    for(const ln of userLines){
      const stripped=ln.trim();
      const sq=(stripped.match(/'/g)||[]).length;
      const dq=(stripped.match(/"/g)||[]).length;
      if(sq%2!==0&&!stripped.includes('\\\'')&&!stripped.includes('"')){
        const msg=errT('syntaxStr');setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
      if(dq%2!==0&&!stripped.includes('\\"')&&!stripped.includes("'")){
        const msg=errT('syntaxStr');setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
    }
    const typos={'prnt':'print','pirnt':'print','pring':'print','pritn':'print','Print':'print','prnit':'print','ipmort':'import','improt':'import'};
    for(const ln of userLines){
      for(const[wrong,right] of Object.entries(typos)){
        if(ln.trim().startsWith(wrong+'(')||ln.trim().startsWith(wrong+' ')){
          const msg=errT('nameErr',{n:wrong})+'\n'+errT('nameHint',{r:right});
          setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
      }
    }
    for(const ln of userLines){
      const t=ln.trim();
      if(/^(for|if|elif|while|def|class|else)\b/.test(t)&&!t.endsWith(':')&&!t.includes('#')){
        const kw=t.split(/\s/)[0];
        const msg=errT('syntaxColon',{kw});setRunOut({lines:[],error:msg});setFb({type:'error',message:msg});return}
    }
    
    // Step 1: Run mini Python simulator
    const simResult=miniPy(code);
    const simOut=simResult.output;
    const simErr=simResult.error;
    const expected=ex.expectedOutput.replace(/\\n/g,'\n');
    const norm=s=>s?.replace(/\s+/g,' ').trim().replace(/'/g,"'").replace(/"/g,"'");
    
    // Show terminal output
    if(simErr){
      const errName=simErr.split(':')[0]||'Error';
      const errVar=simErr.match(/'([^']+)'/)?.[1]||'';
      const localErr=errName==='NameError'?errT('nameErr',{n:errVar}):errT('checkCode');
      setRunOut({lines:simOut?simOut.split('\n'):[],error:localErr});
      setStreak(0);
      setFb({type:'error',message:localErr,explanation:errT('checkCode'),yourOutput:simOut||null,expected:ex.expectedOutput});
      return;
    }
    
    // Set terminal output (success or wrong)
    setRunOut({lines:simOut?simOut.split('\n'):[],error:null});
    
    if(simOut!==null && simOut.trim()==='' && expected.trim()!==''){
      setStreak(0);
      const msg=errT('noOutput');
      setRunOut({lines:[],error:msg});
      setFb({type:'error',message:msg,yourOutput:'(empty)',expected:ex.expectedOutput});
      return;
    }
    
    if(simOut!==null && norm(simOut)===norm(expected)){
      const tip=offlineTips(code,ex);
      setDone(p=>new Set([...p,eKey]));setStreak(s=>s+1);
      setFb({type:'success',message:ui.correct,explanation:'',improvement:tip});
      return;
    }
    
    // Step 2: Try API
    const solT=sols.map((s,i)=>`Sol ${i+1}: ${s.code}`).join('\n\n');
    try{
      const d=await callAPI({model:"claude-sonnet-4-20250514",max_tokens:1000,
        messages:[{role:"user",content:`You evaluate Python code exercises. Be VERY FLEXIBLE and GENEROUS.\n\nTask: ${ex.task}\nExpected Output: ${ex.expectedOutput}\n\nStudent's Code:\n${code}\n\nReference Solutions:\n${solT}\n\nRULES â€” Mark CORRECT if the code would produce equivalent output:\n- Different variable names are fine\n- String concatenation producing same result is CORRECT\n- Different methods achieving same result are CORRECT\n- Extra whitespace, comments, blank lines don't matter\n- f-strings vs concatenation vs .format() are all fine\n- Any valid approach producing the expected output is CORRECT\n\nOnly mark WRONG if the output would genuinely differ or there's a real bug.\n\nIf CORRECT: give a brief Pythonic improvement tip.\nIf WRONG: explain specifically what's wrong.\n\nIMPORTANT: Respond with TWO explanations â€” first in English, then in ${cLang.label} (separated by |||). JSON only:\n{"isCorrect":true/false,"feedback":"English ||| ${cLang.label}","improvement":"English ||| ${cLang.label}"}`}]});
      const txt=d.content?d.content.map(i=>i.text||"").join("\n").replace(/```json|```/g,"").trim():'';
      const ev=JSON.parse(txt);
      const fbParts=(ev.feedback||'').split('|||').map(s=>s.trim());
      const impParts=(ev.improvement||'').split('|||').map(s=>s.trim());
      const fbText=lang==='en'?fbParts[0]:(fbParts[1]||fbParts[0])+'\n\nğŸ‡¬ğŸ‡§ '+fbParts[0];
      const impText=lang==='en'?impParts[0]:((impParts[1]||impParts[0])+(impParts[0]?'\n\nğŸ‡¬ğŸ‡§ '+impParts[0]:''));
      if(ev.isCorrect){setDone(p=>new Set([...p,eKey]));setStreak(s=>s+1);setFb({type:'success',message:ui.correct,explanation:fbText,improvement:impText||offlineTips(code,ex)})}
      else{setStreak(0);setFb({type:'error',message:ui.wrong,explanation:fbText,yourOutput:simOut,expected:ex.expectedOutput})}
    }catch{
      // Step 3: Fallback
      if(simOut!==null){
        const looseMatch=norm(simOut)===norm(expected) || simOut.trim()===expected.trim();
        if(looseMatch){
          const tip=offlineTips(code,ex);
          setDone(p=>new Set([...p,eKey]));setStreak(s=>s+1);
          setFb({type:'success',message:ui.correct,improvement:tip});return;
        }
      }
      const strip=s=>s.split('\n').map(l=>l.trim()).filter(l=>l&&!l.startsWith('#')).join('\n');
      if(sols.some(s=>strip(s.code)===strip(code))){
        setDone(p=>new Set([...p,eKey]));setStreak(s=>s+1);
        setFb({type:'success',message:ui.correct,improvement:ex.bestExplanation||''});
      } else {
        setStreak(0);
        setFb({type:'error',message:ui.wrong,explanation:errT('checkCode'),yourOutput:simOut,expected:ex.expectedOutput});
      }
    }
  };

  const chat=async()=>{
    if(!chatIn.trim()||chatLD||!topic||!ex||!hasKey())return;
    const m=chatIn.trim();setChatIn('');
    setMsgs(p=>[...p,{role:'user',content:m}]);setChatLD(true);
    try{
      const sys=`Python tutor for "${course.title}". Topic: "${topic.title}". Exercise: "${ex.title}" â€” ${ex.task}. Student code:\n${code}\nRespond in ${cLang.label}. Be concise. Guide, don't give full answers.`;
      const hist=msgs.filter(m=>!m.content.startsWith('ğŸ‘‹')).concat([{role:'user',content:m}]);
      const d=await callAPI({model:"claude-sonnet-4-20250514",max_tokens:1000,system:sys,messages:hist});
      setMsgs(p=>[...p,{role:'assistant',content:d.content?d.content.map(i=>i.text||"").join("\n"):ui.fail}]);
    }catch{setMsgs(p=>[...p,{role:'assistant',content:ui.fail}])}
    setChatLD(false);
  };

  const renderMd=text=>text.split('\n').map((line,i)=>{
    if(line.startsWith('```'))return <div key={i}/>;
    if(line.startsWith('â€¢ '))return <div key={i} style={{marginLeft:16,color:th.text,fontSize:14}}>â€¢ {inl(line.slice(2))}</div>;
    if(line.match(/^\*\*[^*]+\*\*$/))return <h4 key={i} style={{fontWeight:600,color:th.success,marginTop:12,marginBottom:4}}>{line.replace(/\*\*/g,'')}</h4>;
    if(line.match(/^\d+\./))return <div key={i} style={{marginLeft:16,color:th.text,fontSize:14}}>{inl(line)}</div>;
    return <p key={i} style={{color:th.text,fontSize:14,lineHeight:1.7}}>{inl(line)}</p>;
  });
  const inl=t=>t.split(/(`[^`]+`)/).map((p,i)=>
    p.startsWith('`')&&p.endsWith('`')?<code key={i} style={{background:th.tag||'#f0f1f4',color:th.accent,padding:'1px 5px',borderRadius:4,fontSize:12,fontFamily:'monospace'}}>{p.slice(1,-1)}</code>
    :p.split(/(\*\*[^*]+\*\*)/).map((s,j)=>s.startsWith('**')&&s.endsWith('**')?<strong key={`${i}-${j}`} style={{color:th.text}}>{s.slice(2,-2)}</strong>:s));
  const blocks=text=>{const b=[];let c=[],ic=false;text.split('\n').forEach(l=>{if(l.startsWith('```')&&!ic){ic=true;return}if(l.startsWith('```')&&ic){b.push({t:'code',c:c.join('\n')});c=[];ic=false;return}if(ic)c.push(l);else{const dm=l.match(/^\[\[\[diagram:([^\]]+)\]\]\]$/);const tm=l.match(/^\[\[\[terminal:([^\]]+)\]\]\]$/);if(dm)b.push({t:'diagram',c:dm[1]});else if(tm)b.push({t:'terminal',c:tm[1]});else b.push({t:'text',c:l})}});return b};

  const CAT_GIFS={
    hero:'https://media.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.gif',
    ok:['https://media.giphy.com/media/Hrjm8NBt4qs0ubI5ed/giphy.gif','https://media.giphy.com/media/rMEJyjch7L1tlRlCl3/giphy.gif','https://media.giphy.com/media/KtKi9n1k5h5bW/giphy.gif','https://media.giphy.com/media/vVhOUhHqFZsvmlQpWR/giphy.gif'],
    err:['https://media.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.gif','https://media.giphy.com/media/7NoNw4pMNTvgc/giphy.gif'],
    load:['https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif','https://media.giphy.com/media/3oKIPnAiaMCws8nOsE/giphy.gif','https://media.giphy.com/media/pOKrXLf9N5g76/giphy.gif']
  };
  const rGif=(arr)=>arr[Math.floor(Math.random()*arr.length)];

  const CYBER_SUCCESS=[
    'â–¶ COMPILE: SUCCESS â–ª CODE INTEGRITY: 100%',
    'â—ˆ NEURAL LINK VERIFIED â–ª OUTPUT MATCHES TARGET',
    'â–¶ MISSION COMPLETE â–ª OBJECTIVE ACHIEVED',
    'â—ˆ SYSTEM: ALL CHECKS PASSED â–ª DEPLOYING...',
    'â–¶ CODE ACCEPTED â–ª RANK: ELITE OPERATOR',
    'â—ˆ ANALYSIS COMPLETE â–ª ZERO DEFECTS DETECTED'
  ];
  const CYBER_ERROR=[
    'âš  COMPILE FAILED â–ª ANOMALY DETECTED IN OUTPUT',
    'â—ˆ WARNING: OUTPUT MISMATCH â–ª RECALIBRATE',
    'â–¶ SYSTEM ALERT â–ª BUG DETECTED IN SECTOR 7',
    'âš  INTEGRITY CHECK FAILED â–ª RETRY PROTOCOL',
    'â—ˆ ALERT: EXPECTED OUTPUT DIVERGENCE',
    'â–¶ ERROR 0x7F â–ª REVIEW AND RESUBMIT'
  ];
  const CYBER_LOADING=[
    'â—ˆ COMPILING NEURAL NETWORK...',
    'â–¶ SCANNING CODE MATRIX...',
    'â—ˆ INITIALIZING ANALYSIS PROTOCOL...'
  ];


  const cyberMsg=(type)=>{const arr=type==='success'?CYBER_SUCCESS:type==='error'?CYBER_ERROR:CYBER_LOADING;return arr[Math.floor(Math.random()*arr.length)]};

  const GAMES_DATA={
    bugHunter:[
      {code:'name = "Alice"\nprint(Name)',bug:1,fix:'print(name)',hint:'Python is case-sensitive!'},
      {code:'x = 10\ny = "20"\nprint(x + y)',bug:2,fix:'print(x + int(y))',hint:'Cannot add int and str'},
      {code:'for i in range(5)\n  print(i)',bug:0,fix:'for i in range(5):',hint:'Missing colon after for'},
      {code:'fruits = ["apple", "banana"]\nprint(fruits[2])',bug:1,fix:'print(fruits[1])',hint:'Index starts at 0, max is len-1'},
      {code:'def greet(name)\n  return "Hi " + name',bug:0,fix:'def greet(name):',hint:'Missing colon after def'},
      {code:'age = input("Age: ")\nif age > 18:\n  print("Adult")',bug:1,fix:'if int(age) > 18:',hint:'input() returns a string, need int()'},
      {code:'my list = [1, 2, 3]\nprint(my list)',bug:0,fix:'my_list = [1, 2, 3]',hint:'Variable names cannot have spaces'},
      {code:'text = "Hello"\ntext[0] = "h"',bug:1,fix:'text = "h" + text[1:]',hint:'Strings are immutable in Python'},
      {code:'nums = [1,2,3]\nfor n in nums\n  if n > 1:\n    print(n)',bug:1,fix:'for n in nums:',hint:'Missing colon'},
      {code:'x = 5\nif x = 5:\n  print("yes")',bug:1,fix:'if x == 5:',hint:'= is assignment, == is comparison'},
    ],
    codeQuiz:[
      {code:'print(type(3.14).__name__)',opts:['int','float','str','number'],ans:1},
      {code:'print(len("Python"))',opts:['5','6','7','Error'],ans:1},
      {code:'x = [1,2,3]\nprint(x[-1])',opts:['1','2','3','Error'],ans:2},
      {code:'print("hello"*3)',opts:['hello3','hellohellohello','hello hello hello','Error'],ans:1},
      {code:'x = 10\ny = 3\nprint(x // y)',opts:['3.33','3','4','10'],ans:1},
      {code:'print(bool(""))',opts:['True','False','"" ','Error'],ans:1},
      {code:'x = [1,2,3]\nx.append(4)\nprint(len(x))',opts:['3','4','5','Error'],ans:1},
      {code:'print("abc" > "abd")',opts:['True','False','abc','Error'],ans:1},
      {code:'x = "Hello"\nprint(x[1:3])',opts:['He','el','ell','lo'],ans:1},
      {code:'print(10 % 3)',opts:['3','1','0','3.33'],ans:1},
      {code:'x = {"a":1}\nprint(x.get("b",0))',opts:['None','0','Error','b'],ans:1},
      {code:'print(list(range(2,8,2)))',opts:['[2,4,6]','[2,4,6,8]','[2,3,4,5,6,7]','[2,8,2]'],ans:0},
    ],
    speedType:[
      {prompt:'Create a list with 1,2,3',answer:'[1, 2, 3]',hint:'Square brackets'},
      {prompt:'Print "hello world"',answer:'print("hello world")',hint:'print() function'},
      {prompt:'Define variable x = 42',answer:'x = 42',hint:'variable = value'},
      {prompt:'Import the os module',answer:'import os',hint:'import keyword'},
      {prompt:'Create an f-string: name is Alice',answer:'f"name is {name}"',alt:["f'name is {name}'"]},
      {prompt:'List comprehension: squares of 0-4',answer:'[x**2 for x in range(5)]',alt:['[i**2 for i in range(5)]']},
      {prompt:'Open file "data.txt" for reading',answer:'open("data.txt", "r")',alt:["open('data.txt','r')","open('data.txt', 'r')"]},
      {prompt:'Define a function called greet',answer:'def greet():',alt:['def greet(name):']},
      {prompt:'Try-except block header',answer:'try:',hint:'Just the keyword and colon'},
      {prompt:'Dictionary with key "name", value "Alice"',answer:'{"name": "Alice"}',alt:["{'name':'Alice'}","{'name': 'Alice'}"]},
    ]
  };

  const BugHunter=({th,isDark})=>{
    const[qi,setQi]=useState(0);
    const[sel,setSel]=useState(null);
    const[score,setScore]=useState(0);
    const[total,setTotal]=useState(0);
    const q=GAMES_DATA.bugHunter[qi];
    const lines=q.code.split('\n');
    const pick=(i)=>{
      if(sel!==null)return;
      setSel(i);setTotal(t=>t+1);
      if(i===q.bug)setScore(s=>s+1);
    };
    const next=()=>{setSel(null);setQi((qi+1)%GAMES_DATA.bugHunter.length)};
    return <div>
      <div style={{...C.fb,marginBottom:12}}><span style={{color:th.sub,fontSize:13}}>ğŸ› Bug Hunter</span><span style={{color:th.accent,fontSize:13,fontWeight:600}}>ğŸ¯ {score}/{total}</span></div>
      <p style={{color:th.sub,fontSize:13,marginBottom:12}}>Which line has the bug? Click it!</p>
      <div style={{background:th.codeB,borderRadius:8,padding:12,marginBottom:12,border:`1px solid ${th.border}`}}>
        {lines.map((l,i)=><div key={i} onClick={()=>pick(i)} style={{padding:'6px 12px',borderRadius:4,cursor:sel===null?'pointer':'default',fontFamily:'monospace',fontSize:13,color:sel===null?(isDark?'#e2e8f0':'#1c1917'):i===q.bug?'#ff6b6b':i===sel?'#ff6b6b':(isDark?'#64748b':'#a8a29e'),background:sel!==null&&i===q.bug?'rgba(255,107,107,0.15)':sel===i&&i!==q.bug?'rgba(255,107,107,0.1)':'transparent',transition:'all 0.2s',border:sel===null?'1px solid transparent':'1px solid transparent'}}><span style={{color:th.sub,marginRight:12,fontSize:11}}>{i+1}</span>{l}</div>)}
      </div>
      {sel!==null&&<div style={{padding:12,borderRadius:8,background:sel===q.bug?'rgba(0,200,100,0.1)':'rgba(255,50,50,0.1)',border:`1px solid ${sel===q.bug?th.success:th.error}40`,marginBottom:12}}>
        <p style={{fontWeight:600,color:sel===q.bug?th.success:th.error,fontSize:14}}>{sel===q.bug?'âœ… Correct!':'âŒ Wrong line!'}</p>
        <p style={{color:th.sub,fontSize:12,marginTop:4}}>ğŸ’¡ {q.hint}</p>
        <p style={{color:th.text,fontSize:12,marginTop:4}}>Fix: <code style={{background:th.codeB,padding:'2px 6px',borderRadius:4,fontFamily:'monospace',color:th.accent}}>{q.fix}</code></p>
        <button onClick={next} style={{...C.btn,marginTop:8,padding:'6px 16px',background:th.accent,fontSize:13}}>Next â†’</button>
      </div>}
    </div>;
  };

  const CodeQuiz=({th,isDark})=>{
    const[qi,setQi]=useState(0);
    const[sel,setSel]=useState(null);
    const[score,setScore]=useState(0);
    const[total,setTotal]=useState(0);
    const q=GAMES_DATA.codeQuiz[qi];
    const pick=(i)=>{
      if(sel!==null)return;
      setSel(i);setTotal(t=>t+1);
      if(i===q.ans)setScore(s=>s+1);
    };
    const next=()=>{setSel(null);setQi((qi+1)%GAMES_DATA.codeQuiz.length)};
    return <div>
      <div style={{...C.fb,marginBottom:12}}><span style={{color:th.sub,fontSize:13}}>ğŸ§  Code Quiz</span><span style={{color:th.accent,fontSize:13,fontWeight:600}}>ğŸ¯ {score}/{total}</span></div>
      <p style={{color:th.sub,fontSize:13,marginBottom:8}}>What does this code output?</p>
      <pre style={{background:th.codeB,padding:12,borderRadius:8,fontFamily:'monospace',fontSize:13,color:isDark?'#e2e8f0':'#1c1917',marginBottom:12,border:`1px solid ${th.border}`}}>{q.code}</pre>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:8}}>
        {q.opts.map((o,i)=><button key={i} onClick={()=>pick(i)} style={{padding:'10px 16px',borderRadius:8,border:`2px solid ${sel===null?th.border:i===q.ans?th.success+'80':i===sel?th.error+'80':th.border}`,background:sel!==null&&i===q.ans?th.success+'20':sel===i&&i!==q.ans?th.error+'20':th.card,color:th.text,cursor:sel===null?'pointer':'default',fontFamily:'monospace',fontSize:14,fontWeight:600,transition:'all 0.2s'}}>{o}</button>)}
      </div>
      {sel!==null&&<div style={{textAlign:'center',marginTop:12}}>
        <p style={{color:sel===q.ans?th.success:th.error,fontWeight:600}}>{sel===q.ans?'âœ… Correct!':'âŒ Wrong!'}</p>
        <button onClick={next} style={{...C.btn,marginTop:8,padding:'6px 16px',background:th.accent,fontSize:13}}>Next â†’</button>
      </div>}
    </div>;
  };

  const SpeedType=({th,isDark})=>{
    const[qi,setQi]=useState(0);
    const[input,setInput]=useState('');
    const[result,setResult]=useState(null);
    const[score,setScore]=useState(0);
    const[total,setTotal]=useState(0);
    const[startT,setStartT]=useState(null);
    const q=GAMES_DATA.speedType[qi];
    const check=()=>{
      if(!input.trim())return;
      const t=input.trim();
      const correct=t===q.answer||(q.alt&&q.alt.includes(t));
      setTotal(n=>n+1);
      if(correct)setScore(s=>s+1);
      const elapsed=startT?((Date.now()-startT)/1000).toFixed(1):0;
      setResult({correct,time:elapsed});
    };
    const next=()=>{setInput('');setResult(null);setStartT(null);setQi((qi+1)%GAMES_DATA.speedType.length)};
    return <div>
      <div style={{...C.fb,marginBottom:12}}><span style={{color:th.sub,fontSize:13}}>âš¡ Speed Type</span><span style={{color:th.accent,fontSize:13,fontWeight:600}}>ğŸ¯ {score}/{total}</span></div>
      <div style={{background:th.codeB,padding:16,borderRadius:8,marginBottom:12,textAlign:'center',border:`1px solid ${th.border}`}}>
        <p style={{color:th.accent,fontSize:16,fontWeight:700}}>{q.prompt}</p>
        {q.hint&&!result&&<p style={{color:th.sub,fontSize:11,marginTop:4}}>ğŸ’¡ {q.hint}</p>}
      </div>
      <div style={{display:'flex',gap:8}}>
        <input value={input} onChange={e=>{setInput(e.target.value);if(!startT)setStartT(Date.now())}} onKeyDown={e=>{if(e.key==='Enter')check()}} placeholder="Type your answer..." disabled={!!result}
          style={{flex:1,background:isDark?'#0a0e1a':'#fff',color:th.text,fontSize:14,padding:'10px 14px',borderRadius:8,border:`1px solid ${th.border}`,outline:'none',fontFamily:'monospace'}}/>
        {!result&&<button onClick={check} disabled={!input.trim()} style={{...C.btn,padding:'10px 16px',background:th.accent,opacity:input.trim()?1:0.4}}>Check</button>}
      </div>
      {result&&<div style={{marginTop:12,padding:12,borderRadius:8,background:result.correct?th.success+'20':th.error+'20',border:`1px solid ${result.correct?th.success:th.error}40`}}>
        <p style={{fontWeight:600,color:result.correct?th.success:th.error}}>{result.correct?`âœ… Correct! ${result.time}s`:'âŒ Not quite!'}</p>
        {!result.correct&&<p style={{color:th.sub,fontSize:12,marginTop:4}}>Answer: <code style={{color:th.accent,fontFamily:'monospace'}}>{q.answer}</code></p>}
        <button onClick={next} style={{...C.btn,marginTop:8,padding:'6px 16px',background:th.accent,fontSize:13}}>Next â†’</button>
      </div>}
    </div>;
  };

  const GamesPanel=({th,isDark})=>{
    const[game,setGame]=useState(null);
    const games=[
      {id:'bug',icon:'ğŸ›',name:'Bug Hunter',desc:'Find the bug in the code!',comp:BugHunter},
      {id:'quiz',icon:'ğŸ§ ',name:'Code Quiz',desc:'What does this code output?',comp:CodeQuiz},
      {id:'speed',icon:'âš¡',name:'Speed Type',desc:'Type Python syntax fast!',comp:SpeedType},
    ];
    const active=games.find(g=>g.id===game);
    return <div style={{maxWidth:600,margin:'0 auto'}}>
      {!game?<div>
        <h2 style={{fontSize:24,fontWeight:800,color:th.text,marginBottom:4,textAlign:'center'}}>ğŸ® Python Games</h2>
        <p style={{color:th.sub,textAlign:'center',marginBottom:24,fontSize:14}}>Learn Python by playing!</p>
        <div style={{display:'grid',gap:12}}>
          {games.map(g=><button key={g.id} onClick={()=>setGame(g.id)} style={{display:'flex',alignItems:'center',gap:16,padding:20,borderRadius:12,border:`2px solid ${th.border}`,background:th.card,cursor:'pointer',textAlign:'left',transition:'all 0.2s'}}>
            <span style={{fontSize:36}}>{g.icon}</span>
            <div><p style={{color:th.text,fontSize:16,fontWeight:700}}>{g.name}</p><p style={{color:th.sub,fontSize:13}}>{g.desc}</p></div>
          </button>)}
        </div>
      </div>
      :<div>
        <button onClick={()=>setGame(null)} style={{...C.fc,gap:4,background:'none',border:'none',color:th.accent,cursor:'pointer',fontSize:13,marginBottom:16}}><I n="Left" s={14}/>Back to games</button>
        {React.createElement(active.comp,{th,isDark})}
      </div>}
    </div>;
  };

  const EX_I18N={
"Type print('Hello!') and run it.":{zh:["è¾“å…¥ print('Hello!') å¹¶è¿è¡Œ","åˆ«å¿˜äº†æ‹¬å·å’Œå¼•å·"],ja:["print('Hello!') ã¨å…¥åŠ›ã—ã¦å®Ÿè¡Œ","æ‹¬å¼§ã¨å¼•ç”¨ç¬¦ã‚’å¿˜ã‚Œãšã«"],ko:["print('Hello!')ë¥¼ ì…ë ¥í•˜ê³  ì‹¤í–‰í•˜ì„¸ìš”","ê´„í˜¸ì™€ ë”°ì˜´í‘œë¥¼ ìŠì§€ ë§ˆì„¸ìš”"],es:["Escribe print('Hello!') y ejecÃºtalo","No olvides parÃ©ntesis y comillas"],fr:["Tapez print('Hello!') et exÃ©cutez","N'oubliez pas les parenthÃ¨ses et guillemets"],pt:["Digite print('Hello!') e execute","NÃ£o esqueÃ§a parÃªnteses e aspas"],de:["Gib print('Hello!') ein und fÃ¼hre es aus","Klammern und AnfÃ¼hrungszeichen nicht vergessen"]},
"Print 'Line 1' then 'Line 2' on separate lines.":{zh:["åˆ†ä¸¤è¡Œè¾“å‡º 'Line 1' å’Œ 'Line 2'","å†™ä¸¤ä¸ª print()"],ja:["'Line 1' ã¨ 'Line 2' ã‚’åˆ¥ã€…ã®è¡Œã«å‡ºåŠ›","print() ã‚’2å›ä½¿ã†"],ko:["'Line 1'ê³¼ 'Line 2'ë¥¼ ê°ê° ë‹¤ë¥¸ ì¤„ì— ì¶œë ¥","print()ë¥¼ ë‘ ë²ˆ ì‚¬ìš©"],es:["Imprime 'Line 1' y 'Line 2' en lÃ­neas separadas","Dos llamadas a print()"],fr:["Affichez 'Line 1' puis 'Line 2' sur des lignes sÃ©parÃ©es","Deux appels Ã  print()"],pt:["Imprima 'Line 1' e 'Line 2' em linhas separadas","Duas chamadas print()"],de:["Gib 'Line 1' und 'Line 2' in separaten Zeilen aus","Zwei print()-Aufrufe"]},
"Print the Mac command to check Python's version.":{zh:["è¾“å‡º Mac ä¸Šæ£€æŸ¥ Python ç‰ˆæœ¬çš„å‘½ä»¤","Mac ä¸Šç”¨ python3"],ja:["Macã§Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å‡ºåŠ›","Macã§ã¯ python3 ã‚’ä½¿ã†"],ko:["Macì—ì„œ Python ë²„ì „ í™•ì¸ ëª…ë ¹ì–´ë¥¼ ì¶œë ¥","Macì—ì„œëŠ” python3 ì‚¬ìš©"],es:["Imprime el comando Mac para verificar la versiÃ³n de Python","En Mac usa python3"],fr:["Affichez la commande Mac pour vÃ©rifier la version Python","Sur Mac, utilisez python3"],pt:["Imprima o comando Mac para verificar a versÃ£o do Python","No Mac use python3"],de:["Gib den Mac-Befehl zur Python-Version aus","Auf Mac: python3"]},
"Print the crucial Windows install checkbox text.":{zh:["è¾“å‡º Windows å®‰è£…æ—¶å¿…é¡»å‹¾é€‰çš„é€‰é¡¹æ–‡å­—","å®‰è£…ç•Œé¢åº•éƒ¨çš„é€‰é¡¹"],ja:["Windowsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã®é‡è¦ãªãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›","ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã®ä¸‹éƒ¨ã«ã‚ã‚‹"],ko:["Windows ì„¤ì¹˜ ì‹œ í•„ìˆ˜ ì²´í¬ë°•ìŠ¤ í…ìŠ¤íŠ¸ë¥¼ ì¶œë ¥","ì„¤ì¹˜ í™”ë©´ í•˜ë‹¨ì˜ ì˜µì…˜"],es:["Imprime el texto del checkbox crucial en la instalaciÃ³n de Windows","EstÃ¡ al final del instalador"],fr:["Affichez le texte de la case Ã  cocher cruciale de l'installation Windows","En bas de l'installateur"],pt:["Imprima o texto do checkbox crucial na instalaÃ§Ã£o do Windows","Na parte inferior do instalador"],de:["Gib den wichtigen Checkbox-Text der Windows-Installation aus","Unten im Installer"]},
"Print the best tool for beginners with no installation.":{zh:["è¾“å‡ºæœ€é€‚åˆåˆå­¦è€…çš„å…å®‰è£…å·¥å…·åç§°","Google æä¾›çš„äº‘ç«¯ Jupyter"],ja:["åˆå¿ƒè€…å‘ã‘ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ãƒ„ãƒ¼ãƒ«åã‚’å‡ºåŠ›","Googleã®ã‚¯ãƒ©ã‚¦ãƒ‰ç‰ˆJupyter"],ko:["ì´ˆë³´ìë¥¼ ìœ„í•œ ì„¤ì¹˜ ë¶ˆí•„ìš” ë„êµ¬ ì´ë¦„ì„ ì¶œë ¥","Googleì˜ í´ë¼ìš°ë“œ Jupyter"],es:["Imprime la mejor herramienta sin instalaciÃ³n para principiantes","Jupyter en la nube de Google"],fr:["Affichez le meilleur outil sans installation pour dÃ©butants","Jupyter dans le cloud de Google"],pt:["Imprima a melhor ferramenta sem instalaÃ§Ã£o para iniciantes","Jupyter na nuvem do Google"],de:["Gib das beste Tool ohne Installation fÃ¼r AnfÃ¤nger aus","Googles Cloud-Jupyter"]},
"Print the file extension for Python files.":{zh:["è¾“å‡º Python æ–‡ä»¶çš„æ‰©å±•å","Python æ–‡ä»¶ä»¥ä»€ä¹ˆç»“å°¾ï¼Ÿ"],ja:["Pythonãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ã‚’å‡ºåŠ›","Pythonãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ã¯ï¼Ÿ"],ko:["Python íŒŒì¼ì˜ í™•ì¥ìë¥¼ ì¶œë ¥","Python íŒŒì¼ì€ ë¬´ì—‡ìœ¼ë¡œ ëë‚˜ë‚˜ìš”?"],es:["Imprime la extensiÃ³n de los archivos Python","Â¿En quÃ© terminan los archivos Python?"],fr:["Affichez l'extension des fichiers Python","Les fichiers Python se terminent par ?"],pt:["Imprima a extensÃ£o dos arquivos Python","Arquivos Python terminam com?"],de:["Gib die Dateiendung von Python-Dateien aus","Womit enden Python-Dateien?"]},
"Print the command to run app.py on Mac.":{zh:["è¾“å‡ºåœ¨ Mac ä¸Šè¿è¡Œ app.py çš„å‘½ä»¤","python3 + æ–‡ä»¶å"],ja:["Macã§ app.py ã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å‡ºåŠ›","python3 + ãƒ•ã‚¡ã‚¤ãƒ«å"],ko:["Macì—ì„œ app.pyë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶œë ¥","python3 + íŒŒì¼ëª…"],es:["Imprime el comando para ejecutar app.py en Mac","python3 + nombre del archivo"],fr:["Affichez la commande pour exÃ©cuter app.py sur Mac","python3 + nom du fichier"],pt:["Imprima o comando para executar app.py no Mac","python3 + nome do arquivo"],de:["Gib den Befehl zum AusfÃ¼hren von app.py auf Mac aus","python3 + Dateiname"]},
"Print Hello, World! â€” the traditional first program.":{zh:["è¾“å‡º Hello, World! â€” ç»å…¸çš„ç¬¬ä¸€ä¸ªç¨‹åº","æ³¨æ„é€—å·å’Œæ„Ÿå¹å·"],ja:["Hello, World! ã‚’å‡ºåŠ› â€” ä¼çµ±çš„ãªæœ€åˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ","ã‚³ãƒ³ãƒã¨æ„Ÿå˜†ç¬¦ã«æ³¨æ„"],ko:["Hello, World! ì¶œë ¥ â€” ì „í†µì ì¸ ì²« í”„ë¡œê·¸ë¨","ì‰¼í‘œì™€ ëŠë‚Œí‘œì— ì£¼ì˜"],es:["Imprime Hello, World! â€” el primer programa tradicional","AtenciÃ³n a la coma y el signo de exclamaciÃ³n"],fr:["Affichez Hello, World! â€” le premier programme traditionnel","Attention Ã  la virgule et au point d'exclamation"],pt:["Imprima Hello, World! â€” o primeiro programa tradicional","AtenÃ§Ã£o Ã  vÃ­rgula e ponto de exclamaÃ§Ã£o"],de:["Gib Hello, World! aus â€” das traditionelle erste Programm","Achte auf Komma und Ausrufezeichen"]},
"Create variable age = 25 and print it.":{zh:["åˆ›å»ºå˜é‡ age = 25 å¹¶è¾“å‡º","print(age) â€” age ä¸åŠ å¼•å·"],ja:["å¤‰æ•° age = 25 ã‚’ä½œæˆã—ã¦å‡ºåŠ›","print(age) â€” å¼•ç”¨ç¬¦ãªã—"],ko:["ë³€ìˆ˜ age = 25ë¥¼ ë§Œë“¤ê³  ì¶œë ¥","print(age) â€” ë”°ì˜´í‘œ ì—†ì´"],es:["Crea la variable age = 25 e imprÃ­mela","print(age) â€” sin comillas"],fr:["CrÃ©ez la variable age = 25 et affichez-la","print(age) â€” sans guillemets"],pt:["Crie a variÃ¡vel age = 25 e imprima","print(age) â€” sem aspas"],de:["Erstelle Variable age = 25 und gib sie aus","print(age) â€” ohne AnfÃ¼hrungszeichen"]},
"Using f-string, print 'I have 3 cats' where 3 comes from variable count.":{zh:["ç”¨ f-string è¾“å‡º 'I have 3 cats'ï¼Œ3 æ¥è‡ªå˜é‡ count","å­—ç¬¦ä¸²å‰åŠ  f"],ja:["f-stringã§ 'I have 3 cats' ã‚’å‡ºåŠ›ã€3ã¯å¤‰æ•°countã‹ã‚‰","æ–‡å­—åˆ—ã®å‰ã« f ã‚’ä»˜ã‘ã‚‹"],ko:["f-stringìœ¼ë¡œ 'I have 3 cats' ì¶œë ¥, 3ì€ ë³€ìˆ˜ countì—ì„œ","ë¬¸ìì—´ ì•ì— fë¥¼ ë¶™ì´ì„¸ìš”"],es:["Usando f-string, imprime 'I have 3 cats' donde 3 viene de count","Pon f antes de la comilla"],fr:["Avec f-string, affichez 'I have 3 cats' oÃ¹ 3 vient de count","Mettez f avant le guillemet"],pt:["Usando f-string, imprima 'I have 3 cats' onde 3 vem de count","Coloque f antes da aspas"],de:["Mit f-string 'I have 3 cats' ausgeben, wobei 3 von count kommt","f vor das AnfÃ¼hrungszeichen"]},
"The code prnt('Hello') has a bug. Print the corrected version.":{zh:["ä»£ç  prnt('Hello') æœ‰é”™è¯¯ï¼Œè¾“å‡ºä¿®æ­£ç‰ˆæœ¬","æ£€æŸ¥å‡½æ•°åæ‹¼å†™"],ja:["ã‚³ãƒ¼ãƒ‰ prnt('Hello') ã«ãƒã‚°ã‚ã‚Šã€‚ä¿®æ­£ç‰ˆã‚’å‡ºåŠ›","é–¢æ•°åã®ã‚¹ãƒšãƒ«ã‚’ç¢ºèª"],ko:["ì½”ë“œ prnt('Hello')ì— ë²„ê·¸ê°€ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì •ë³¸ì„ ì¶œë ¥","í•¨ìˆ˜ëª… ì² ì í™•ì¸"],es:["El cÃ³digo prnt('Hello') tiene un bug. Imprime la versiÃ³n corregida","Revisa la ortografÃ­a de la funciÃ³n"],fr:["Le code prnt('Hello') a un bug. Affichez la version corrigÃ©e","VÃ©rifiez l'orthographe de la fonction"],pt:["O cÃ³digo prnt('Hello') tem um bug. Imprima a versÃ£o corrigida","Verifique a ortografia da funÃ§Ã£o"],de:["Der Code prnt('Hello') hat einen Bug. Gib die korrigierte Version aus","PrÃ¼fe die Schreibweise der Funktion"]},
"Print the command to install pandas.":{zh:["è¾“å‡ºå®‰è£… pandas çš„å‘½ä»¤","pip install + åŒ…å"],ja:["pandasã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å‡ºåŠ›","pip install + ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å"],ko:["pandas ì„¤ì¹˜ ëª…ë ¹ì–´ë¥¼ ì¶œë ¥","pip install + íŒ¨í‚¤ì§€ëª…"],es:["Imprime el comando para instalar pandas","pip install + nombre del paquete"],fr:["Affichez la commande pour installer pandas","pip install + nom du package"],pt:["Imprima o comando para instalar pandas","pip install + nome do pacote"],de:["Gib den Befehl zum Installieren von pandas aus","pip install + Paketname"]},
"Print the statement to import requests.":{zh:["è¾“å‡ºå¯¼å…¥ requests çš„è¯­å¥","import + åŒ…å"],ja:["requestsã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹æ–‡ã‚’å‡ºåŠ›","import + ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å"],ko:["requestsë¥¼ importí•˜ëŠ” ë¬¸ì¥ì„ ì¶œë ¥","import + íŒ¨í‚¤ì§€ëª…"],es:["Imprime la instrucciÃ³n para importar requests","import + nombre del paquete"],fr:["Affichez l'instruction pour importer requests","import + nom du package"],pt:["Imprima a instruÃ§Ã£o para importar requests","import + nome do pacote"],de:["Gib die Anweisung zum Importieren von requests aus","import + Paketname"]},
"Print a good Python filename for a weather scraper.":{zh:["è¾“å‡ºå¤©æ°”çˆ¬è™«é¡¹ç›®çš„è§„èŒƒæ–‡ä»¶å","å…¨å°å†™ã€ä¸‹åˆ’çº¿ã€.py ç»“å°¾"],ja:["å¤©æ°—ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼ã®é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«åã‚’å‡ºåŠ›","å°æ–‡å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã€.py"],ko:["ë‚ ì”¨ ìŠ¤í¬ë ˆì´í¼ì˜ ì ì ˆí•œ íŒŒì¼ëª…ì„ ì¶œë ¥","ì†Œë¬¸ì, ë°‘ì¤„, .py"],es:["Imprime un buen nombre de archivo Python para un scraper del clima","MinÃºsculas, guiones bajos, .py"],fr:["Affichez un bon nom de fichier Python pour un scraper mÃ©tÃ©o","Minuscules, underscores, .py"],pt:["Imprima um bom nome de arquivo Python para um scraper de clima","MinÃºsculas, underscores, .py"],de:["Gib einen guten Python-Dateinamen fÃ¼r einen Wetter-Scraper aus","Kleinbuchstaben, Unterstriche, .py"]},
"Print the git command to upload code to GitHub.":{zh:["è¾“å‡ºå°†ä»£ç ä¸Šä¼ åˆ° GitHub çš„ git å‘½ä»¤","push = ä¸Šä¼ "],ja:["GitHubã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹gitã‚³ãƒãƒ³ãƒ‰ã‚’å‡ºåŠ›","push = ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"],ko:["GitHubì— ì½”ë“œë¥¼ ì˜¬ë¦¬ëŠ” git ëª…ë ¹ì–´ë¥¼ ì¶œë ¥","push = ì—…ë¡œë“œ"],es:["Imprime el comando git para subir cÃ³digo a GitHub","push = subir"],fr:["Affichez la commande git pour envoyer le code sur GitHub","push = envoyer"],pt:["Imprima o comando git para enviar cÃ³digo ao GitHub","push = enviar"],de:["Gib den git-Befehl zum Hochladen auf GitHub aus","push = hochladen"]},
"Create a variable called `greeting` with value 'Hello, Python!' and print it.":{zh:["åˆ›å»ºå˜é‡ greetingï¼Œå€¼ä¸º 'Hello, Python!'ï¼Œç„¶åè¾“å‡º","ç”¨ = èµ‹å€¼ï¼Œå† print()"],ja:["å¤‰æ•° greeting ã« 'Hello, Python!' ã‚’ä»£å…¥ã—ã¦å‡ºåŠ›","= ã§ä»£å…¥ã€print() ã§å‡ºåŠ›"],ko:["ë³€ìˆ˜ greetingì— 'Hello, Python!'ì„ ë„£ê³  ì¶œë ¥","= ë¡œ í• ë‹¹, print()ë¡œ ì¶œë ¥"],es:["Crea variable greeting con valor 'Hello, Python!' e imprÃ­mela","Usa = para asignar, luego print()"],fr:["CrÃ©ez une variable greeting valant 'Hello, Python!' et affichez-la","= pour assigner, puis print()"],pt:["Crie variÃ¡vel greeting com valor 'Hello, Python!' e imprima","Use = para atribuir, depois print()"],de:["Erstelle Variable greeting mit Wert 'Hello, Python!' und gib sie aus","= zum Zuweisen, dann print()"]},
"Calculate and print the result of 17 divided by 5 using floor division.":{zh:["ç”¨æ•´é™¤ (//) è®¡ç®— 17Ã·5 å¹¶è¾“å‡º","ä½¿ç”¨ // è¿ç®—ç¬¦"],ja:["åˆ‡ã‚Šæ¨ã¦é™¤ç®—ã§17Ã·5ã®çµæœã‚’å‡ºåŠ›","// æ¼”ç®—å­ã‚’ä½¿ç”¨"],ko:["ë°”ë‹¥ ë‚˜ëˆ—ì…ˆ(//)ìœ¼ë¡œ 17Ã·5 ê²°ê³¼ë¥¼ ì¶œë ¥","// ì—°ì‚°ì ì‚¬ìš©"],es:["Calcula e imprime 17 dividido por 5 con divisiÃ³n entera","Usa el operador //"],fr:["Calculez et affichez 17 divisÃ© par 5 en division entiÃ¨re","Utilisez l'opÃ©rateur //"],pt:["Calcule e imprima 17 dividido por 5 com divisÃ£o inteira","Use o operador //"],de:["Berechne und gib 17 geteilt durch 5 als Ganzzahldivision aus","Verwende den //-Operator"]},
"Create variables `item` = 'coffee' and `price` = 4.50, then print 'A coffee costs $4.5'.":{zh:["åˆ›å»º item='coffee' å’Œ price=4.50ï¼Œè¾“å‡º 'A coffee costs $4.5'","ç”¨ f-string ç»„åˆå˜é‡"],ja:["item='coffee'ã¨price=4.50ã‚’ä½œã‚Š 'A coffee costs $4.5' ã‚’å‡ºåŠ›","f-stringã§å¤‰æ•°ã‚’çµ„ã¿åˆã‚ã›ã‚‹"],ko:["item='coffee'ì™€ price=4.50ì„ ë§Œë“¤ê³  'A coffee costs $4.5' ì¶œë ¥","f-stringìœ¼ë¡œ ë³€ìˆ˜ ì¡°í•©"],es:["Crea item='coffee' y price=4.50, imprime 'A coffee costs $4.5'","Usa f-string para combinar"],fr:["CrÃ©ez item='coffee' et price=4.50, affichez 'A coffee costs $4.5'","Utilisez f-string"],pt:["Crie item='coffee' e price=4.50, imprima 'A coffee costs $4.5'","Use f-string"],de:["Erstelle item='coffee' und price=4.50, gib 'A coffee costs $4.5' aus","Verwende f-string"]},
"Convert the string '99' to an integer, add 1, and print the result.":{zh:["å°†å­—ç¬¦ä¸² '99' è½¬ä¸ºæ•´æ•°ï¼ŒåŠ  1ï¼Œè¾“å‡ºç»“æœ","ç”¨ int() è½¬æ¢"],ja:["æ–‡å­—åˆ— '99' ã‚’æ•´æ•°ã«å¤‰æ›ã—1ã‚’è¶³ã—ã¦å‡ºåŠ›","int() ã§å¤‰æ›"],ko:["ë¬¸ìì—´ '99'ë¥¼ ì •ìˆ˜ë¡œ ë³€í™˜, 1 ë”í•˜ê³  ì¶œë ¥","int()ë¡œ ë³€í™˜"],es:["Convierte '99' a entero, suma 1 e imprime","Usa int() para convertir"],fr:["Convertissez '99' en entier, ajoutez 1 et affichez","Utilisez int()"],pt:["Converta '99' para inteiro, some 1 e imprima","Use int()"],de:["Konvertiere '99' in Integer, addiere 1 und gib aus","Verwende int()"]},
"Create name = 'Bob' and age = 25. Print 'Bob is 25 years old' using an f-string.":{zh:["åˆ›å»º name='Bob', age=25ï¼Œç”¨ f-string è¾“å‡º 'Bob is 25 years old'","f'{name} is {age} years old'"],ja:["name='Bob', age=25ã‚’ä½œã‚Šf-stringã§ 'Bob is 25 years old' ã‚’å‡ºåŠ›","f'{name} is {age} years old'"],ko:["name='Bob', age=25 ë§Œë“¤ê³  f-stringìœ¼ë¡œ 'Bob is 25 years old' ì¶œë ¥","f'{name} is {age} years old'"],es:["Crea name='Bob', age=25. Imprime 'Bob is 25 years old' con f-string","f'{name} is {age} years old'"],fr:["CrÃ©ez name='Bob', age=25. Affichez 'Bob is 25 years old' avec f-string","f'{name} is {age} years old'"],pt:["Crie name='Bob', age=25. Imprima 'Bob is 25 years old' com f-string","f'{name} is {age} years old'"],de:["Erstelle name='Bob', age=25. Gib 'Bob is 25 years old' mit f-string aus","f'{name} is {age} years old'"]},
"Calculate 2 to the power of 10 and print the result.":{zh:["è®¡ç®— 2 çš„ 10 æ¬¡æ–¹å¹¶è¾“å‡º","ç”¨ ** å¹‚è¿ç®—"],ja:["2ã®10ä¹—ã‚’è¨ˆç®—ã—ã¦å‡ºåŠ›","** æ¼”ç®—å­ã‚’ä½¿ç”¨"],ko:["2ì˜ 10ì œê³±ì„ ê³„ì‚°í•˜ê³  ì¶œë ¥","** ê±°ë“­ì œê³± ì—°ì‚°ì"],es:["Calcula 2 elevado a 10 e imprime","Usa el operador **"],fr:["Calculez 2 puissance 10 et affichez","Utilisez l'opÃ©rateur **"],pt:["Calcule 2 elevado a 10 e imprima","Use o operador **"],de:["Berechne 2 hoch 10 und gib aus","Verwende den **-Operator"]},
"Given score = 75, print 'Pass' if >= 60, otherwise 'Fail'.":{zh:["å·²çŸ¥ score=75ï¼Œ>=60 è¾“å‡º 'Pass'ï¼Œå¦åˆ™ 'Fail'","ç”¨ if/else"],ja:["score=75ã€>=60ãªã‚‰'Pass'ã€ãã‚Œä»¥å¤–ã¯'Fail'ã‚’å‡ºåŠ›","if/else ã‚’ä½¿ç”¨"],ko:["score=75, >=60ì´ë©´ 'Pass', ì•„ë‹ˆë©´ 'Fail' ì¶œë ¥","if/else ì‚¬ìš©"],es:["Si score=75, imprime 'Pass' si >=60, sino 'Fail'","Usa if/else"],fr:["Si score=75, affichez 'Pass' si >=60, sinon 'Fail'","Utilisez if/else"],pt:["Se score=75, imprima 'Pass' se >=60, senÃ£o 'Fail'","Use if/else"],de:["Bei score=75, gib 'Pass' wenn >=60, sonst 'Fail' aus","Verwende if/else"]},
"Use a for loop and range() to print the sum of 1 through 10.":{zh:["ç”¨ for å¾ªç¯å’Œ range() è®¡ç®— 1-10 çš„å’Œå¹¶è¾“å‡º","åˆ›å»ºç´¯åŠ å˜é‡"],ja:["forãƒ«ãƒ¼ãƒ—ã¨range()ã§1ã€œ10ã®åˆè¨ˆã‚’å‡ºåŠ›","ç´¯è¨ˆå¤‰æ•°ã‚’ä½œæˆ"],ko:["for ë£¨í”„ì™€ range()ë¡œ 1~10ì˜ í•©ì„ ì¶œë ¥","ëˆ„ì  ë³€ìˆ˜ ìƒì„±"],es:["Usa un for y range() para imprimir la suma de 1 a 10","Crea una variable acumuladora"],fr:["Utilisez une boucle for et range() pour afficher la somme de 1 Ã  10","CrÃ©ez une variable accumulatrice"],pt:["Use for e range() para imprimir a soma de 1 a 10","Crie uma variÃ¡vel acumuladora"],de:["Verwende for und range() um die Summe von 1-10 auszugeben","Erstelle eine Summenvariable"]},
"Print all even numbers from 2 to 10 (inclusive), one per line.":{zh:["é€è¡Œè¾“å‡º 2 åˆ° 10 çš„æ‰€æœ‰å¶æ•°","ç”¨ range(2,11,2)"],ja:["2ã‹ã‚‰10ã®å¶æ•°ã‚’1è¡Œãšã¤å‡ºåŠ›","range(2,11,2) ã‚’ä½¿ç”¨"],ko:["2~10ì˜ ì§ìˆ˜ë¥¼ í•œ ì¤„ì”© ì¶œë ¥","range(2,11,2) ì‚¬ìš©"],es:["Imprime pares del 2 al 10, uno por lÃ­nea","Usa range(2,11,2)"],fr:["Affichez les nombres pairs de 2 Ã  10, un par ligne","Utilisez range(2,11,2)"],pt:["Imprima pares de 2 a 10, um por linha","Use range(2,11,2)"],de:["Gib gerade Zahlen von 2-10 aus, eine pro Zeile","Verwende range(2,11,2)"]},
"Use a while loop to count down from 3 to 1, then print 'Go!'.":{zh:["ç”¨ while å¾ªç¯ä» 3 å€’æ•°åˆ° 1ï¼Œç„¶åè¾“å‡º 'Go!'","æ¯æ¬¡å‡ 1"],ja:["whileãƒ«ãƒ¼ãƒ—ã§3ã‹ã‚‰1ã¾ã§ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã—'Go!'ã‚’å‡ºåŠ›","æ¯å›1ã‚’å¼•ã"],ko:["while ë£¨í”„ë¡œ 3ì—ì„œ 1ê¹Œì§€ ì¹´ìš´íŠ¸ë‹¤ìš´ í›„ 'Go!' ì¶œë ¥","ë§¤ë²ˆ 1 ê°ì†Œ"],es:["Usa while para contar de 3 a 1, luego imprime 'Go!'","Resta 1 cada vez"],fr:["Utilisez while pour dÃ©compter de 3 Ã  1, puis affichez 'Go!'","Soustrayez 1 Ã  chaque fois"],pt:["Use while para contar de 3 a 1, depois imprima 'Go!'","Subtraia 1 cada vez"],de:["Verwende while zum RunterzÃ¤hlen von 3 bis 1, dann 'Go!'","Jedes Mal 1 abziehen"]},
"Print numbers 1-5. But for multiples of 3, print 'Fizz' instead.":{zh:["è¾“å‡º 1-5ï¼Œ3 çš„å€æ•°ç”¨ 'Fizz' ä»£æ›¿","n % 3 == 0"],ja:["1-5ã‚’å‡ºåŠ›ã€3ã®å€æ•°ã¯'Fizz'ã«ç½®æ›","n % 3 == 0"],ko:["1-5 ì¶œë ¥, 3ì˜ ë°°ìˆ˜ëŠ” 'Fizz'ë¡œ ëŒ€ì²´","n % 3 == 0"],es:["Imprime 1-5, pero mÃºltiplos de 3 como 'Fizz'","n % 3 == 0"],fr:["Affichez 1-5, mais 'Fizz' pour les multiples de 3","n % 3 == 0"],pt:["Imprima 1-5, mas 'Fizz' para mÃºltiplos de 3","n % 3 == 0"],de:["Gib 1-5 aus, aber 'Fizz' fÃ¼r Vielfache von 3","n % 3 == 0"]},
"Create a list [5, 10, 15], append 20, then print the list.":{zh:["åˆ›å»ºåˆ—è¡¨ [5,10,15]ï¼Œè¿½åŠ  20ï¼Œè¾“å‡º","ç”¨ .append()"],ja:["ãƒªã‚¹ãƒˆ [5,10,15] ã‚’ä½œã‚Š20ã‚’è¿½åŠ ã—ã¦å‡ºåŠ›","append() ã‚’ä½¿ç”¨"],ko:["ë¦¬ìŠ¤íŠ¸ [5,10,15]ì— 20ì„ ì¶”ê°€í•˜ê³  ì¶œë ¥",".append() ì‚¬ìš©"],es:["Crea lista [5,10,15], agrega 20 e imprÃ­mela","Usa .append()"],fr:["CrÃ©ez la liste [5,10,15], ajoutez 20 et affichez","Utilisez .append()"],pt:["Crie lista [5,10,15], adicione 20 e imprima","Use .append()"],de:["Erstelle Liste [5,10,15], hÃ¤nge 20 an und gib aus","Verwende .append()"]},
"Given nums = [1,2,3,4,5,6,7,8], print the slice from index 2 to 5.":{zh:["å·²çŸ¥ nums = [1,2,3,4,5,6,7,8]ï¼Œè¾“å‡ºç´¢å¼• 2 åˆ° 5 çš„åˆ‡ç‰‡","list[2:6]"],ja:["nums = [1,2,3,4,5,6,7,8] ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹2ã€œ5ã‚’å‡ºåŠ›","list[2:6]"],ko:["nums = [1,2,3,4,5,6,7,8]ì—ì„œ ì¸ë±ìŠ¤ 2~5 ìŠ¬ë¼ì´ìŠ¤ ì¶œë ¥","list[2:6]"],es:["Dado nums = [1,2,3,4,5,6,7,8], imprime el slice del Ã­ndice 2 al 5","list[2:6]"],fr:["DonnÃ© nums = [1,2,3,4,5,6,7,8], affichez le slice index 2 Ã  5","list[2:6]"],pt:["Dado nums = [1,2,3,4,5,6,7,8], imprima o slice do Ã­ndice 2 ao 5","list[2:6]"],de:["Gegeben nums = [1,2,3,4,5,6,7,8], gib den Slice von Index 2 bis 5 aus","list[2:6]"]},
"Create a list of squares of 1-5 using comprehension and print it.":{zh:["ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆ 1-5 çš„å¹³æ–¹å¹¶è¾“å‡º","[x**2 for x in range(1,6)]"],ja:["å†…åŒ…è¡¨è¨˜ã§1ã€œ5ã®äºŒä¹—ãƒªã‚¹ãƒˆã‚’ä½œã‚Šå‡ºåŠ›","[x**2 for x in range(1,6)]"],ko:["ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ìœ¼ë¡œ 1-5 ì œê³± ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì¶œë ¥","[x**2 for x in range(1,6)]"],es:["Crea una lista de cuadrados de 1-5 con comprensiÃ³n","[x**2 for x in range(1,6)]"],fr:["CrÃ©ez une liste des carrÃ©s de 1-5 par comprÃ©hension","[x**2 for x in range(1,6)]"],pt:["Crie uma lista de quadrados de 1-5 com compreensÃ£o","[x**2 for x in range(1,6)]"],de:["Erstelle eine Liste der Quadrate von 1-5 mit Comprehension","[x**2 for x in range(1,6)]"]},
"Split 'a-b-c-d' by '-' and rejoin with spaces. Print the result.":{zh:["ç”¨ '-' åˆ†å‰² 'a-b-c-d'ï¼Œå†ç”¨ç©ºæ ¼è¿æ¥å¹¶è¾“å‡º",".split() å’Œ ' '.join()"],ja:["'a-b-c-d' ã‚’'-'ã§åˆ†å‰²ã—ã‚¹ãƒšãƒ¼ã‚¹ã§çµåˆã—ã¦å‡ºåŠ›",".split() ã¨ ' '.join()"],ko:["'a-b-c-d'ë¥¼ '-'ë¡œ ë¶„í• í•˜ê³  ê³µë°±ìœ¼ë¡œ ë‹¤ì‹œ í•©ì³ ì¶œë ¥",".split()ê³¼ ' '.join()"],es:["Divide 'a-b-c-d' por '-' y une con espacios","split() y ' '.join()"],fr:["SÃ©parez 'a-b-c-d' par '-' et rejoignez avec des espaces","split() et ' '.join()"],pt:["Divida 'a-b-c-d' por '-' e junte com espaÃ§os","split() e ' '.join()"],de:["Teile 'a-b-c-d' bei '-' und verbinde mit Leerzeichen","split() und ' '.join()"]},
"Create list [10, 20, 30, 40]. Print its length and sum.":{zh:["åˆ›å»ºåˆ—è¡¨ [10,20,30,40]ï¼Œè¾“å‡ºé•¿åº¦å’Œæ€»å’Œ","len() å’Œ sum()"],ja:["ãƒªã‚¹ãƒˆ [10,20,30,40] ã‚’ä½œã‚Šé•·ã•ã¨åˆè¨ˆã‚’å‡ºåŠ›","len() ã¨ sum()"],ko:["ë¦¬ìŠ¤íŠ¸ [10,20,30,40]ì˜ ê¸¸ì´ì™€ í•©ê³„ ì¶œë ¥","len()ê³¼ sum()"],es:["Crea lista [10,20,30,40]. Imprime su longitud y suma","len() y sum()"],fr:["CrÃ©ez la liste [10,20,30,40]. Affichez longueur et somme","len() et sum()"],pt:["Crie lista [10,20,30,40]. Imprima tamanho e soma","len() e sum()"],de:["Erstelle Liste [10,20,30,40]. Gib LÃ¤nge und Summe aus","len() und sum()"]},
"Write function double(n) returning n*2. Call with 7, print result.":{zh:["å†™å‡½æ•° double(n) è¿”å› n*2ï¼Œç”¨ 7 è°ƒç”¨å¹¶è¾“å‡º","def double(n): return n*2"],ja:["double(n)é–¢æ•°ã‚’æ›¸ãn*2ã‚’è¿”ã™ã€‚7ã§å‘¼ã‚“ã§å‡ºåŠ›","def double(n): return n*2"],ko:["double(n) í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì—¬ n*2 ë°˜í™˜. 7ë¡œ í˜¸ì¶œ í›„ ì¶œë ¥","def double(n): return n*2"],es:["Escribe funciÃ³n double(n) que retorne n*2. LlÃ¡mala con 7","def double(n): return n*2"],fr:["Ã‰crivez la fonction double(n) retournant n*2. Appelez avec 7","def double(n): return n*2"],pt:["Escreva funÃ§Ã£o double(n) retornando n*2. Chame com 7","def double(n): return n*2"],de:["Schreibe Funktion double(n) die n*2 zurÃ¼ckgibt. Rufe mit 7 auf","def double(n): return n*2"]},
"Write greet(name, greeting='Hello') printing '{greeting}, {name}!'. Call greet('World').":{zh:["å†™ greet(name, greeting='Hello')ï¼Œè¾“å‡ºé—®å€™è¯­ï¼Œè°ƒç”¨ greet('World')","é»˜è®¤å‚æ•° greeting='Hello'"],ja:["greet(name, greeting='Hello')ã‚’æ›¸ã„ã¦å‡ºåŠ›ã€‚greet('World')ã‚’å‘¼ã¶","ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°"],ko:["greet(name, greeting='Hello') ì‘ì„±, greet('World') í˜¸ì¶œ","ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜"],es:["Escribe greet(name, greeting='Hello'). Llama greet('World')","ParÃ¡metro por defecto"],fr:["Ã‰crivez greet(name, greeting='Hello'). Appelez greet('World')","ParamÃ¨tre par dÃ©faut"],pt:["Escreva greet(name, greeting='Hello'). Chame greet('World')","ParÃ¢metro padrÃ£o"],de:["Schreibe greet(name, greeting='Hello'). Rufe greet('World') auf","Standardparameter"]},
"Write stats(nums) returning (min, max). Call with [4,2,9,1,7], print both.":{zh:["å†™ stats(nums) è¿”å› (æœ€å°å€¼,æœ€å¤§å€¼)ï¼Œç”¨ [4,2,9,1,7] æµ‹è¯•","è¿”å›å…ƒç»„"],ja:["stats(nums)ã‚’æ›¸ã(min,max)ã‚’è¿”ã™ã€‚[4,2,9,1,7]ã§å‘¼ã¶","ã‚¿ãƒ—ãƒ«ã‚’è¿”ã™"],ko:["stats(nums) ì‘ì„±, (min,max) ë°˜í™˜. [4,2,9,1,7]ë¡œ í…ŒìŠ¤íŠ¸","íŠœí”Œ ë°˜í™˜"],es:["Escribe stats(nums) que retorne (min,max). Prueba con [4,2,9,1,7]","Retorna tupla"],fr:["Ã‰crivez stats(nums) retournant (min,max). Testez avec [4,2,9,1,7]","Retournez un tuple"],pt:["Escreva stats(nums) retornando (min,max). Teste com [4,2,9,1,7]","Retorne tupla"],de:["Schreibe stats(nums) die (min,max) zurÃ¼ckgibt. Teste mit [4,2,9,1,7]","Gib Tupel zurÃ¼ck"]},
"Write is_even(n) returning True if n is even, False otherwise. Test with 4 and print.":{zh:["å†™ is_even(n)ï¼Œå¶æ•°è¿”å› Trueï¼Œç”¨ 4 æµ‹è¯•å¹¶è¾“å‡º","n % 2 == 0"],ja:["is_even(n)ã‚’æ›¸ãå¶æ•°ãªã‚‰Trueã‚’è¿”ã™ã€‚4ã§ãƒ†ã‚¹ãƒˆ","n % 2 == 0"],ko:["is_even(n) ì‘ì„±, ì§ìˆ˜ë©´ True ë°˜í™˜. 4ë¡œ í…ŒìŠ¤íŠ¸","n % 2 == 0"],es:["Escribe is_even(n) que retorne True si es par. Prueba con 4","n % 2 == 0"],fr:["Ã‰crivez is_even(n) retournant True si pair. Testez avec 4","n % 2 == 0"],pt:["Escreva is_even(n) retornando True se par. Teste com 4","n % 2 == 0"],de:["Schreibe is_even(n) die True bei gerader Zahl zurÃ¼ckgibt. Teste mit 4","n % 2 == 0"]},
"Print which mode opens a file for reading.":{zh:["è¾“å‡ºä»¥è¯»å–æ¨¡å¼æ‰“å¼€æ–‡ä»¶çš„å‚æ•°","open() çš„ç¬¬äºŒä¸ªå‚æ•°"],ja:["ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚Šã§é–‹ããƒ¢ãƒ¼ãƒ‰ã‚’å‡ºåŠ›","open()ã®ç¬¬2å¼•æ•°"],ko:["íŒŒì¼ì„ ì½ê¸° ëª¨ë“œë¡œ ì—¬ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶œë ¥","open()ì˜ ë‘ ë²ˆì§¸ ì¸ì"],es:["Imprime el modo que abre un archivo para lectura","Segundo argumento de open()"],fr:["Affichez le mode qui ouvre un fichier en lecture","DeuxiÃ¨me argument de open()"],pt:["Imprima o modo que abre arquivo para leitura","Segundo argumento de open()"],de:["Gib den Modus zum Ã–ffnen einer Datei zum Lesen aus","Zweites Argument von open()"]},
"Split 'Alice,90,A' by comma and print the list.":{zh:["ç”¨é€—å·åˆ†å‰² 'Alice,90,A' å¹¶è¾“å‡ºåˆ—è¡¨","ç”¨ .split(',')"],ja:["'Alice,90,A' ã‚’ã‚³ãƒ³ãƒã§åˆ†å‰²ã—ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›",".split(',') ã‚’ä½¿ç”¨"],ko:["'Alice,90,A'ë¥¼ ì‰¼í‘œë¡œ ë¶„í• í•˜ê³  ë¦¬ìŠ¤íŠ¸ ì¶œë ¥",".split(',') ì‚¬ìš©"],es:["Divide 'Alice,90,A' por coma e imprime la lista","Usa .split(',')"],fr:["SÃ©parez 'Alice,90,A' par virgule et affichez la liste","Utilisez .split(',')"],pt:["Divida 'Alice,90,A' por vÃ­rgula e imprima a lista","Use .split(',')"],de:["Teile 'Alice,90,A' bei Komma und gib die Liste aus","Verwende .split(',')"]},
"Print 3 CSV rows: header 'name,score', then 'Alice,90' and 'Bob,85'.":{zh:["è¾“å‡º 3 è¡Œ CSVï¼šè¡¨å¤´ 'name,score'ï¼Œç„¶å 'Alice,90' å’Œ 'Bob,85'","æ¯è¡Œä¸€ä¸ª print()"],ja:["CSV 3è¡Œå‡ºåŠ›ï¼šãƒ˜ãƒƒãƒ€ãƒ¼'name,score'ã€æ¬¡ã«'Alice,90'ã¨'Bob,85'","å„è¡Œã«print()"],ko:["CSV 3ì¤„ ì¶œë ¥: í—¤ë” 'name,score', ê·¸ ë‹¤ìŒ 'Alice,90'ê³¼ 'Bob,85'","ê° ì¤„ì— print()"],es:["Imprime 3 filas CSV: encabezado 'name,score', luego 'Alice,90' y 'Bob,85'","Un print() por fila"],fr:["Affichez 3 lignes CSV: en-tÃªte 'name,score', puis 'Alice,90' et 'Bob,85'","Un print() par ligne"],pt:["Imprima 3 linhas CSV: cabeÃ§alho 'name,score', depois 'Alice,90' e 'Bob,85'","Um print() por linha"],de:["Gib 3 CSV-Zeilen aus: Header 'name,score', dann 'Alice,90' und 'Bob,85'","Ein print() pro Zeile"]},
"Print the result of 10/0 if possible, otherwise print 'Cannot divide by zero'.":{zh:["å°è¯•è®¡ç®— 10/0ï¼Œå¤±è´¥è¾“å‡º 'Cannot divide by zero'","try/except"],ja:["10/0ã‚’è¨ˆç®—ã€å¤±æ•—ãªã‚‰'Cannot divide by zero'ã‚’å‡ºåŠ›","try/except"],ko:["10/0 ê³„ì‚° ì‹œë„, ì‹¤íŒ¨ ì‹œ 'Cannot divide by zero' ì¶œë ¥","try/except"],es:["Intenta 10/0, si falla imprime 'Cannot divide by zero'","try/except"],fr:["Essayez 10/0, sinon affichez 'Cannot divide by zero'","try/except"],pt:["Tente 10/0, se falhar imprima 'Cannot divide by zero'","try/except"],de:["Versuche 10/0, bei Fehler gib 'Cannot divide by zero' aus","try/except"]},
"Try converting 'hello' to int. Print 'Invalid number' if it fails.":{zh:["å°è¯•å°† 'hello' è½¬ä¸º intï¼Œå¤±è´¥è¾“å‡º 'Invalid number'","æ•è· ValueError"],ja:["'hello'ã‚’intã«å¤‰æ›ã€å¤±æ•—ãªã‚‰'Invalid number'ã‚’å‡ºåŠ›","ValueErrorã‚’æ•æ‰"],ko:["'hello'ë¥¼ intë¡œ ë³€í™˜ ì‹œë„, ì‹¤íŒ¨ ì‹œ 'Invalid number' ì¶œë ¥","ValueError ì¡ê¸°"],es:["Intenta convertir 'hello' a int. Imprime 'Invalid number' si falla","Captura ValueError"],fr:["Essayez de convertir 'hello' en int. Affichez 'Invalid number' si Ã©chec","Capturez ValueError"],pt:["Tente converter 'hello' em int. Imprima 'Invalid number' se falhar","Capture ValueError"],de:["Versuche 'hello' zu int. Gib 'Invalid number' bei Fehler aus","Fange ValueError"]},
"Define Circle with __init__(self, radius) and area() returning 3.14*r*r. Circle(5), print area.":{zh:["å®šä¹‰ Circle ç±»ï¼Œå« __init__(radius) å’Œ area()ï¼Œåˆ›å»ºåŠå¾„ 5 è¾“å‡ºé¢ç§¯","class Circle:"],ja:["Circle ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã€__init__(radius)ã¨area()ã€‚Circle(5)ã§é¢ç©ã‚’å‡ºåŠ›","class Circle:"],ko:["Circle í´ë˜ìŠ¤ ì •ì˜, __init__(radius)ì™€ area(). Circle(5)ë¡œ ë©´ì  ì¶œë ¥","class Circle:"],es:["Define Circle con __init__(radius) y area(). Circle(5), imprime Ã¡rea","class Circle:"],fr:["DÃ©finissez Circle avec __init__(radius) et area(). Circle(5), affichez l'aire","class Circle:"],pt:["Defina Circle com __init__(radius) e area(). Circle(5), imprima Ã¡rea","class Circle:"],de:["Definiere Circle mit __init__(radius) und area(). Circle(5), gib FlÃ¤che aus","class Circle:"]},
"Define Counter with count=0, increment() adding 1. Call 3 times, print count.":{zh:["å®šä¹‰ Counter ç±»ï¼Œcount=0ï¼Œincrement() åŠ  1ï¼Œè°ƒç”¨ 3 æ¬¡è¾“å‡º","self.count += 1"],ja:["Counter ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã€count=0ã€increment()ã§+1ã€‚3å›å‘¼ã‚“ã§countå‡ºåŠ›","self.count += 1"],ko:["Counter í´ë˜ìŠ¤ ì •ì˜, count=0, increment()ë¡œ +1. 3ë²ˆ í˜¸ì¶œ í›„ ì¶œë ¥","self.count += 1"],es:["Define Counter con count=0, increment() suma 1. Llama 3 veces, imprime","self.count += 1"],fr:["DÃ©finissez Counter avec count=0, increment() ajoute 1. Appelez 3 fois","self.count += 1"],pt:["Defina Counter com count=0, increment() soma 1. Chame 3 vezes","self.count += 1"],de:["Definiere Counter mit count=0, increment() addiert 1. 3Ã— aufrufen","self.count += 1"]},
"Create numpy array [2,4,6,8,10] and print its mean.":{zh:["åˆ›å»º numpy æ•°ç»„ [2,4,6,8,10]ï¼Œè¾“å‡ºå¹³å‡å€¼","np.array() å’Œ .mean()"],ja:["numpyé…åˆ— [2,4,6,8,10] ã‚’ä½œã‚Šå¹³å‡ã‚’å‡ºåŠ›","np.array() ã¨ .mean()"],ko:["numpy ë°°ì—´ [2,4,6,8,10] ë§Œë“¤ê³  í‰ê·  ì¶œë ¥","np.array()ì™€ .mean()"],es:["Crea array numpy [2,4,6,8,10] e imprime su media","np.array() y .mean()"],fr:["CrÃ©ez un array numpy [2,4,6,8,10] et affichez la moyenne","np.array() et .mean()"],pt:["Crie array numpy [2,4,6,8,10] e imprima a mÃ©dia","np.array() e .mean()"],de:["Erstelle numpy Array [2,4,6,8,10] und gib Mittelwert aus","np.array() und .mean()"]},
"Create [1,2,3,4,5], square each element, print result.":{zh:["åˆ›å»º [1,2,3,4,5]ï¼Œæ¯ä¸ªå…ƒç´ æ±‚å¹³æ–¹å¹¶è¾“å‡º","arr**2"],ja:["[1,2,3,4,5]ã‚’ä½œã‚Šå„è¦ç´ ã‚’äºŒä¹—ã—ã¦å‡ºåŠ›","arr**2"],ko:["[1,2,3,4,5] ë§Œë“¤ê³  ê° ìš”ì†Œë¥¼ ì œê³±í•˜ì—¬ ì¶œë ¥","arr**2"],es:["Crea [1,2,3,4,5], eleva al cuadrado cada elemento","arr**2"],fr:["CrÃ©ez [1,2,3,4,5], Ã©levez chaque Ã©lÃ©ment au carrÃ©","arr**2"],pt:["Crie [1,2,3,4,5], eleve ao quadrado cada elemento","arr**2"],de:["Erstelle [1,2,3,4,5], quadriere jedes Element","arr**2"]},
"Create DataFrame with 'city' and 'pop' columns. Print it.":{zh:["åˆ›å»ºå« 'city' å’Œ 'pop' åˆ—çš„ DataFrame å¹¶è¾“å‡º","pd.DataFrame({...})"],ja:["'city'ã¨'pop'åˆ—ã®DataFrameã‚’ä½œã‚Šå‡ºåŠ›","pd.DataFrame({...})"],ko:["'city'ì™€ 'pop' ì—´ì˜ DataFrame ë§Œë“¤ê³  ì¶œë ¥","pd.DataFrame({...})"],es:["Crea DataFrame con columnas 'city' y 'pop'. ImprÃ­melo","pd.DataFrame({...})"],fr:["CrÃ©ez un DataFrame avec colonnes 'city' et 'pop'. Affichez","pd.DataFrame({...})"],pt:["Crie DataFrame com colunas 'city' e 'pop'. Imprima","pd.DataFrame({...})"],de:["Erstelle DataFrame mit Spalten 'city' und 'pop'. Gib aus","pd.DataFrame({...})"]},
"Print the HTTP status code that means 'OK / Success'.":{zh:["è¾“å‡ºè¡¨ç¤º'è¯·æ±‚æˆåŠŸ'çš„ HTTP çŠ¶æ€ç ","æœ€å¸¸è§çš„æˆåŠŸç "],ja:["'æˆåŠŸ'ã‚’æ„å‘³ã™ã‚‹HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å‡ºåŠ›","æœ€ã‚‚ä¸€èˆ¬çš„ãªæˆåŠŸã‚³ãƒ¼ãƒ‰"],ko:["'ì„±ê³µ'ì„ ì˜ë¯¸í•˜ëŠ” HTTP ìƒíƒœ ì½”ë“œë¥¼ ì¶œë ¥","ê°€ì¥ ì¼ë°˜ì ì¸ ì„±ê³µ ì½”ë“œ"],es:["Imprime el cÃ³digo HTTP que significa 'OK / Ã‰xito'","El cÃ³digo de Ã©xito mÃ¡s comÃºn"],fr:["Affichez le code HTTP signifiant 'OK / SuccÃ¨s'","Le code de succÃ¨s le plus courant"],pt:["Imprima o cÃ³digo HTTP que significa 'OK / Sucesso'","O cÃ³digo de sucesso mais comum"],de:["Gib den HTTP-Statuscode fÃ¼r 'OK / Erfolg' aus","Der hÃ¤ufigste Erfolgscode"]},
"Print the HTML tag used for links (just the tag name, no brackets).":{zh:["è¾“å‡ºè¶…é“¾æ¥çš„ HTML æ ‡ç­¾åï¼ˆä¸å«æ‹¬å·ï¼‰","anchor çš„ç¼©å†™"],ja:["ãƒªãƒ³ã‚¯ç”¨HTMLã‚¿ã‚°åã‚’å‡ºåŠ›ï¼ˆæ‹¬å¼§ãªã—ï¼‰","anchorã®ç•¥"],ko:["ë§í¬ìš© HTML íƒœê·¸ ì´ë¦„ì„ ì¶œë ¥ (ê´„í˜¸ ì—†ì´)","anchorì˜ ì•½ì"],es:["Imprime la etiqueta HTML para enlaces (solo nombre)","Abreviatura de anchor"],fr:["Affichez le nom de la balise HTML pour les liens","AbrÃ©viation de anchor"],pt:["Imprima a tag HTML para links (sÃ³ o nome)","AbreviaÃ§Ã£o de anchor"],de:["Gib den HTML-Tag-Namen fÃ¼r Links aus (ohne Klammern)","AbkÃ¼rzung von anchor"]},
"Print the keyboard shortcut to open browser DevTools.":{zh:["è¾“å‡ºæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„å¿«æ·é”®","F å¼€å¤´çš„åŠŸèƒ½é”®"],ja:["ãƒ–ãƒ©ã‚¦ã‚¶DevToolsã‚’é–‹ãã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’å‡ºåŠ›","Fã§å§‹ã¾ã‚‹ã‚­ãƒ¼"],ko:["ë¸Œë¼ìš°ì € DevTools ì—¬ëŠ” ë‹¨ì¶•í‚¤ë¥¼ ì¶œë ¥","Fë¡œ ì‹œì‘í•˜ëŠ” í‚¤"],es:["Imprime el atajo para abrir DevTools del navegador","Tecla que empieza con F"],fr:["Affichez le raccourci pour ouvrir les DevTools","Touche commenÃ§ant par F"],pt:["Imprima o atalho para abrir DevTools do navegador","Tecla que comeÃ§a com F"],de:["Gib die Tastenkombination zum Ã–ffnen der DevTools aus","Taste mit F am Anfang"]},
"Import requests, GET 'https://example.com', print status code.":{zh:["å¯¼å…¥ requestsï¼ŒGET example.comï¼Œè¾“å‡ºçŠ¶æ€ç ","requests.get(url).status_code"],ja:["requestsã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—example.comã‚’GETã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰å‡ºåŠ›","requests.get(url).status_code"],ko:["requests import, example.com GET, ìƒíƒœ ì½”ë“œ ì¶œë ¥","requests.get(url).status_code"],es:["Importa requests, GET example.com, imprime cÃ³digo de estado","requests.get(url).status_code"],fr:["Importez requests, GET example.com, affichez le code statut","requests.get(url).status_code"],pt:["Importe requests, GET example.com, imprima cÃ³digo de status","requests.get(url).status_code"],de:["Importiere requests, GET example.com, gib Statuscode aus","requests.get(url).status_code"]},
"Fetch 'https://example.com'. Print 'Success' if status 200, else 'Failed'.":{zh:["è¯·æ±‚ example.comï¼Œ200 è¾“å‡º 'Success'ï¼Œå¦åˆ™ 'Failed'","if åˆ¤æ–­ status_code"],ja:["example.comã‚’ãƒ•ã‚§ãƒƒãƒã€‚200ãªã‚‰'Success'ã€ä»–ã¯'Failed'","if ã§ status_code åˆ¤å®š"],ko:["example.com ìš”ì²­. 200ì´ë©´ 'Success', ì•„ë‹ˆë©´ 'Failed'","ifë¡œ status_code íŒë‹¨"],es:["Fetch example.com. Imprime 'Success' si 200, sino 'Failed'","if para status_code"],fr:["Fetch example.com. 'Success' si 200, sinon 'Failed'","if pour status_code"],pt:["Fetch example.com. 'Success' se 200, senÃ£o 'Failed'","if para status_code"],de:["Fetch example.com. 'Success' wenn 200, sonst 'Failed'","if fÃ¼r status_code"]},
"Parse '<h1>Hello Scraper</h1>' and print the h1 text.":{zh:["è§£æ '<h1>Hello Scraper</h1>' å¹¶è¾“å‡º h1 æ–‡æœ¬","soup.find('h1').text"],ja:["'<h1>Hello Scraper</h1>'ã‚’è§£æã—h1ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›","soup.find('h1').text"],ko:["'<h1>Hello Scraper</h1>' íŒŒì‹±í•˜ê³  h1 í…ìŠ¤íŠ¸ ì¶œë ¥","soup.find('h1').text"],es:["Parsea '<h1>Hello Scraper</h1>' e imprime el texto del h1","soup.find('h1').text"],fr:["Analysez '<h1>Hello Scraper</h1>' et affichez le texte du h1","soup.find('h1').text"],pt:["Parse '<h1>Hello Scraper</h1>' e imprima o texto do h1","soup.find('h1').text"],de:["Parse '<h1>Hello Scraper</h1>' und gib den h1-Text aus","soup.find('h1').text"]},
"Count <li> items in the HTML and print the count.":{zh:["ç»Ÿè®¡ HTML ä¸­ <li> æ•°é‡å¹¶è¾“å‡º","len(find_all('li'))"],ja:["HTMLå†…ã®<li>æ•°ã‚’æ•°ãˆã¦å‡ºåŠ›","len(find_all('li'))"],ko:["HTMLì˜ <li> ê°œìˆ˜ë¥¼ ì„¸ê³  ì¶œë ¥","len(find_all('li'))"],es:["Cuenta los <li> en el HTML e imprime","len(find_all('li'))"],fr:["Comptez les <li> dans le HTML et affichez","len(find_all('li'))"],pt:["Conte os <li> no HTML e imprima","len(find_all('li'))"],de:["ZÃ¤hle <li>-Elemente im HTML und gib aus","len(find_all('li'))"]},
"Print the href from the <a> tag.":{zh:["è¾“å‡º <a> æ ‡ç­¾çš„ href å€¼","tag['href']"],ja:["<a>ã‚¿ã‚°ã®hrefã‚’å‡ºåŠ›","tag['href']"],ko:["<a> íƒœê·¸ì˜ href ê°’ì„ ì¶œë ¥","tag['href']"],es:["Imprime el href del <a>","tag['href']"],fr:["Affichez le href du <a>","tag['href']"],pt:["Imprima o href do <a>","tag['href']"],de:["Gib den href des <a>-Tags aus","tag['href']"]},
"Print all href values, one per line.":{zh:["é€è¡Œè¾“å‡ºæ‰€æœ‰ href å€¼","éå† find_all('a')"],ja:["å…¨ã¦ã®hrefå€¤ã‚’1è¡Œãšã¤å‡ºåŠ›","find_all('a') ã‚’ãƒ«ãƒ¼ãƒ—"],ko:["ëª¨ë“  href ê°’ì„ í•œ ì¤„ì”© ì¶œë ¥","find_all('a') ìˆœíšŒ"],es:["Imprime todos los href, uno por lÃ­nea","Itera find_all('a')"],fr:["Affichez tous les href, un par ligne","Parcourez find_all('a')"],pt:["Imprima todos os href, um por linha","Itere find_all('a')"],de:["Gib alle href-Werte aus, einen pro Zeile","Iteriere find_all('a')"]},
"Print the text of the element with class 'highlight'.":{zh:["è¾“å‡º class='highlight' å…ƒç´ çš„æ–‡æœ¬","find(class_='highlight')"],ja:["class='highlight'ã®è¦ç´ ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›","find(class_='highlight')"],ko:["class='highlight' ìš”ì†Œì˜ í…ìŠ¤íŠ¸ë¥¼ ì¶œë ¥","find(class_='highlight')"],es:["Imprime el texto del elemento con class 'highlight'","find(class_='highlight')"],fr:["Affichez le texte de l'Ã©lÃ©ment class 'highlight'","find(class_='highlight')"],pt:["Imprima o texto do elemento class 'highlight'","find(class_='highlight')"],de:["Gib den Text des Elements mit class 'highlight' aus","find(class_='highlight')"]},
"Extract all numbers from the text and print the list.":{zh:["ä»æ–‡æœ¬ä¸­æå–æ‰€æœ‰æ•°å­—å¹¶è¾“å‡ºåˆ—è¡¨","re.findall()"],ja:["ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰å…¨ã¦ã®æ•°å€¤ã‚’æŠ½å‡ºã—ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›","re.findall()"],ko:["í…ìŠ¤íŠ¸ì—ì„œ ëª¨ë“  ìˆ«ìë¥¼ ì¶”ì¶œí•˜ê³  ë¦¬ìŠ¤íŠ¸ ì¶œë ¥","re.findall()"],es:["Extrae todos los nÃºmeros del texto e imprime la lista","re.findall()"],fr:["Extrayez tous les nombres du texte et affichez la liste","re.findall()"],pt:["Extraia todos os nÃºmeros do texto e imprima a lista","re.findall()"],de:["Extrahiere alle Zahlen aus dem Text und gib die Liste aus","re.findall()"]},
"Clean 'Hello    World   !' to 'Hello World !' and print it.":{zh:["æ¸…ç†å¤šä½™ç©ºæ ¼å˜ä¸º 'Hello World !'","split+join æˆ–æ­£åˆ™"],ja:["ä½™åˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’é™¤ã 'Hello World !' ã«æ•´ç†ã—ã¦å‡ºåŠ›","split+join ã‹æ­£è¦è¡¨ç¾"],ko:["ì—¬ë¶„ì˜ ê³µë°±ì„ ì œê±°í•˜ì—¬ 'Hello World !'ë¡œ ì •ë¦¬ í›„ ì¶œë ¥","split+join ë˜ëŠ” ì •ê·œì‹"],es:["Limpia a 'Hello World !' y imprime","split+join o regex"],fr:["Nettoyez en 'Hello World !' et affichez","split+join ou regex"],pt:["Limpe para 'Hello World !' e imprima","split+join ou regex"],de:["Bereinige zu 'Hello World !' und gib aus","split+join oder Regex"]},
"Print first data row as 'Alice, 30'.":{zh:["è¾“å‡ºç¬¬ä¸€è¡Œæ•°æ®ä¸º 'Alice, 30'","æå–è¡¨æ ¼è¡Œ"],ja:["æœ€åˆã®ãƒ‡ãƒ¼ã‚¿è¡Œã‚’ 'Alice, 30' ã¨ã—ã¦å‡ºåŠ›","ãƒ†ãƒ¼ãƒ–ãƒ«è¡Œã‚’æŠ½å‡º"],ko:["ì²« ë²ˆì§¸ ë°ì´í„° í–‰ì„ 'Alice, 30'ìœ¼ë¡œ ì¶œë ¥","í…Œì´ë¸” í–‰ ì¶”ì¶œ"],es:["Imprime la primera fila como 'Alice, 30'","Extrae fila de tabla"],fr:["Affichez la premiÃ¨re ligne comme 'Alice, 30'","Extrayez la ligne du tableau"],pt:["Imprima a primeira linha como 'Alice, 30'","Extraia linha da tabela"],de:["Gib die erste Datenzeile als 'Alice, 30' aus","Tabellenzeile extrahieren"]},
"Print the URL for page 3 of a product listing.":{zh:["è¾“å‡ºå•†å“åˆ—è¡¨ç¬¬ 3 é¡µçš„ URL","é¡µç å‚æ•° ?page=3"],ja:["å•†å“ãƒªã‚¹ãƒˆ3ãƒšãƒ¼ã‚¸ç›®ã®URLã‚’å‡ºåŠ›","ãƒšãƒ¼ã‚¸ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ?page=3"],ko:["ìƒí’ˆ ëª©ë¡ 3í˜ì´ì§€ì˜ URLì„ ì¶œë ¥","í˜ì´ì§€ íŒŒë¼ë¯¸í„° ?page=3"],es:["Imprime la URL de la pÃ¡gina 3 de productos","ParÃ¡metro ?page=3"],fr:["Affichez l'URL de la page 3 des produits","ParamÃ¨tre ?page=3"],pt:["Imprima a URL da pÃ¡gina 3 de produtos","ParÃ¢metro ?page=3"],de:["Gib die URL fÃ¼r Seite 3 der Produktliste aus","Parameter ?page=3"]},
"Print the list of table headers.":{zh:["è¾“å‡ºè¡¨æ ¼çš„è¡¨å¤´åˆ—è¡¨","æŸ¥æ‰¾æ‰€æœ‰ <th>"],ja:["ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›","å…¨ã¦ã®<th>ã‚’æ¤œç´¢"],ko:["í…Œì´ë¸” í—¤ë” ëª©ë¡ì„ ì¶œë ¥","ëª¨ë“  <th> ì°¾ê¸°"],es:["Imprime la lista de encabezados de tabla","Busca todos los <th>"],fr:["Affichez la liste des en-tÃªtes du tableau","Cherchez tous les <th>"],pt:["Imprima a lista de cabeÃ§alhos da tabela","Encontre todos os <th>"],de:["Gib die Liste der TabellenÃ¼berschriften aus","Finde alle <th>"]},
"Extract all <li> texts as a list and print it.":{zh:["æå–æ‰€æœ‰ <li> æ–‡æœ¬ä¸ºåˆ—è¡¨å¹¶è¾“å‡º","åˆ—è¡¨æ¨å¯¼å¼"],ja:["å…¨<li>ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒªã‚¹ãƒˆã¨ã—ã¦å‡ºåŠ›","ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜"],ko:["ëª¨ë“  <li> í…ìŠ¤íŠ¸ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶”ì¶œí•˜ê³  ì¶œë ¥","ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜"],es:["Extrae todos los textos <li> como lista","ComprensiÃ³n de lista"],fr:["Extrayez tous les textes <li> en liste","ComprÃ©hension de liste"],pt:["Extraia todos os textos <li> como lista","CompreensÃ£o de lista"],de:["Extrahiere alle <li>-Texte als Liste","List Comprehension"]},
"Safely extract h2 text, print 'N/A' if not found.":{zh:["å®‰å…¨æå– h2 æ–‡æœ¬ï¼Œæœªæ‰¾åˆ°è¾“å‡º 'N/A'","å…ˆæ£€æŸ¥æ˜¯å¦å­˜åœ¨"],ja:["h2ãƒ†ã‚­ã‚¹ãƒˆã‚’å®‰å…¨ã«å–å¾—ã€ç„¡ã‘ã‚Œã°'N/A'ã‚’å‡ºåŠ›","å­˜åœ¨ç¢ºèªã—ã¦ã‹ã‚‰"],ko:["h2 í…ìŠ¤íŠ¸ë¥¼ ì•ˆì „í•˜ê²Œ ì¶”ì¶œ, ì—†ìœ¼ë©´ 'N/A' ì¶œë ¥","ì¡´ì¬ ì—¬ë¶€ ë¨¼ì € í™•ì¸"],es:["Extrae texto h2 de forma segura, imprime 'N/A' si no existe","Verifica si existe primero"],fr:["Extrayez le texte h2 en sÃ©curitÃ©, 'N/A' si absent","VÃ©rifiez l'existence d'abord"],pt:["Extraia texto h2 com seguranÃ§a, 'N/A' se nÃ£o encontrado","Verifique existÃªncia primeiro"],de:["Extrahiere h2-Text sicher, 'N/A' wenn nicht gefunden","PrÃ¼fe zuerst ob vorhanden"]},
"Print the name of the database engine built into Python.":{zh:["è¾“å‡º Python å†…ç½®çš„æ•°æ®åº“å¼•æ“åç§°","æ— éœ€å®‰è£…çš„æ•°æ®åº“"],ja:["Pythonã«çµ„ã¿è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³åã‚’å‡ºåŠ›","ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ã®DB"],ko:["Pythonì— ë‚´ì¥ëœ ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ ì´ë¦„ì„ ì¶œë ¥","ì„¤ì¹˜ ë¶ˆí•„ìš”í•œ DB"],es:["Imprime el nombre del motor de base de datos integrado en Python","DB sin instalaciÃ³n"],fr:["Affichez le nom du moteur de base de donnÃ©es intÃ©grÃ© Ã  Python","DB sans installation"],pt:["Imprima o nome do mecanismo de banco de dados integrado ao Python","DB sem instalaÃ§Ã£o"],de:["Gib den Namen der in Python eingebauten Datenbank-Engine aus","DB ohne Installation"]},
"Print what uniquely identifies each row in a database table.":{zh:["è¾“å‡ºå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­æ¯è¡Œçš„ä¸œè¥¿","æ¯è¡Œçš„å”¯ä¸€æ ‡è¯†ç¬¦"],ja:["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã®å„è¡Œã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹ã‚‚ã®ã‚’å‡ºåŠ›","å„è¡Œã®ä¸€æ„è­˜åˆ¥å­"],ko:["ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ê° í–‰ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê²ƒì„ ì¶œë ¥","ê° í–‰ì˜ ê³ ìœ  ì‹ë³„ì"],es:["Imprime quÃ© identifica cada fila en una tabla","Identificador Ãºnico de fila"],fr:["Affichez ce qui identifie chaque ligne dans une table","Identifiant unique de ligne"],pt:["Imprima o que identifica cada linha em uma tabela","Identificador Ãºnico de linha"],de:["Gib aus was jede Zeile einer Tabelle eindeutig identifiziert","Eindeutiger Zeilenbezeichner"]},
"Print the SQL type for decimal numbers.":{zh:["è¾“å‡º SQL ä¸­å°æ•°çš„æ•°æ®ç±»å‹","æµ®ç‚¹æ•°ç±»å‹"],ja:["å°æ•°ã®SQLãƒ‡ãƒ¼ã‚¿å‹ã‚’å‡ºåŠ›","æµ®å‹•å°æ•°ç‚¹å‹"],ko:["ì†Œìˆ˜ì˜ SQL ë°ì´í„° íƒ€ì…ì„ ì¶œë ¥","ë¶€ë™ì†Œìˆ˜ì  íƒ€ì…"],es:["Imprime el tipo SQL para nÃºmeros decimales","Tipo de punto flotante"],fr:["Affichez le type SQL pour les nombres dÃ©cimaux","Type virgule flottante"],pt:["Imprima o tipo SQL para nÃºmeros decimais","Tipo ponto flutuante"],de:["Gib den SQL-Typ fÃ¼r Dezimalzahlen aus","FlieÃŸkomma-Typ"]},
"Print the placeholder character for safe SQLite queries in Python.":{zh:["è¾“å‡º Python SQLite å®‰å…¨æŸ¥è¯¢çš„å ä½ç¬¦","é˜²æ­¢ SQL æ³¨å…¥"],ja:["Pythonã®SQLiteå®‰å…¨ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’å‡ºåŠ›","SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³é˜²æ­¢"],ko:["Python SQLite ì•ˆì „ ì¿¼ë¦¬ì˜ í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì¶œë ¥","SQL ì¸ì ì…˜ ë°©ì§€"],es:["Imprime el carÃ¡cter placeholder para consultas SQLite seguras","Previene inyecciÃ³n SQL"],fr:["Affichez le caractÃ¨re placeholder pour requÃªtes SQLite sÃ»res","PrÃ©vient l'injection SQL"],pt:["Imprima o caractere placeholder para consultas SQLite seguras","Previne injeÃ§Ã£o SQL"],de:["Gib das Platzhalterzeichen fÃ¼r sichere SQLite-Abfragen aus","Verhindert SQL-Injection"]},
"Print the SQL keyword to add a new row to a table.":{zh:["è¾“å‡ºå‘è¡¨ä¸­æ·»åŠ æ–°è¡Œçš„ SQL å…³é”®å­—","INSERT è¯­å¥"],ja:["ãƒ†ãƒ¼ãƒ–ãƒ«ã«æ–°ã—ã„è¡Œã‚’è¿½åŠ ã™ã‚‹SQLã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å‡ºåŠ›","INSERTæ–‡"],ko:["í…Œì´ë¸”ì— ìƒˆ í–‰ì„ ì¶”ê°€í•˜ëŠ” SQL í‚¤ì›Œë“œë¥¼ ì¶œë ¥","INSERT ë¬¸"],es:["Imprime la palabra clave SQL para agregar una fila","InstrucciÃ³n INSERT"],fr:["Affichez le mot-clÃ© SQL pour ajouter une ligne","Instruction INSERT"],pt:["Imprima a palavra-chave SQL para adicionar uma linha","InstruÃ§Ã£o INSERT"],de:["Gib das SQL-SchlÃ¼sselwort zum HinzufÃ¼gen einer Zeile aus","INSERT-Anweisung"]},
"Print the Python method that retrieves all query results.":{zh:["è¾“å‡ºè·å–æ‰€æœ‰æŸ¥è¯¢ç»“æœçš„ Python æ–¹æ³•å","cursor çš„æ–¹æ³•"],ja:["å…¨ã‚¯ã‚¨ãƒªçµæœã‚’å–å¾—ã™ã‚‹Pythonãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‡ºåŠ›","cursorã®ãƒ¡ã‚½ãƒƒãƒ‰"],ko:["ëª¨ë“  ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ëŠ” Python ë©”ì„œë“œë¥¼ ì¶œë ¥","cursorì˜ ë©”ì„œë“œ"],es:["Imprime el mÃ©todo Python que obtiene todos los resultados","MÃ©todo del cursor"],fr:["Affichez la mÃ©thode Python qui rÃ©cupÃ¨re tous les rÃ©sultats","MÃ©thode du cursor"],pt:["Imprima o mÃ©todo Python que obtÃ©m todos os resultados","MÃ©todo do cursor"],de:["Gib die Python-Methode aus die alle Ergebnisse abruft","Methode des Cursors"]},
"Print a WHERE clause that filters age > 25.":{zh:["è¾“å‡ºç­›é€‰ age > 25 çš„ WHERE å­å¥","WHERE column > value"],ja:["age > 25ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹WHEREå¥ã‚’å‡ºåŠ›","WHERE column > value"],ko:["age > 25ë¥¼ í•„í„°ë§í•˜ëŠ” WHERE ì ˆì„ ì¶œë ¥","WHERE column > value"],es:["Imprime una clÃ¡usula WHERE que filtre age > 25","WHERE column > value"],fr:["Affichez une clause WHERE filtrant age > 25","WHERE column > value"],pt:["Imprima uma clÃ¡usula WHERE filtrando age > 25","WHERE column > value"],de:["Gib eine WHERE-Klausel aus die age > 25 filtert","WHERE column > value"]},
"Print SQL to select all from 'products' ordered by price descending.":{zh:["è¾“å‡ºæŸ¥è¯¢ products å¹¶æŒ‰ä»·æ ¼é™åºæ’åˆ—çš„ SQL","ORDER BY ... DESC"],ja:["productsã‹ã‚‰ä¾¡æ ¼é™é †ã§å…¨å–å¾—ã™ã‚‹SQLã‚’å‡ºåŠ›","ORDER BY ... DESC"],ko:["productsì—ì„œ ê°€ê²© ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì¡°íšŒí•˜ëŠ” SQL ì¶œë ¥","ORDER BY ... DESC"],es:["Imprime SQL para seleccionar de products ordenado por precio desc","ORDER BY ... DESC"],fr:["Affichez le SQL pour sÃ©lectionner de products par prix dÃ©croissant","ORDER BY ... DESC"],pt:["Imprima SQL para selecionar de products ordenado por preÃ§o desc","ORDER BY ... DESC"],de:["Gib SQL aus um alle von products nach Preis absteigend zu wÃ¤hlen","ORDER BY ... DESC"]},
"Print a LIKE pattern that matches names starting with 'J'.":{zh:["è¾“å‡ºåŒ¹é…ä»¥ 'J' å¼€å¤´çš„ LIKE æ¨¡å¼","% æ˜¯é€šé…ç¬¦"],ja:["'J'ã§å§‹ã¾ã‚‹åå‰ã«ãƒãƒƒãƒã™ã‚‹LIKEãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‡ºåŠ›","% ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰"],ko:["'J'ë¡œ ì‹œì‘í•˜ëŠ” LIKE íŒ¨í„´ì„ ì¶œë ¥","% ëŠ” ì™€ì¼ë“œì¹´ë“œ"],es:["Imprime un patrÃ³n LIKE para nombres que empiecen con 'J'","% es comodÃ­n"],fr:["Affichez un motif LIKE pour noms commenÃ§ant par 'J'","% est le joker"],pt:["Imprima um padrÃ£o LIKE para nomes comeÃ§ando com 'J'","% Ã© curinga"],de:["Gib ein LIKE-Muster fÃ¼r Namen mit 'J' am Anfang aus","% ist Platzhalter"]},
"Print SQL to get the top 3 highest-priced products.":{zh:["è¾“å‡ºè·å–ä»·æ ¼æœ€é«˜çš„ 3 ä¸ªäº§å“çš„ SQL","ORDER BY + LIMIT"],ja:["æœ€é«˜ä¾¡æ ¼ãƒˆãƒƒãƒ—3ã‚’å–å¾—ã™ã‚‹SQLã‚’å‡ºåŠ›","ORDER BY + LIMIT"],ko:["ê°€ê²© ìƒìœ„ 3ê°œ ì œí’ˆì„ ê°€ì ¸ì˜¤ëŠ” SQL ì¶œë ¥","ORDER BY + LIMIT"],es:["Imprime SQL para los 3 productos mÃ¡s caros","ORDER BY + LIMIT"],fr:["Affichez le SQL pour les 3 produits les plus chers","ORDER BY + LIMIT"],pt:["Imprima SQL para os 3 produtos mais caros","ORDER BY + LIMIT"],de:["Gib SQL fÃ¼r die 3 teuersten Produkte aus","ORDER BY + LIMIT"]},
"Print the SQL to count all rows in a 'users' table.":{zh:["è¾“å‡ºç»Ÿè®¡ users è¡¨è¡Œæ•°çš„ SQL","COUNT(*)"],ja:["usersãƒ†ãƒ¼ãƒ–ãƒ«ã®å…¨è¡Œæ•°ã‚’æ•°ãˆã‚‹SQLã‚’å‡ºåŠ›","COUNT(*)"],ko:["users í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì„ ì„¸ëŠ” SQL ì¶œë ¥","COUNT(*)"],es:["Imprime SQL para contar filas en users","COUNT(*)"],fr:["Affichez le SQL pour compter les lignes de users","COUNT(*)"],pt:["Imprima SQL para contar linhas em users","COUNT(*)"],de:["Gib SQL zum ZÃ¤hlen aller Zeilen in users aus","COUNT(*)"]},
"Print SQL to get the average price from 'products'.":{zh:["è¾“å‡ºè®¡ç®— products å¹³å‡ä»·æ ¼çš„ SQL","AVG()"],ja:["productsã®å¹³å‡ä¾¡æ ¼ã‚’å–å¾—ã™ã‚‹SQLã‚’å‡ºåŠ›","AVG()"],ko:["productsì˜ í‰ê·  ê°€ê²©ì„ êµ¬í•˜ëŠ” SQL ì¶œë ¥","AVG()"],es:["Imprime SQL para obtener el precio promedio de products","AVG()"],fr:["Affichez le SQL pour obtenir le prix moyen de products","AVG()"],pt:["Imprima SQL para obter preÃ§o mÃ©dio de products","AVG()"],de:["Gib SQL fÃ¼r den Durchschnittspreis von products aus","AVG()"]},
"Print SQL to count orders per customer_id.":{zh:["è¾“å‡ºæŒ‰ customer_id ç»Ÿè®¡è®¢å•æ•°çš„ SQL","GROUP BY + COUNT"],ja:["customer_idåˆ¥ã®æ³¨æ–‡æ•°ã‚’æ•°ãˆã‚‹SQLã‚’å‡ºåŠ›","GROUP BY + COUNT"],ko:["customer_idë³„ ì£¼ë¬¸ ìˆ˜ë¥¼ ì„¸ëŠ” SQL ì¶œë ¥","GROUP BY + COUNT"],es:["Imprime SQL para contar pedidos por customer_id","GROUP BY + COUNT"],fr:["Affichez le SQL pour compter les commandes par customer_id","GROUP BY + COUNT"],pt:["Imprima SQL para contar pedidos por customer_id","GROUP BY + COUNT"],de:["Gib SQL zum ZÃ¤hlen der Bestellungen pro customer_id aus","GROUP BY + COUNT"]},
"Print SQL for INNER JOIN between 'orders' and 'customers' on customer_id.":{zh:["è¾“å‡º orders å’Œ customers æŒ‰ customer_id INNER JOIN çš„ SQL","INNER JOIN ... ON"],ja:["ordersã¨customersã®customer_idã§INNER JOINã™ã‚‹SQLã‚’å‡ºåŠ›","INNER JOIN ... ON"],ko:["ordersì™€ customersë¥¼ customer_idë¡œ INNER JOINí•˜ëŠ” SQL ì¶œë ¥","INNER JOIN ... ON"],es:["Imprime SQL para INNER JOIN entre orders y customers","INNER JOIN ... ON"],fr:["Affichez le SQL pour INNER JOIN entre orders et customers","INNER JOIN ... ON"],pt:["Imprima SQL para INNER JOIN entre orders e customers","INNER JOIN ... ON"],de:["Gib SQL fÃ¼r INNER JOIN zwischen orders und customers aus","INNER JOIN ... ON"]},
"Print the JOIN type that keeps ALL rows from the left table.":{zh:["è¾“å‡ºä¿ç•™å·¦è¡¨æ‰€æœ‰è¡Œçš„ JOIN ç±»å‹","å³ä½¿å³è¡¨æ— åŒ¹é…ä¹Ÿä¿ç•™"],ja:["å·¦ãƒ†ãƒ¼ãƒ–ãƒ«ã®å…¨è¡Œã‚’ä¿æŒã™ã‚‹JOINå‹ã‚’å‡ºåŠ›","å³ãŒä¸€è‡´ã—ãªãã¦ã‚‚ä¿æŒ"],ko:["ì™¼ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì„ ìœ ì§€í•˜ëŠ” JOIN ìœ í˜• ì¶œë ¥","ì˜¤ë¥¸ìª½ì— ë§¤ì¹˜ ì—†ì–´ë„ ìœ ì§€"],es:["Imprime el tipo de JOIN que mantiene TODAS las filas izquierdas","Mantiene aunque no haya coincidencia"],fr:["Affichez le type de JOIN gardant TOUTES les lignes gauches","Garde mÃªme sans correspondance"],pt:["Imprima o tipo de JOIN que mantÃ©m TODAS as linhas da esquerda","MantÃ©m mesmo sem correspondÃªncia"],de:["Gib den JOIN-Typ aus der ALLE linken Zeilen behÃ¤lt","BehÃ¤lt auch ohne Ãœbereinstimmung"]},
"Print the pandas function name for reading SQL queries.":{zh:["è¾“å‡º pandas æ‰§è¡Œ SQL æŸ¥è¯¢çš„å‡½æ•°å","pd.read_sql_..."],ja:["SQLã‚¯ã‚¨ãƒªã‚’èª­ã‚€pandasé–¢æ•°åã‚’å‡ºåŠ›","pd.read_sql_..."],ko:["SQL ì¿¼ë¦¬ë¥¼ ì½ëŠ” pandas í•¨ìˆ˜ëª…ì„ ì¶œë ¥","pd.read_sql_..."],es:["Imprime la funciÃ³n pandas para leer consultas SQL","pd.read_sql_..."],fr:["Affichez la fonction pandas pour lire les requÃªtes SQL","pd.read_sql_..."],pt:["Imprima a funÃ§Ã£o pandas para ler consultas SQL","pd.read_sql_..."],de:["Gib den pandas-Funktionsnamen zum Lesen von SQL-Abfragen aus","pd.read_sql_..."]},
"Print the pandas method name that writes a DataFrame to a SQL table.":{zh:["è¾“å‡ºå°† DataFrame å†™å…¥ SQL è¡¨çš„æ–¹æ³•å","DataFrame çš„æ–¹æ³•"],ja:["DataFrameã‚’SQLãƒ†ãƒ¼ãƒ–ãƒ«ã«æ›¸ãè¾¼ã‚€ãƒ¡ã‚½ãƒƒãƒ‰åã‚’å‡ºåŠ›","DataFrameã®ãƒ¡ã‚½ãƒƒãƒ‰"],ko:["DataFrameì„ SQL í…Œì´ë¸”ì— ì“°ëŠ” ë©”ì„œë“œëª…ì„ ì¶œë ¥","DataFrameì˜ ë©”ì„œë“œ"],es:["Imprime el mÃ©todo para escribir DataFrame en tabla SQL","MÃ©todo del DataFrame"],fr:["Affichez la mÃ©thode pour Ã©crire un DataFrame dans une table SQL","MÃ©thode du DataFrame"],pt:["Imprima o mÃ©todo para escrever DataFrame em tabela SQL","MÃ©todo do DataFrame"],de:["Gib den Methodennamen zum Schreiben eines DataFrames in SQL aus","DataFrame-Methode"]},
"Print which tool is better for filtering millions of rows: 'SQL' or 'Pandas'.":{zh:["å“ªä¸ªå·¥å…·æ›´é€‚åˆç­›é€‰ç™¾ä¸‡è¡Œï¼š'SQL' è¿˜æ˜¯ 'Pandas'","æ•°æ®åº“ç«¯è¿‡æ»¤æ›´é«˜æ•ˆ"],ja:["ç™¾ä¸‡è¡Œã®ãƒ•ã‚£ãƒ«ã‚¿ã«é©ã—ãŸãƒ„ãƒ¼ãƒ«ã‚’å‡ºåŠ›ï¼š'SQL'ã‹'Pandas'","DBå´ã®ãƒ•ã‚£ãƒ«ã‚¿ãŒåŠ¹ç‡çš„"],ko:["ë°±ë§Œ í–‰ í•„í„°ë§ì— ë” ë‚˜ì€ ë„êµ¬ ì¶œë ¥: 'SQL' ë˜ëŠ” 'Pandas'","DB ì¸¡ í•„í„°ë§ì´ íš¨ìœ¨ì "],es:["Imprime quÃ© herramienta filtra mejor millones de filas","Filtrar en la DB es mÃ¡s eficiente"],fr:["Affichez quel outil filtre mieux des millions de lignes","Filtrer cÃ´tÃ© DB est plus efficace"],pt:["Imprima qual ferramenta filtra melhor milhÃµes de linhas","Filtrar no DB Ã© mais eficiente"],de:["Gib aus welches Tool besser Millionen Zeilen filtert","DB-seitiges Filtern ist effizienter"]},
"Print SQL to create a 'books' table with columns: id (PRIMARY KEY), title (TEXT), author (TEXT).":{zh:["è¾“å‡ºåˆ›å»º books è¡¨çš„ SQLï¼ˆå« id ä¸»é”®ã€titleã€authorï¼‰","CREATE TABLE"],ja:["books ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆSQLï¼ˆidä¸»ã‚­ãƒ¼ã€titleã€authorï¼‰ã‚’å‡ºåŠ›","CREATE TABLE"],ko:["books í…Œì´ë¸” ìƒì„± SQL ì¶œë ¥ (id PK, title, author)","CREATE TABLE"],es:["Imprime SQL para crear tabla books (id PK, title, author)","CREATE TABLE"],fr:["Affichez le SQL pour crÃ©er la table books (id PK, title, author)","CREATE TABLE"],pt:["Imprima SQL para criar tabela books (id PK, title, author)","CREATE TABLE"],de:["Gib SQL zum Erstellen der books-Tabelle aus (id PK, title, author)","CREATE TABLE"]},
"Print SQL to find books with 'Python' in the title.":{zh:["è¾“å‡ºæŸ¥æ‰¾æ ‡é¢˜å« 'Python' çš„ä¹¦ç± SQL","LIKE '%...%'"],ja:["ã‚¿ã‚¤ãƒˆãƒ«ã«'Python'ã‚’å«ã‚€æœ¬ã‚’æ¢ã™SQLã‚’å‡ºåŠ›","LIKE '%...%'"],ko:["ì œëª©ì— 'Python'ì´ í¬í•¨ëœ ì±…ì„ ì°¾ëŠ” SQL ì¶œë ¥","LIKE '%...%'"],es:["Imprime SQL para encontrar libros con 'Python' en el tÃ­tulo","LIKE '%...%'"],fr:["Affichez le SQL pour trouver les livres avec 'Python' dans le titre","LIKE '%...%'"],pt:["Imprima SQL para encontrar livros com 'Python' no tÃ­tulo","LIKE '%...%'"],de:["Gib SQL zum Finden von BÃ¼chern mit 'Python' im Titel aus","LIKE '%...%'"]},
"Print the error type you get when using an undefined variable.":{zh:["è¾“å‡ºä½¿ç”¨æœªå®šä¹‰å˜é‡çš„é”™è¯¯ç±»å‹","Python çš„å˜é‡é”™è¯¯"],ja:["æœªå®šç¾©å¤‰æ•°ä½¿ç”¨æ™‚ã®ã‚¨ãƒ©ãƒ¼å‹ã‚’å‡ºåŠ›","Pythonã®å¤‰æ•°ã‚¨ãƒ©ãƒ¼"],ko:["ì •ì˜ë˜ì§€ ì•Šì€ ë³€ìˆ˜ ì‚¬ìš© ì‹œ ì—ëŸ¬ íƒ€ì… ì¶œë ¥","Python ë³€ìˆ˜ ì—ëŸ¬"],es:["Imprime el tipo de error al usar variable no definida","Error de variable Python"],fr:["Affichez le type d'erreur avec une variable non dÃ©finie","Erreur de variable Python"],pt:["Imprima o tipo de erro ao usar variÃ¡vel nÃ£o definida","Erro de variÃ¡vel Python"],de:["Gib den Fehlertyp bei undefinierter Variable aus","Python-Variablenfehler"]},
"Import random and print a random integer between 1 and 100.":{zh:["å¯¼å…¥ randomï¼Œè¾“å‡º 1-100 çš„éšæœºæ•´æ•°","random.randint()"],ja:["randomã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—1ã€œ100ã®ãƒ©ãƒ³ãƒ€ãƒ æ•´æ•°ã‚’å‡ºåŠ›","random.randint()"],ko:["random import, 1-100 ëœë¤ ì •ìˆ˜ ì¶œë ¥","random.randint()"],es:["Importa random e imprime un entero aleatorio 1-100","random.randint()"],fr:["Importez random et affichez un entier alÃ©atoire 1-100","random.randint()"],pt:["Importe random e imprima um inteiro aleatÃ³rio 1-100","random.randint()"],de:["Importiere random und gib eine Zufallszahl 1-100 aus","random.randint()"]},
"Given guess=50 and answer=75, print 'Too low!'.":{zh:["å·²çŸ¥ guess=50ï¼Œanswer=75ï¼Œè¾“å‡º 'Too low!'","if æ¯”è¾ƒå¤§å°"],ja:["guess=50ã€answer=75ã€'Too low!' ã‚’å‡ºåŠ›","if ã§æ¯”è¼ƒ"],ko:["guess=50, answer=75ì¼ ë•Œ 'Too low!' ì¶œë ¥","ifë¡œ ë¹„êµ"],es:["Dado guess=50 y answer=75, imprime 'Too low!'","Compara con if"],fr:["DonnÃ© guess=50 et answer=75, affichez 'Too low!'","Comparez avec if"],pt:["Dado guess=50 e answer=75, imprima 'Too low!'","Compare com if"],de:["Gegeben guess=50 und answer=75, gib 'Too low!' aus","Vergleiche mit if"]},
"Print all digits available in string.digits.":{zh:["è¾“å‡º string.digits ä¸­çš„æ‰€æœ‰æ•°å­—","import string"],ja:["string.digitsã®å…¨æ•°å­—ã‚’å‡ºåŠ›","import string"],ko:["string.digitsì˜ ëª¨ë“  ìˆ«ìë¥¼ ì¶œë ¥","import string"],es:["Imprime todos los dÃ­gitos en string.digits","import string"],fr:["Affichez tous les chiffres de string.digits","import string"],pt:["Imprima todos os dÃ­gitos em string.digits","import string"],de:["Gib alle Ziffern in string.digits aus","import string"]},
"Print a random choice from the list ['a', 'b', 'c'].":{zh:["ä» ['a','b','c'] ä¸­éšæœºé€‰ä¸€ä¸ªè¾“å‡º","random.choice()"],ja:["['a','b','c']ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«1ã¤é¸ã‚“ã§å‡ºåŠ›","random.choice()"],ko:["['a','b','c']ì—ì„œ ëœë¤ìœ¼ë¡œ í•˜ë‚˜ ì„ íƒí•˜ì—¬ ì¶œë ¥","random.choice()"],es:["Imprime una elecciÃ³n aleatoria de ['a','b','c']","random.choice()"],fr:["Affichez un choix alÃ©atoire de ['a','b','c']","random.choice()"],pt:["Imprima uma escolha aleatÃ³ria de ['a','b','c']","random.choice()"],de:["Gib eine zufÃ¤llige Wahl aus ['a','b','c'] aus","random.choice()"]},
"Convert 0 Celsius to Fahrenheit. Print the result.":{zh:["å°† 0Â°C è½¬ä¸ºåæ°åº¦å¹¶è¾“å‡º","F = C Ã— 9/5 + 32"],ja:["0â„ƒã‚’è¯æ°ã«å¤‰æ›ã—ã¦å‡ºåŠ›","F = C Ã— 9/5 + 32"],ko:["ì„­ì”¨ 0ë„ë¥¼ í™”ì”¨ë¡œ ë³€í™˜í•˜ê³  ì¶œë ¥","F = C Ã— 9/5 + 32"],es:["Convierte 0Â°C a Fahrenheit e imprime","F = C Ã— 9/5 + 32"],fr:["Convertissez 0Â°C en Fahrenheit et affichez","F = C Ã— 9/5 + 32"],pt:["Converta 0Â°C para Fahrenheit e imprima","F = C Ã— 9/5 + 32"],de:["Konvertiere 0Â°C in Fahrenheit und gib aus","F = C Ã— 9/5 + 32"]},
"Print the function to write Python data as JSON.":{zh:["è¾“å‡ºå°† Python æ•°æ®å†™æˆ JSON çš„å‡½æ•°å","json æ¨¡å—"],ja:["Pythonãƒ‡ãƒ¼ã‚¿ã‚’JSONã«æ›¸ãå‡ºã™é–¢æ•°åã‚’å‡ºåŠ›","jsonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"],ko:["Python ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ì“°ëŠ” í•¨ìˆ˜ëª… ì¶œë ¥","json ëª¨ë“ˆ"],es:["Imprime la funciÃ³n para escribir datos Python como JSON","MÃ³dulo json"],fr:["Affichez la fonction pour Ã©crire des donnÃ©es Python en JSON","Module json"],pt:["Imprima a funÃ§Ã£o para escrever dados Python como JSON","MÃ³dulo json"],de:["Gib die Funktion zum Schreiben von Python-Daten als JSON aus","json-Modul"]},
"Print today's date in YYYY-MM-DD format.":{zh:["ä»¥ YYYY-MM-DD æ ¼å¼è¾“å‡ºä»Šå¤©æ—¥æœŸ","datetime æ¨¡å—"],ja:["YYYY-MM-DDå½¢å¼ã§ä»Šæ—¥ã®æ—¥ä»˜ã‚’å‡ºåŠ›","datetimeãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"],ko:["YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì˜¤ëŠ˜ ë‚ ì§œ ì¶œë ¥","datetime ëª¨ë“ˆ"],es:["Imprime la fecha de hoy en formato YYYY-MM-DD","MÃ³dulo datetime"],fr:["Affichez la date du jour au format YYYY-MM-DD","Module datetime"],pt:["Imprima a data de hoje no formato YYYY-MM-DD","MÃ³dulo datetime"],de:["Gib das heutige Datum im Format YYYY-MM-DD aus","datetime-Modul"]},
"Extract the number from 'Â£29.99' and print as float.":{zh:["ä» 'Â£29.99' æå–æ•°å­—å¹¶ä»¥ float è¾“å‡º","æ­£åˆ™æˆ–å­—ç¬¦ä¸²æ“ä½œ"],ja:["'Â£29.99' ã‹ã‚‰æ•°å€¤ã‚’æŠ½å‡ºã—floatã§å‡ºåŠ›","æ­£è¦è¡¨ç¾ã‹æ–‡å­—åˆ—æ“ä½œ"],ko:["'Â£29.99'ì—ì„œ ìˆ«ìë¥¼ ì¶”ì¶œí•˜ê³  floatë¡œ ì¶œë ¥","ì •ê·œì‹ ë˜ëŠ” ë¬¸ìì—´ ì²˜ë¦¬"],es:["Extrae el nÃºmero de 'Â£29.99' e imprime como float","Regex o manipulaciÃ³n de string"],fr:["Extrayez le nombre de 'Â£29.99' et affichez comme float","Regex ou manipulation de chaÃ®ne"],pt:["Extraia o nÃºmero de 'Â£29.99' e imprima como float","Regex ou manipulaÃ§Ã£o de string"],de:["Extrahiere die Zahl aus 'Â£29.99' und gib als float aus","Regex oder String-Manipulation"]},
"Print the cheapest price from the list.":{zh:["è¾“å‡ºåˆ—è¡¨ä¸­æœ€ä¾¿å®œçš„ä»·æ ¼","min()"],ja:["ãƒªã‚¹ãƒˆã‹ã‚‰æœ€å®‰å€¤ã‚’å‡ºåŠ›","min()"],ko:["ë¦¬ìŠ¤íŠ¸ì—ì„œ ê°€ì¥ ì‹¼ ê°€ê²©ì„ ì¶œë ¥","min()"],es:["Imprime el precio mÃ¡s barato de la lista","min()"],fr:["Affichez le prix le moins cher de la liste","min()"],pt:["Imprima o preÃ§o mais barato da lista","min()"],de:["Gib den gÃ¼nstigsten Preis aus der Liste aus","min()"]},
"Print SQL to mark todo #5 as done (set done=1).":{zh:["è¾“å‡ºå°†ç¬¬ 5 æ¡å¾…åŠæ ‡è®°å®Œæˆçš„ SQL","UPDATE ... SET ... WHERE"],ja:["todo #5ã‚’å®Œäº†ã«ã™ã‚‹SQLã‚’å‡ºåŠ›","UPDATE ... SET ... WHERE"],ko:["todo #5ë¥¼ ì™„ë£Œë¡œ í‘œì‹œí•˜ëŠ” SQL ì¶œë ¥","UPDATE ... SET ... WHERE"],es:["Imprime SQL para marcar todo #5 como hecho","UPDATE ... SET ... WHERE"],fr:["Affichez le SQL pour marquer todo #5 comme fait","UPDATE ... SET ... WHERE"],pt:["Imprima SQL para marcar todo #5 como feito","UPDATE ... SET ... WHERE"],de:["Gib SQL zum Markieren von todo #5 als erledigt aus","UPDATE ... SET ... WHERE"]},
"Print SQL to count todos where done=0.":{zh:["è¾“å‡ºç»Ÿè®¡æœªå®Œæˆå¾…åŠæ•°é‡çš„ SQL","COUNT WHERE done=0"],ja:["done=0ã®todoæ•°ã‚’æ•°ãˆã‚‹SQLã‚’å‡ºåŠ›","COUNT WHERE done=0"],ko:["done=0ì¸ todo ìˆ˜ë¥¼ ì„¸ëŠ” SQL ì¶œë ¥","COUNT WHERE done=0"],es:["Imprime SQL para contar todos con done=0","COUNT WHERE done=0"],fr:["Affichez le SQL pour compter les todos oÃ¹ done=0","COUNT WHERE done=0"],pt:["Imprima SQL para contar todos com done=0","COUNT WHERE done=0"],de:["Gib SQL zum ZÃ¤hlen der todos mit done=0 aus","COUNT WHERE done=0"]},
"Print 'Tokyo: 28.5Â°C' using the variables below.":{zh:["ç”¨ä¸‹æ–¹å˜é‡è¾“å‡º 'Tokyo: 28.5Â°C'","f-string"],ja:["ä¸‹ã®å¤‰æ•°ã‚’ä½¿ã£ã¦ 'Tokyo: 28.5Â°C' ã‚’å‡ºåŠ›","f-string"],ko:["ì•„ë˜ ë³€ìˆ˜ë¡œ 'Tokyo: 28.5Â°C' ì¶œë ¥","f-string"],es:["Imprime 'Tokyo: 28.5Â°C' usando las variables","f-string"],fr:["Affichez 'Tokyo: 28.5Â°C' avec les variables ci-dessous","f-string"],pt:["Imprima 'Tokyo: 28.5Â°C' usando as variÃ¡veis abaixo","f-string"],de:["Gib 'Tokyo: 28.5Â°C' mit den Variablen unten aus","f-string"]},
"Calculate and print the gain: bought at 150, now worth 178.50, holding 10 shares.":{zh:["è®¡ç®—æ”¶ç›Šï¼šä¹°å…¥ä»· 150ï¼Œç°ä»· 178.50ï¼ŒæŒæœ‰ 10 è‚¡","æ”¶ç›Š = è‚¡æ•° Ã— (ç°ä»· - ä¹°å…¥ä»·)"],ja:["åˆ©ç›Šã‚’è¨ˆç®—ï¼šè³¼å…¥150ã€ç¾åœ¨178.50ã€10æ ªä¿æœ‰","åˆ©ç›Š = æ ªæ•° Ã— (ç¾åœ¨ä¾¡æ ¼ - è³¼å…¥ä¾¡æ ¼)"],ko:["ìˆ˜ìµ ê³„ì‚°: ë§¤ìˆ˜ê°€ 150, í˜„ì¬ê°€ 178.50, 10ì£¼ ë³´ìœ ","ìˆ˜ìµ = ì£¼ìˆ˜ Ã— (í˜„ì¬ê°€ - ë§¤ìˆ˜ê°€)"],es:["Calcula la ganancia: compra 150, actual 178.50, 10 acciones","Ganancia = acciones Ã— (actual - compra)"],fr:["Calculez le gain: achat 150, actuel 178.50, 10 actions","Gain = actions Ã— (actuel - achat)"],pt:["Calcule o ganho: compra 150, atual 178.50, 10 aÃ§Ãµes","Ganho = aÃ§Ãµes Ã— (atual - compra)"],de:["Berechne Gewinn: Kauf 150, aktuell 178.50, 10 Aktien","Gewinn = Aktien Ã— (aktuell - Kauf)"]},
"Print the percentage gain from 150 to 178.50, rounded to 1 decimal.":{zh:["è®¡ç®— 150 åˆ° 178.50 çš„æ¶¨å¹…ç™¾åˆ†æ¯”ï¼Œä¿ç•™ 1 ä½å°æ•°","(æ–°-æ—§)/æ—§ Ã— 100"],ja:["150ã‹ã‚‰178.50ã¸ã®ä¸Šæ˜‡ç‡ã‚’å°æ•°1æ¡ã§å‡ºåŠ›","(æ–°-æ—§)/æ—§ Ã— 100"],ko:["150ì—ì„œ 178.50ìœ¼ë¡œì˜ ìƒìŠ¹ë¥ ì„ ì†Œìˆ˜ì  1ìë¦¬ë¡œ ì¶œë ¥","(ì‹ -êµ¬)/êµ¬ Ã— 100"],es:["Imprime el porcentaje de ganancia de 150 a 178.50, 1 decimal","(nuevo-viejo)/viejo Ã— 100"],fr:["Affichez le pourcentage de gain de 150 Ã  178.50, 1 dÃ©cimale","(nouveau-ancien)/ancien Ã— 100"],pt:["Imprima a porcentagem de ganho de 150 a 178.50, 1 decimal","(novo-antigo)/antigo Ã— 100"],de:["Gib den Prozentgewinn von 150 auf 178.50 mit 1 Dezimale aus","(neu-alt)/alt Ã— 100"]}
  };

  const TerminalDemo=({lines,title})=>{
    const[chars,setChars]=useState([]);
    const[playing,setPlaying]=useState(false);
    const[done,setDone]=useState(false);
    const ref=useRef(null);
    const timer=useRef(null);
    const parsed=useMemo(()=>{
      const r=[];
      lines.forEach(l=>{
        if(l.startsWith('$ ')||l.startsWith('>>> ')||l.startsWith('... ')){
          const isPS=l.startsWith('>>> ')||l.startsWith('... ');
          const prompt=isPS?(l.startsWith('... ')?'... ':'>>> '):'$ ';
          r.push({type:'input',prompt,text:l.slice(prompt.length)});
        } else if(l.startsWith('# ')){
          r.push({type:'comment',text:l});
        } else {
          r.push({type:'output',text:l});
        }
      });
      return r;
    },[lines]);

    const play=useCallback(()=>{
      setPlaying(true);setDone(false);setChars([]);
      let displayed=[];let li=0;let ci=0;
      const tick=()=>{
        if(li>=parsed.length){setDone(true);setPlaying(false);return}
        const line=parsed[li];
        if(line.type==='input'){
          if(ci===0) displayed.push({...line,typed:''});
          if(ci<line.text.length){
            displayed[displayed.length-1]={...line,typed:line.text.slice(0,ci+1)};
            setChars([...displayed]);ci++;
            timer.current=setTimeout(tick,30+Math.random()*40);
          } else {
            ci=0;li++;timer.current=setTimeout(tick,300);
          }
        } else {
          displayed.push(line);setChars([...displayed]);
          li++;ci=0;timer.current=setTimeout(tick,line.type==='comment'?200:80);
        }
      };
      tick();
    },[parsed]);

    const stop=()=>{clearTimeout(timer.current);setPlaying(false);setDone(true);
      setChars(parsed.map(l=>l.type==='input'?{...l,typed:l.text}:l));};

    useEffect(()=>{
      const el=ref.current;if(!el)return;
      const obs=new IntersectionObserver(([e])=>{if(e.isIntersecting&&!done&&!playing){play();obs.disconnect()}},{threshold:0.5});
      obs.observe(el);return()=>obs.disconnect();
    },[]);

    useEffect(()=>()=>clearTimeout(timer.current),[]);

    const cCol=(t)=>t.replace(/(["'][^"']*["'])/g,'Â§STRÂ§$1Â§ENDÂ§')
      .replace(/\b(import|from|def|class|return|if|else|elif|for|while|in|and|or|not|True|False|None|with|as|try|except|print|len|range|type|str|int|float|input)\b/g,'Â§KWÂ§$1Â§ENDÂ§')
      .replace(/(#.*)/g,'Â§CMÂ§$1Â§ENDÂ§')
      .split(/Â§(STR|KW|CM|END)Â§/);

    const colorize=(text)=>{
      const parts=cCol(text);
      let mode=null;
      return parts.map((p,i)=>{
        if(p==='STR'){mode='str';return null}
        if(p==='KW'){mode='kw';return null}
        if(p==='CM'){mode='cm';return null}
        if(p==='END'){mode=null;return null}
        if(!p)return null;
        const c=mode==='str'?(isDark?'#a5d6a7':'#2e7d32'):mode==='kw'?(isDark?'#c792ea':'#7c3aed'):mode==='cm'?'#546e7a':th.text;
        return <span key={i} style={{color:c}}>{p}</span>;
      });
    };

    return <div ref={ref} style={{margin:'16px 0',borderRadius:12,overflow:'hidden',background:isDark?'#0d1117':th.codeB,border:`1px solid ${th.border}`,fontFamily:'"SF Mono","Fira Code",monospace',fontSize:13}}>
      <div style={{background:isDark?'#161b22':(th.tag||'#f1f5f9'),padding:'8px 12px',display:'flex',alignItems:'center',gap:8,borderBottom:`1px solid ${th.border}`}}>
        <div style={{display:'flex',gap:6}}>
          <span style={{width:12,height:12,borderRadius:6,background:'#ff5f57'}}/>
          <span style={{width:12,height:12,borderRadius:6,background:'#febc2e'}}/>
          <span style={{width:12,height:12,borderRadius:6,background:'#28c840'}}/>
        </div>
        <span style={{color:th.accent,fontSize:12,flex:1,textAlign:'center'}}>{title||'Terminal'}</span>
        {done&&<button onClick={()=>{setDone(false);play()}} style={{background:'none',border:'none',color:th.accent,cursor:'pointer',fontSize:11,padding:'2px 8px'}}>â–¶ Replay</button>}
        {playing&&<button onClick={stop} style={{background:'none',border:'none',color:th.sub,cursor:'pointer',fontSize:11,padding:'2px 8px'}}>Skip â­</button>}
      </div>
      <div style={{padding:'12px 16px',minHeight:60,lineHeight:1.8}}>
        {chars.map((l,i)=><div key={i}>
          {l.type==='input'&&<span><span style={{color:th.success}}>{l.prompt}</span>{colorize(l.typed||'')}<span className="pulse" style={{display:i===chars.length-1&&playing?'inline':'none',borderLeft:`2px solid ${th.text}`,marginLeft:1}}>&nbsp;</span></span>}
          {l.type==='output'&&<span style={{color:th.sub}}>{l.text}</span>}
          {l.type==='comment'&&<span style={{color:th.sub,fontStyle:'italic'}}>{l.text}</span>}
        </div>)}
        {!playing&&!done&&<span style={{color:th.success}}>{'>>> '}<span className="pulse" style={{borderLeft:`2px solid ${th.text}`}}>&nbsp;</span></span>}
      </div>
    </div>;
  };

  const ff=theme==='future'?'"JetBrains Mono",monospace':theme==='cat'?'"Nunito",sans-serif':'"DM Sans",sans-serif';
  const br=theme==='future'?2:theme==='cat'?14:10;
  const C={
    bg:{minHeight:'100vh',background:th.bg,transition:'background 0.3s',fontFamily:ff},
    hdr:{background:th.hdr,backdropFilter:'blur(12px)',borderBottom:`1px solid ${th.border}`,position:'sticky',top:0,zIndex:40,transition:'all 0.3s',fontFamily:ff},
    hi:{maxWidth:1200,margin:'0 auto',padding:'12px 16px'},
    fb:{display:'flex',alignItems:'center',justifyContent:'space-between'},
    fc:{display:'flex',alignItems:'center'},
    logo:{fontSize:22,fontWeight:700,color:th.text,fontFamily:ff},
    badge:{display:'flex',alignItems:'center',gap:4,background:isDark?'rgba(154,52,18,0.3)':'rgba(234,88,12,0.08)',padding:'4px 12px',borderRadius:20,border:`1px solid ${isDark?'#9a341260':'#fb923c40'}`,fontSize:13,fontWeight:700,color:isDark?'#fdba74':'#c2410c'},
    main:{maxWidth:1200,margin:'0 auto',padding:'24px 16px'},
    card:{background:th.card,borderRadius:br,border:`1px solid ${th.border}`,padding:24},
    pill:(a)=>({padding:'4px 12px',borderRadius:20,fontSize:12,fontWeight:600,border:'none',cursor:'pointer',background:a?th.accent:(th.tag||'#f0f1f4'),color:a?'#fff':th.sub,fontFamily:ff}),
    tabBtn:(a)=>({display:'flex',alignItems:'center',gap:8,padding:'8px 16px',borderRadius:br,fontSize:14,fontWeight:600,border:'none',cursor:'pointer',background:a?th.accent:'transparent',color:a?'#fff':th.sub,fontFamily:ff}),
    task:{background:`${th.accent}0a`,borderLeft:`3px solid ${th.accent}`,padding:16,borderRadius:`0 ${br}px ${br}px 0`,marginBottom:16,userSelect:'none',WebkitUserSelect:'none'},
    codeB:{background:th.codeB,border:`1px solid ${th.border}`,borderRadius:br,padding:16,fontSize:13,fontFamily:'"JetBrains Mono",monospace',color:th.codeTx||th.accent,overflowX:'auto',margin:'12px 0',whiteSpace:'pre-wrap'},
    btn:{display:'inline-flex',alignItems:'center',gap:6,padding:'8px 16px',borderRadius:br,border:theme==='future'?`1px solid ${th.accent}60`:'none',cursor:'pointer',fontSize:13,fontWeight:600,background:theme==='future'?'transparent':th.accent,color:theme==='future'?th.accent:'#fff',fontFamily:ff},
    btn2:{display:'inline-flex',alignItems:'center',gap:6,padding:'8px 16px',borderRadius:br,border:`1px solid ${th.border}`,cursor:'pointer',fontSize:13,background:'transparent',color:th.sub,fontFamily:ff},
    ed:{width:'100%',height:320,padding:16,fontFamily:'"JetBrains Mono",monospace',fontSize:14,background:th.codeB,color:th.codeTx||th.text,border:'none',resize:'none',outline:'none',borderRadius:0},
    pb:{flex:1,height:4,background:th.border,borderRadius:2,overflow:'hidden'},
    pf:(p)=>({width:`${p}%`,height:'100%',borderRadius:2,transition:'width 0.4s'}),
  };

  // â•â•â• COURSE SELECTOR PAGE â•â•â•
  if(!courseId||!course){
    return(<div style={C.bg} data-theme={theme}>
      <header style={C.hdr}><div style={C.hi}><div style={C.fb}>
        <span style={{...C.logo,color:th.text}} className={theme==='future'?'glitch-text':''}>{theme==='cat'?'ğŸ± PyLingo':theme==='future'?'â—ˆ PYLINGO':'ğŸ PyLingo'}</span>
        <div style={{...C.fc,gap:10}}>
          <div id="ob-streak" style={C.badge}><I n="Flame" s={14}/>{streak}</div>
          <div style={{...C.fc,gap:6,color:th.sub,fontSize:13}}><I n="Trophy" s={14}/>{allDone()}/{allTotal()}</div>
          <button id="ob-games" onClick={()=>setShowGames(!showGames)} style={{...C.btn2,padding:'6px 10px',background:showGames?th.accent+'30':'transparent',color:showGames?th.accent:'#94a3b8'}} title="Games">ğŸ®</button>
          <div style={{position:'relative'}}>
            <button id="ob-theme" onClick={()=>{const ts=['simple','cat','future'];const ni=(ts.indexOf(theme)+1)%3;switchTheme(ts[ni])}} style={{...C.btn2,padding:'6px 10px'}} title={TH[theme].name}>{theme==='simple'?'âœ¨':theme==='cat'?'ğŸ±':'âš¡'}</button>
          </div>
          <button id="ob-settings" onClick={()=>{setKeyInput(apiKey);setShowSettings(true)}} style={{...C.btn2,padding:'6px 10px',position:'relative'}} title="API Key Settings"><I n="Settings" s={14}/>{apiKey&&<span style={{position:'absolute',top:2,right:2,width:6,height:6,borderRadius:3,background:'#34d399'}}/>}</button>
          <button id="ob-help" onClick={()=>{setOnboard(true);setObStep(0)}} style={{...C.btn2,padding:'6px 10px'}} title={lang==='zh'?'æ–°æ‰‹å¼•å¯¼':'Tour'}>?</button>
          <div style={{position:'relative'}}>
            <button id="ob-lang" onClick={()=>setLangMenu(!langMenu)} style={{...C.btn2,padding:'6px 10px'}}><I n="Globe" s={14}/>{cLang.flag}</button>
            {langMenu&&<div style={{position:'absolute',right:0,top:'100%',marginTop:4,background:isDark?'#0a0e1a':'#fff',border:`1px solid ${th.border}`,borderRadius:br,boxShadow:'0 8px 32px rgba(0,0,0,0.15)',zIndex:50,padding:4,minWidth:150}}>
              {LANGS.map(l=><button key={l.code} onClick={()=>{setLang(l.code);setLangMenu(false)}} style={{width:'100%',textAlign:'left',padding:'8px 12px',fontSize:13,display:'flex',alignItems:'center',gap:8,border:'none',background:'none',color:lang===l.code?th.accent:th.text,cursor:'pointer',borderRadius:4}}>
                {l.flag} {l.label}{lang===l.code&&' âœ“'}
              </button>)}
            </div>}
          </div>
        </div>
      </div></div></header>

      {/* â•â•â• SPOTLIGHT ONBOARDING TOUR â•â•â• */}
      {onboard&&(()=>{
        const steps=[
          {emoji:theme==='cat'?'ğŸ±':theme==='future'?'ğŸ¤–':'ğŸ',
           t:lang==='zh'?'æ¬¢è¿æ¥åˆ° PyLingoï¼':'Welcome to PyLingo!',
           d:lang==='zh'?'è®©æˆ‘å¿«é€Ÿå¸¦ä½ äº†è§£å¹³å°åŠŸèƒ½ï¼Œåªéœ€ 30 ç§’ âœ¨':'Let me give you a quick 30-second tour âœ¨'},
          {emoji:'ğŸ”¥',t:lang==='zh'?'å­¦ä¹ è¿å‡»':'Streak',
           d:lang==='zh'?'æ¯å¤©ç»ƒä¹ ä¿æŒè¿å‡» ğŸ”¥ æ—è¾¹æ˜¯ä½ çš„å®Œæˆè¿›åº¦ã€‚':'Practice daily to keep your streak ğŸ”¥ Next to it is your progress.'},
          {emoji:'ğŸ®',t:lang==='zh'?'Python å°æ¸¸æˆ':'Mini-Games',
           d:lang==='zh'?'ç‚¹è¿™é‡Œç© 3 æ¬¾å°æ¸¸æˆï¼šæ‰¾ Bug ğŸ›ã€ä»£ç é—®ç­” ğŸ§ ã€æé€Ÿæ‰“å­— âš¡':'Click here for 3 games: Bug Hunter ğŸ›, Quiz ğŸ§ , Speed Type âš¡'},
          {emoji:'ğŸ¨',t:lang==='zh'?'åˆ‡æ¢ä¸»é¢˜':'Switch Theme',
           d:lang==='zh'?'ç‚¹å‡»åˆ‡æ¢ä¸‰ç§é£æ ¼ï¼šâœ¨ ç®€æ´ / ğŸ± çŒ«çŒ« / âš¡ èµ›åšæœ‹å…‹':'Click to switch: âœ¨ Clean / ğŸ± Cat Cafe / âš¡ Cyberpunk'},
          {emoji:'âš™ï¸',t:lang==='zh'?'AI å¯¼å¸ˆè®¾ç½®':'AI Settings',
           d:lang==='zh'?'é…ç½® API Keyï¼ˆGemini å…è´¹ï¼ï¼‰å¯ç”¨ AI èŠå¤©å’Œç¿»è¯‘ã€‚':'Set API Key (Gemini = free!) for AI chat & translation.'},
          {emoji:'ğŸŒ',t:lang==='zh'?'åˆ‡æ¢è¯­è¨€':'Language',
           d:lang==='zh'?'æ”¯æŒ 7 ç§è¯­è¨€ï¼Œç•Œé¢å’Œç»ƒä¹ è‡ªåŠ¨ç¿»è¯‘ã€‚':'7 languages with auto-translated UI and exercises.'},
          {emoji:'ğŸš€',t:lang==='zh'?'ç‚¹å‡»è¯¾ç¨‹å¼€å§‹å­¦ä¹ ï¼':'Click a course to start!',
           d:lang==='zh'?'æ¯ä¸ªè¯¾ç¨‹æœ‰çŸ¥è¯†ç‚¹è®²è§£ ğŸ“– + ç¼–ç¨‹ç»ƒä¹  ğŸ’»ï¼ŒåŠ¨æ‰‹å­¦ Pythonï¼':'Each course has lessons ğŸ“– + coding exercises ğŸ’». Let\'s code!'},
        ];
        const step=steps[obStep]||steps[0];
        const isCenter=obStep===0||!obRect;
        const r=obRect||{top:0,left:0,width:0,height:0,bottom:0,right:0};
        const pad=8;
        const spotX=r.left-pad,spotY=r.top-pad,spotW=r.width+pad*2,spotH=r.height+pad*2;
        const tipBelow=r.top<260;
        const tipW=300;
        const ww=window.innerWidth||1200;
        const wh=window.innerHeight||800;
        let tipLeft=Math.max(12,Math.min(r.left+r.width/2-tipW/2,ww-tipW-12));

        return <div style={{position:'fixed',inset:0,zIndex:100}}>
          <svg width="100%" height="100%" style={{position:'absolute',inset:0}}>
            <defs><mask id="ob-m">
              <rect width="100%" height="100%" fill="white"/>
              {!isCenter&&<rect x={spotX} y={spotY} width={spotW} height={spotH} rx={br>2?10:2} fill="black"/>}
            </mask></defs>
            <rect width="100%" height="100%" fill="rgba(0,0,0,0.6)" mask="url(#ob-m)"/>
            {!isCenter&&<rect x={spotX} y={spotY} width={spotW} height={spotH} rx={br>2?10:2} fill="none" stroke={th.accent} strokeWidth="2" style={{animation:'glow 2s infinite'}}/>}
          </svg>

          <div key={obStep} style={{
            position:'fixed',
            ...(isCenter?{top:'50%',left:'50%',transform:'translate(-50%,-50%)'}:
              tipBelow?{top:r.bottom+14,left:tipLeft}:{bottom:wh-r.top+14,left:tipLeft}),
            width:isCenter?Math.min(380,ww-32):tipW,
            background:isDark?'#0c1018':'#fff',borderRadius:br>2?16:4,
            border:`2px solid ${th.accent}40`,
            boxShadow:'0 20px 60px rgba(0,0,0,0.35)',
            padding:isCenter?'28px 24px':'16px 18px',fontFamily:ff,zIndex:101,
            animation:'fadeUp 0.2s ease',
          }}>
            {!isCenter&&<div style={{
              position:'absolute',[tipBelow?'top':'bottom']:-7,
              left:Math.max(16,Math.min(r.left+r.width/2-tipLeft-6,tipW-28)),
              width:12,height:12,background:isDark?'#0c1018':'#fff',
              border:`2px solid ${th.accent}40`,
              transform:tipBelow?'rotate(45deg)':'rotate(225deg)',
              borderRight:'none',borderBottom:'none',
            }}/>}
            <div style={{display:'flex',gap:4,marginBottom:isCenter?16:10,justifyContent:isCenter?'center':'flex-start'}}>
              {steps.map((_,i)=><div key={i} onClick={()=>setObStep(i)} style={{
                width:i===obStep?18:6,height:6,borderRadius:3,cursor:'pointer',
                background:i===obStep?th.accent:i<obStep?`${th.success}60`:(th.tag||'#eee'),
                transition:'all 0.3s',
              }}/>)}
            </div>
            {isCenter&&<div style={{fontSize:52,textAlign:'center',marginBottom:8}}>{step.emoji}</div>}
            <div style={{display:'flex',alignItems:isCenter?'center':'flex-start',gap:10,flexDirection:isCenter?'column':'row'}}>
              {!isCenter&&<div style={{fontSize:24,flexShrink:0}}>{step.emoji}</div>}
              <div>
                <h3 style={{fontSize:isCenter?22:15,fontWeight:700,color:th.text,marginBottom:4,fontFamily:ff,textAlign:isCenter?'center':'left'}}>{step.t}</h3>
                <p style={{color:th.sub,fontSize:12,lineHeight:1.6,textAlign:isCenter?'center':'left',margin:0}}>{step.d}</p>
              </div>
            </div>
            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:isCenter?20:12}}>
              <button onClick={finishOnboard} style={{background:'none',border:'none',color:th.sub,cursor:'pointer',fontSize:11,fontFamily:ff,padding:'4px 6px',opacity:0.7}}>
                {lang==='zh'?'è·³è¿‡':'Skip'}</button>
              <div style={{display:'flex',gap:6,alignItems:'center'}}>
                <span style={{color:th.sub,fontSize:10}}>{obStep+1}/{steps.length}</span>
                {obStep>0&&<button onClick={()=>setObStep(obStep-1)} style={{...C.btn2,padding:'4px 10px',fontSize:11}}>â†</button>}
                {obStep<steps.length-1?
                  <button onClick={()=>setObStep(obStep+1)} style={{padding:'5px 14px',fontSize:12,fontWeight:600,borderRadius:br,border:'none',cursor:'pointer',background:th.accent,color:isDark?'#000':'#fff',fontFamily:ff}}>
                    {lang==='zh'?'ä¸‹ä¸€æ­¥':'Next'} â†’</button>
                  :<button onClick={finishOnboard} style={{padding:'5px 14px',fontSize:12,fontWeight:600,borderRadius:br,border:'none',cursor:'pointer',background:th.accent,color:isDark?'#000':'#fff',fontFamily:ff}}>
                    {lang==='zh'?'å¼€å§‹ï¼':'Go!'} ğŸš€</button>}
              </div>
            </div>
          </div>
        </div>;
      })()}

      <main style={{...C.main,maxWidth:900}}>
        <div style={{textAlign:'center',marginBottom:48,marginTop:24,position:'relative'}} className={theme==='future'?'matrix-bg':''}>
          {theme==='cat'&&<img src={CAT_GIFS.hero} alt="cat teacher" style={{width:140,height:140,objectFit:'cover',borderRadius:'50%',border:'4px solid #e8a87c',marginBottom:8,boxShadow:'0 4px 20px rgba(232,168,124,0.3)'}}/>}
          {theme==='future'&&<div style={{marginBottom:12}}>
            <div style={{fontSize:11,color:`${th.accent}60`,fontFamily:'monospace',marginBottom:12,letterSpacing:2}} className="boot-flicker">â—ˆ SYSTEM ONLINE â–ª NEXUS v4.2.1 â–ª OPERATOR DETECTED</div>
            <div style={{fontSize:48,marginBottom:4,filter:`drop-shadow(0 0 15px ${th.accent}40)`}}>ğŸ¤–</div>
            <div style={{display:'flex',gap:8,justifyContent:'center',marginBottom:4}}>
              {['â–°â–°â–°â–°â–°â–°','â—ˆ CORE','â–°â–°â–°â–°â–°â–°'].map((t,i)=><span key={i} style={{fontSize:10,fontFamily:'monospace',color:i===1?th.accent:`${th.accent}30`}}>{t}</span>)}
            </div>
          </div>}
          <h1 style={{fontSize:theme==='future'?32:36,fontWeight:800,background:theme==='future'?'linear-gradient(90deg,#00f5d4,#f72585)':theme==='cat'?'linear-gradient(90deg,#e8a87c,#d4726a)':'linear-gradient(90deg,#635bff,#30b07a)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:12,fontFamily:theme==='future'?'"Courier New",monospace':'inherit',letterSpacing:theme==='future'?'3px':'normal'}} className={theme==='future'?'glitch-text':''}>{theme==='cat'?'ğŸ± PyLingo':theme==='future'?'[ PYLINGO ]':'ğŸ PyLingo'}</h1>
          <p style={{color:th.sub,fontSize:theme==='future'?13:16,fontFamily:theme==='future'?'monospace':'inherit'}}>{theme==='cat'?'Learn Python with your cat teacher~ ğŸ¾':theme==='future'?'> PYTHON TRAINING PROTOCOL INITIALIZED... READY FOR INPUT_':'Learn Python step by step â€” from basics to real-world projects'}</p>
          {theme==='future'&&<div style={{marginTop:12,display:'flex',gap:16,justifyContent:'center',fontSize:11,fontFamily:'monospace',color:`${th.accent}40`}}>
            <span>â—ˆ MODULES: {COURSES.length}</span><span>â–ª</span><span>â—ˆ STATUS: ACTIVE</span><span>â–ª</span><span>â—ˆ CLEARANCE: FULL</span>
          </div>}
        </div>
        {showGames?<GamesPanel th={th} isDark={isDark}/>
        :<div id="ob-courses" style={{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:20}}>
          {COURSES.map((c,ci)=>{
            const tot=c.topics.reduce((s,t)=>s+t.exercises.length,0);
            const d=c.topics.reduce((s,t)=>s+t.exercises.filter((_,j)=>done.has(`${c.id}-${t.id}-${j}`)).length,0);
            const pct=tot?Math.round(d/tot*100):0;
            return <button key={c.id} id={ci===0?'ob-course':undefined} onClick={()=>{setCourseId(c.id);setCT(0);setCE(0);setTab('learn');setLIdx(0)}}
              className={theme==='future'?'hud-corner cyber-border':''}
              style={{padding:24,borderRadius:br,border:`1px solid ${th.border}`,borderLeft:theme==='future'?`2px solid ${ci===0?th.accent:ci===1?(th.accent2||'#f72585'):'#7b61ff'}`:(`2px solid ${c.color}40`),background:th.card,textAlign:'left',cursor:'pointer',transition:'all 0.2s',position:'relative',overflow:'hidden',fontFamily:ff}}>
              {theme==='future'&&<div style={{position:'absolute',top:6,right:8,fontSize:9,fontFamily:'monospace',color:`${th.accent}40`,letterSpacing:1}}>MODULE_{String(ci).padStart(2,'0')}</div>}
              <div style={{fontSize:40,marginBottom:12}}>{c.icon}</div>
              <h3 style={{fontSize:18,fontWeight:700,color:isDark?th.accent:th.text,marginBottom:8,fontFamily:ff}}>{preT('c:'+ci+':title',lang)||c.title}</h3>
              <p style={{fontSize:13,color:th.sub,marginBottom:16,lineHeight:1.5}}>{preT('c:'+ci+':desc',lang)||c.desc}</p>
              <div style={{...C.fc,gap:8}}>
                <div style={{...C.pb,height:4}}><div style={{...C.pf(pct),height:'100%',background:c.color}}/></div>
                <span style={{fontSize:11,color:th.sub,whiteSpace:'nowrap'}}>{d}/{tot}</span>
              </div>
              <div style={{marginTop:8,fontSize:12,color:th.sub}}>{c.topics.length} {ui.topics}</div>
            </button>})}
        </div>}
      </main>
      <style>{`@media(max-width:768px){main > div:last-child{grid-template-columns:1fr!important}}`}</style>
    </div>);
  }

  const lesson=topic?topic.lessons[lIdx]:null;
  const courseColor=course.color||'#6366f1';

  // â•â•â• COURSE VIEW â•â•â•
  return(<div style={C.bg} data-theme={theme}>
    <header style={C.hdr}><div style={C.hi}>
      <div style={C.fb}>
        <div style={{...C.fc,gap:12}}>
          <button onClick={()=>setCourseId(null)} style={{...C.btn2,padding:'6px 12px',fontSize:12}}><I n="Left" s={12}/>{ui.back}</button>
          <span style={{...C.logo,color:courseColor}}>{course.icon} {preT('c:'+ci+':title',lang)||course.title}</span>
        </div>
        <div style={{...C.fc,gap:10}}>
          <div style={C.badge}><I n="Flame" s={14}/>{streak}</div>
          <div style={{position:'relative'}}>
            <button onClick={()=>setLangMenu(!langMenu)} style={{...C.btn2,padding:'6px 10px'}}><I n="Globe" s={14}/>{cLang.flag}</button>
            {langMenu&&<div style={{position:'absolute',right:0,top:'100%',marginTop:4,background:isDark?'#0a0e1a':'#fff',border:`1px solid ${th.border}`,borderRadius:br,boxShadow:'0 8px 32px rgba(0,0,0,0.15)',zIndex:50,padding:4,minWidth:150}}>
              {LANGS.map(l=><button key={l.code} onClick={()=>{setLang(l.code);setLangMenu(false)}} style={{width:'100%',textAlign:'left',padding:'8px 12px',fontSize:13,display:'flex',alignItems:'center',gap:8,border:'none',background:'none',color:lang===l.code?th.accent:th.text,cursor:'pointer',borderRadius:4}}>
                {l.flag} {l.label}
              </button>)}
            </div>}
          </div>
          <button onClick={()=>{const ts=['simple','cat','future'];const ni=(ts.indexOf(theme)+1)%3;switchTheme(ts[ni])}} style={{...C.btn2,padding:'6px 10px'}} title={TH[theme].name}>{theme==='simple'?'âœ¨':theme==='cat'?'ğŸ±':'âš¡'}</button>
          <button onClick={()=>{setKeyInput(apiKey);setShowSettings(true)}} style={{...C.btn2,padding:8,position:'relative'}} title="API Key"><I n="Settings" s={18}/>{apiKey&&<span style={{position:'absolute',top:4,right:4,width:6,height:6,borderRadius:3,background:'#34d399'}}/>}</button>
            <button onClick={()=>setChatOn(!chatOn)} style={{...C.btn2,padding:8,background:chatOn?courseColor:'transparent',color:chatOn?'#fff':th.sub}}><I n="Chat" s={18}/></button>
          <button onClick={()=>setShowT(true)} style={{...C.btn,background:theme==='future'?'transparent':courseColor,color:theme==='future'?th.accent:'#fff',border:theme==='future'?`1px solid ${th.accent}60`:'none',fontFamily:theme==='future'?'monospace':'inherit',borderRadius:theme==='future'?2:br,letterSpacing:theme==='future'?1:0}}>{topic?.icon} Topic {cT+1}</button>
        </div>
      </div>
      <div style={{marginTop:8}}><div style={{display:'flex',justifyContent:'space-between',fontSize:11,color:th.sub,marginBottom:4}}><span>{ui.progress}</span><span>{Math.round(totalP())}%</span></div>
        <div style={C.pb}><div style={{...C.pf(totalP()),background:courseColor}}/></div></div>
    </div></header>

    {/* Topic selector modal */}
    {showT&&<div style={{position:'fixed',inset:0,background:'rgba(0,0,0,0.7)',zIndex:50,display:'flex',alignItems:'center',justifyContent:'center',padding:16}} onClick={e=>e.target===e.currentTarget&&setShowT(false)}>
      <div style={{background:isDark?'#050508':'#fff',borderRadius:br,maxWidth:720,width:'100%',maxHeight:'80vh',overflowY:'auto',border:`1px solid ${courseColor}40`,padding:24}}>
        <div style={{...C.fb,marginBottom:24}}><h2 style={{fontSize:20,fontWeight:700,color:th.text}}>{ui.topics}</h2><button onClick={()=>setShowT(false)} style={{background:'none',border:'none',color:th.sub,cursor:'pointer',fontSize:20}}>Ã—</button></div>
        {topics.map((t,i)=>{const p=tProg(i),c=i===cT;return<button key={t.id} onClick={()=>{setCT(i);setCE(0);setTab('learn');setLIdx(0);setShowT(false)}}
          style={{width:'100%',padding:16,borderRadius:12,border:c?`2px solid ${courseColor}`:p>=1?`2px solid ${courseColor}40`:`2px solid ${th.border}`,background:c?`${courseColor}10`:th.card,textAlign:'left',display:'flex',alignItems:'center',gap:16,cursor:'pointer',marginBottom:8}}>
          <span style={{fontSize:28}}>{t.icon}</span>
          <div style={{flex:1}}>
            <div style={C.fb}><span style={{fontWeight:600,color:th.text,fontSize:14}}>{preT('t:'+ci+':'+i+':title',lang)||t.title}</span>{p>=1?<I n="Check" s={18}/>:null}</div>
            <div style={{...C.fc,gap:8,marginTop:8}}><div style={{...C.pb,height:4}}><div style={{...C.pf(p*100),height:'100%',background:courseColor}}/></div><span style={{fontSize:11,color:'#64748b'}}>{t.exercises.filter((_,j)=>done.has(`${courseId}-${t.id}-${j}`)).length}/{t.exercises.length}</span></div>
          </div></button>})}
      </div></div>}

    {topic&&<main style={C.main}>
      <div style={{marginBottom:24}}>
        <h2 style={{fontSize:20,fontWeight:700,color:th.text,margin:'0 0 12px',fontFamily:ff}}>{topic.icon} {preT('t:'+ci+':'+cT+':title',lang)||topic.title}</h2>
        <div style={{display:'flex',gap:4,background:th.tag||'#f0f1f4',borderRadius:br,padding:4,width:'fit-content'}}>
          <button onClick={()=>setTab('learn')} style={C.tabBtn(tab==='learn')}><I n="Book" s={14}/>{ui.learn}</button>
          <button onClick={()=>setTab('practice')} style={C.tabBtn(tab==='practice')}><I n="Code" s={14}/>{ui.practice} ({topic.exercises.filter((_,i)=>done.has(`${courseId}-${topic.id}-${i}`)).length}/{topic.exercises.length})</button>
        </div>
      </div>

      {tab==='learn'&&lesson&&<div className="lesson-content" style={{...C.card,border:theme==='future'?`1px solid ${th.accent}60`:`1px solid ${th.border}`}}>
        <div style={{display:'flex',flexWrap:'wrap',gap:8,marginBottom:24}}>{topic.lessons.map((l,i)=><button key={i} onClick={()=>setLIdx(i)} style={C.pill(i===lIdx)}>{i+1}. {l.title}</button>)}</div>
        <h3 style={{fontSize:18,fontWeight:700,color:th.accent,margin:'0 0 16px',fontFamily:ff}}>{lesson.title}</h3>
        {lang!=='en'&&<div style={{...C.fc,gap:12,marginBottom:16,flexWrap:'wrap'}}>
          {!apiKey&&<button onClick={()=>{setKeyInput('');setShowSettings(true)}} style={{...C.btn2,padding:'4px 10px',fontSize:11,color:'#fbbf24',borderColor:'#fbbf2440'}}>ğŸ”‘ {lang==='zh'?'è®¾ç½® AI ç¿»è¯‘å†…å®¹ï¼ˆæ”¯æŒ Gemini å…è´¹ï¼‰':'Set AI Key to translate (Gemini = free)'}</button>}
          <button onClick={()=>setShowEn(!showEn)} style={{...C.fc,gap:4,fontSize:12,color:th.accent,border:`1px solid ${th.border}`,padding:'4px 10px',borderRadius:6,background:'none',cursor:'pointer'}}><I n="Globe" s={12}/>{showEn?ui.hideEn:ui.showEn}</button>
          {tring&&<span style={{color:th.sub,fontSize:12}} className="pulse">{ui.transing}</span>}
        </div>}
        <div>{blocks(lang==='en'?lesson.content:(tLesson||lesson.content)).map((b,i)=>{
              if(b.t==='code')return <pre key={i} style={C.codeB}>{b.c}</pre>;
              if(b.t==='terminal'){const[t,...rest]=b.c.split(':::');const ls=rest.length?rest.join(':::').split('|||'):t.split('|||');return <TerminalDemo key={i} lines={rest.length?ls:t.split('|||')} title={rest.length?t:'Python'}/>}
              if(b.t==='diagram'){
                const[dn,...args]=b.c.split(':');
                if(dn==='summary'){const items=args.join(':').split('|||');return <DiagramSummary key={i} items={items} th={th}/>}
                if(dn==='install-steps'){return <div key={i}>{React.createElement(Diagrams['install-steps'],{platform:args[0]||'windows'})}</div>}
                const D=Diagrams[dn];return D?<div key={i}><D/></div>:null;
              }
              return <div key={i}>{renderMd(b.c)}</div>
            })}</div>
        {lang!=='en'&&showEn&&tLesson&&<div style={{marginTop:16,padding:16,background:isDark?'rgba(10,14,26,0.5)':'rgba(0,0,0,0.02)',borderRadius:8,border:`1px solid ${th.border}`}}>
          <p style={{fontSize:11,color:th.sub,fontWeight:600,marginBottom:8}}>ğŸ‡¬ğŸ‡§ English</p>
          <div style={{opacity:0.8}}>{blocks(lesson.content).map((b,i)=>{
                if(b.t==='code')return <pre key={i} style={{...C.codeB,fontSize:12,padding:12}}>{b.c}</pre>;
                if(b.t==='terminal')return null;
                if(b.t==='diagram')return null;
                return <div key={i}>{renderMd(b.c)}</div>
              })}</div>
        </div>}
        <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:32,paddingTop:16,borderTop:`1px solid ${th.border}`}}>
          <button onClick={()=>setLIdx(Math.max(0,lIdx-1))} disabled={lIdx===0} style={{...C.btn2,opacity:lIdx===0?0.3:1}}><I n="Left" s={14}/>{ui.prev}</button>
          <span style={{color:th.sub,fontSize:12}}>{lIdx+1}/{topic.lessons.length}</span>
          {lIdx<topic.lessons.length-1?<button onClick={()=>setLIdx(lIdx+1)} style={{...C.btn2,color:th.accent}}>{ui.next}<I n="Right" s={14}/></button>
            :<button onClick={()=>setTab('practice')} style={{...C.btn,background:courseColor}}>{ui.startEx}<I n="Right" s={14}/></button>}
        </div>
      </div>}

      {tab==='practice'&&ex&&<>
        <div style={{display:'flex',gap:8,marginBottom:24,overflowX:'auto',paddingBottom:8}}>
          {topic.exercises.map((e,i)=>{const d2=done.has(`${courseId}-${topic.id}-${i}`);return<button key={i} onClick={()=>setCE(i)} style={{...C.fc,gap:6,padding:'8px 12px',borderRadius:8,fontSize:13,whiteSpace:'nowrap',border:d2&&i!==cE?`1px solid ${courseColor}40`:'none',cursor:'pointer',background:i===cE?courseColor:d2?`${courseColor}10`:(th.tag||'#f0f1f4'),color:i===cE?'#fff':d2?courseColor:th.sub}}>
            {d2&&<I n="Check" s={12}/>}{e.title}</button>})}
        </div>
        <div className="g2" style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:24}}>
          <div style={{...C.card,border:theme==='future'?`1px solid ${th.accent}60`:`1px solid ${th.border}`}}>
            <div style={{...C.fb,marginBottom:12}}><h3 style={{fontSize:18,fontWeight:700,color:isDark?th.accent:th.text}}>{ex.title}</h3>{done.has(eKey)&&(theme==='cat'?<span style={{fontSize:18}}>ğŸ¾</span>:theme==='future'?<span style={{color:th.success,fontFamily:'monospace',fontSize:13,fontWeight:700}}>âœ“ CLEAR</span>:<I n="Check" s={20}/>)}</div>
            <div style={C.task}>
              {lang!=='en'&&tTask?<><p style={{color:isDark?'#c8d0dc':th.text,fontSize:15,fontWeight:500,marginBottom:6}}>{tTask}</p><p style={{color:th.sub,fontSize:12}}>ğŸ‡¬ğŸ‡§ {ex.task}</p></>
              :<p style={{color:isDark?'#c8d0dc':th.text,fontSize:15}}>{ex.task}</p>}
            </div>
            <div style={{...C.fc,gap:12,marginBottom:16}}>
              <button onClick={()=>{setHnt(!hnt);setSol(false)}} style={{...C.fc,gap:4,fontSize:13,color:isDark?'#eab308':'#b45309',background:'none',border:'none',cursor:'pointer'}}><I n="Bulb" s={14}/>{hnt?ui.hide:ui.hint}</button>
              {fb&&fb.type!=='loading'&&<button onClick={()=>{setSol(!sol);setHnt(false);setSIdx(0)}} style={{...C.fc,gap:4,fontSize:13,color:isDark?'#a78bfa':'#7c3aed',background:'none',border:'none',cursor:'pointer'}}><I n="Eye" s={14}/>{sol?ui.hide:ui.viewSol}</button>}
              <button onClick={()=>setTab('learn')} style={{...C.fc,gap:4,fontSize:13,color:isDark?'#60a5fa':th.accent,background:'none',border:'none',cursor:'pointer',marginLeft:'auto'}}><I n="Book" s={14}/>{ui.review}</button>
            </div>
            {hnt&&<div style={{marginBottom:12,background:`${th.accent}08`,borderLeft:`3px solid ${th.accent}`,padding:12,borderRadius:'0 8px 8px 0'}}>
              {lang!=='en'&&tHint?<><p style={{color:th.accent,fontSize:13,marginBottom:4}}>{tHint}</p><p style={{color:th.sub,fontSize:11}}>ğŸ‡¬ğŸ‡§ {ex.hint}</p></>
              :<p style={{color:th.accent,fontSize:13}}>{ex.hint}</p>}
            </div>}
            {sol&&<div style={{marginBottom:12,background:`${th.accent}08`,borderLeft:`3px solid ${th.accent}`,padding:12,borderRadius:'0 8px 8px 0'}}>
              <div style={{...C.fb,marginBottom:8}}>
                <div style={{...C.fc,gap:4}}>{sols.map((sv,i)=><button key={i} onClick={()=>setSIdx(i)} style={{padding:'2px 8px',borderRadius:4,fontSize:11,border:'none',cursor:'pointer',background:i===sIdx?th.accent:(th.tag||'#f0f1f4'),color:i===sIdx?'#fff':th.sub}}>{sv.label}</button>)}</div>
                <button onClick={()=>{setCode(sols[sIdx].code);setSol(false)}} style={{fontSize:11,padding:'4px 8px',borderRadius:4,border:'none',cursor:'pointer',background:th.accent,color:'#fff'}}>{ui.copy}</button>
              </div>
              <pre style={{color:th.text,fontSize:13,fontFamily:'monospace',whiteSpace:'pre-wrap'}}>{sols[sIdx].code}</pre>
              {ex.bestExplanation&&<div style={{marginTop:8,padding:8,background:isDark?'rgba(30,58,138,0.2)':'rgba(59,130,246,0.08)',borderRadius:4}}><p style={{fontSize:12,color:th.accent}}>{ui.bestPractice} {ex.bestExplanation}</p></div>}
            </div>}
            {fb&&<div style={{padding:theme==='cat'?16:12,borderRadius:theme==='future'?2:br,background:fb.type==='success'?`${th.success}10`:fb.type==='loading'?`${th.accent}10`:`${th.error}10`,border:`1px solid ${fb.type==='success'?th.success:fb.type==='loading'?th.accent:th.error}30`,fontFamily:theme==='future'?'monospace':ff}}>
              {theme==='cat'&&<div style={{textAlign:'center',padding:4}}>
                <img src={rGif(fb.type==='success'?CAT_GIFS.ok:fb.type==='error'?CAT_GIFS.err:CAT_GIFS.load)} alt="" style={{width:120,height:120,objectFit:'cover',borderRadius:16,border:`3px solid ${th.accent}40`,boxShadow:'0 4px 12px rgba(245,158,11,0.2)'}}/>
                <p style={{fontWeight:600,fontSize:14,marginTop:8,color:fb.type==='success'?th.success:fb.type==='loading'?th.accent:th.error,whiteSpace:'pre-line'}}>{fb.message}</p>
              </div>}
              {theme==='future'&&<div style={{fontFamily:'monospace'}}>
                <div style={{fontSize:10,color:fb.type==='success'?'#00ff8840':fb.type==='loading'?'#00fff040':'#ff005540',letterSpacing:3,marginBottom:4}}>{fb.type==='success'?'â”â”â” RESULT â”â”â”':fb.type==='loading'?'â”â”â” SCAN â”â”â”':'â”â”â” ALERT â”â”â”'}</div>
                <p style={{fontWeight:700,fontSize:14,letterSpacing:1,color:fb.type==='success'?th.success:fb.type==='loading'?th.accent:th.error}} className={fb.type!=='loading'?'glitch-text':'pulse'}>{cyberMsg(fb.type)}</p>
                {fb.type==='success'&&<div style={{marginTop:6,fontSize:10,color:`${th.accent}40`}}>{'â–°'.repeat(20)} 100%</div>}
                {fb.type==='error'&&<div style={{marginTop:6,fontSize:10,color:`${th.error}40`}}>{'â–°'.repeat(8)}{'â–±'.repeat(12)} FAILED</div>}
              </div>}
              {theme==='simple'&&<p style={{fontWeight:600,fontSize:14,color:fb.type==='success'?th.success:fb.type==='loading'?th.accent:th.error,whiteSpace:'pre-line'}}>{fb.message}</p>}
              {fb.explanation&&<p style={{fontSize:12,color:isDark?'#cbd5e1':th.sub,marginTop:4,whiteSpace:'pre-line'}}>{fb.explanation}</p>}
              {fb.improvement&&<div style={{marginTop:8,padding:8,background:`${th.accent}08`,border:`1px solid ${th.accent}20`,borderRadius:4}}><p style={{fontSize:12,color:th.accent,whiteSpace:'pre-line'}}>{ui.tip} {fb.improvement}</p></div>}
              {fb.type==='error'&&fb.yourOutput!=null&&<div style={{marginTop:8}}>
                <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:8}}>
                  <div style={{background:`${th.error}15`,padding:8,borderRadius:4}}>
                    <p style={{fontSize:11,color:th.error,marginBottom:4,fontWeight:600}}>{ui.yourOut}:</p>
                    <pre style={{fontSize:12,fontFamily:'monospace',color:th.error,whiteSpace:'pre-wrap'}}>{fb.yourOutput||(lang==='en'?'(empty)':lang==='zh'?'ï¼ˆç©ºï¼‰':lang==='ko'?'(ë¹„ì–´ ìˆìŒ)':lang==='ja'?'ï¼ˆç©ºï¼‰':'(empty)')}</pre>
                  </div>
                  <div style={{background:`${th.success}15`,padding:8,borderRadius:4}}>
                    <p style={{fontSize:11,color:th.success,marginBottom:4,fontWeight:600}}>{ui.expected}:</p>
                    <pre style={{fontSize:12,fontFamily:'monospace',color:th.success,whiteSpace:'pre-wrap'}}>{fb.expected}</pre>
                  </div>
                </div>
              </div>}
              {fb.type==='error'&&fb.yourOutput==null&&fb.expected&&<pre style={{marginTop:8,background:th.tag||'#f0f1f4',padding:8,borderRadius:4,fontSize:12,fontFamily:'monospace',color:th.text}}>{ui.expected}: {fb.expected}</pre>}
            </div>}
          </div>
          <div style={{...C.card,padding:0,overflow:'hidden',border:theme==='future'?`1px solid ${th.accent}60`:`1px solid ${th.border}`}}>
            <div style={{background:th.tag||'#f0f1f4',padding:12,...C.fb}}>
              <span style={{color:courseColor,fontSize:14,fontWeight:600}}>Python Editor</span>
              <div style={{...C.fc,gap:8}}>
                <button onClick={()=>{setCode(ex.starterCode);setFb(null);setRunOut(null)}} style={{...C.btn2,padding:'4px 10px',fontSize:12}}><I n="Rotate" s={12}/>{ui.reset}</button>
                <button onClick={submit} style={{...C.btn,padding:'4px 12px',fontSize:12,background:courseColor}}><I n="Play" s={12}/>{ui.run}</button>
              </div>
            </div>
            <textarea value={code} onChange={e=>{setCode(e.target.value);setKeys(k=>k+1)}} onPaste={()=>setPasted(true)} onContextMenu={e=>e.preventDefault()} style={C.ed} spellCheck={false} placeholder="Write your code here..."/>
            {/* â”€â”€ Terminal Output Panel â”€â”€ */}
            <div style={{borderTop:`1px solid ${isDark?'#1a2332':'#e5e7eb'}`,background:theme==='future'?'#020408':theme==='cat'?'#1a1614':'#1e1e2e',minHeight:56,maxHeight:180,overflow:'auto',padding:'8px 14px',fontFamily:'monospace',fontSize:13}}>
              <div style={{color:'#6b7280',fontSize:11,marginBottom:4,display:'flex',alignItems:'center',gap:6,userSelect:'none'}}>
                <span style={{display:'inline-block',width:7,height:7,borderRadius:4,background:runOut?(runOut.error?'#ef4444':'#22c55e'):'#4b5563'}}/>
                {lang==='zh'?'ç»ˆç«¯è¾“å‡º':lang==='ko'?'í„°ë¯¸ë„ ì¶œë ¥':lang==='ja'?'ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å‡ºåŠ›':lang==='es'?'Salida':lang==='fr'?'Sortie':lang==='pt'?'SaÃ­da':lang==='de'?'Ausgabe':'Output'}
              </div>
              {!runOut&&<div style={{color:'#6b728099',fontStyle:'italic',fontSize:12}}>{lang==='zh'?'ç‚¹å‡» â–· Run è¿è¡Œä»£ç â€¦':lang==='ko'?'â–· ì‹¤í–‰ì„ í´ë¦­í•˜ì„¸ìš”â€¦':lang==='ja'?'â–· å®Ÿè¡Œã‚’ã‚¯ãƒªãƒƒã‚¯â€¦':'Click â–· Run to executeâ€¦'}</div>}
              {runOut&&runOut.lines.length>0&&runOut.lines.map((l,i)=><div key={i} style={{color:'#e2e8f0',lineHeight:1.6}}><span style={{color:theme==='future'?'#00f5d4':'#22c55e',marginRight:6,userSelect:'none'}}>{'>>>'}</span>{l}</div>)}
              {runOut&&runOut.lines.length===0&&!runOut.error&&<div style={{color:'#22c55e',lineHeight:1.6}}><span style={{marginRight:6,userSelect:'none'}}>{'>>>'}</span>(no output)</div>}
              {runOut&&runOut.error&&<div style={{color:'#f87171',marginTop:runOut.lines.length?4:0,whiteSpace:'pre-line',lineHeight:1.5,borderTop:runOut.lines.length?'1px solid #ffffff10':'none',paddingTop:runOut.lines.length?4:0}}>{runOut.error.split('\n\nğŸ‡¬ğŸ‡§')[0]}</div>}
            </div>
          </div>
        </div>
        <div style={{marginTop:24,...C.fb}}>
          <button onClick={()=>cE>0&&setCE(cE-1)} disabled={cE===0} style={{...C.btn2,opacity:cE===0?0.3:1}}>{ui.prev}</button>
          <span style={{color:th.sub,fontSize:12}}>{ui.ex} {cE+1} {ui.of} {topic.exercises.length}</span>
          {cE<topic.exercises.length-1?<button onClick={()=>setCE(cE+1)} style={{...C.btn,background:courseColor}}>{ui.next}</button>
            :cT<topics.length-1&&tProg(cT)>=1?<button onClick={()=>{setCT(cT+1);setCE(0);setTab('learn');setLIdx(0)}} style={{...C.btn,background:courseColor}}>{ui.nextT}</button>
            :<span style={{color:th.sub,fontSize:13}}>{ui.complete}</span>}
        </div>
      </>}
    </main>}

    {/* Settings Modal */}
    {showSettings&&<div style={{position:'fixed',inset:0,background:'rgba(0,0,0,0.7)',zIndex:60,display:'flex',alignItems:'center',justifyContent:'center',padding:16}} onClick={e=>e.target===e.currentTarget&&setShowSettings(false)}>
      <div style={{background:isDark?'#050508':'#fff',borderRadius:br,border:`1px solid ${th.border}`,padding:24,maxWidth:500,width:'100%',boxShadow:'0 12px 40px rgba(0,0,0,0.6)',maxHeight:'90vh',overflowY:'auto'}}>
        <div style={{...C.fb,marginBottom:20}}><h3 style={{fontSize:18,fontWeight:700,color:th.text}}>âš™ï¸ AI Settings</h3><button onClick={()=>setShowSettings(false)} style={{background:'none',border:'none',color:th.sub,cursor:'pointer',fontSize:20}}>Ã—</button></div>
        <p style={{color:th.sub,fontSize:13,marginBottom:16,lineHeight:1.6}}>
          {lang==='zh'?'é€‰æ‹© AI æä¾›å•†å¹¶è¾“å…¥ API Keyï¼Œå¯ç”¨ AI å¯¼å¸ˆå’Œå†…å®¹ç¿»è¯‘ã€‚':'Choose an AI provider and enter your API Key to enable AI Tutor and translation.'}
          <br/><span style={{color:th.sub,fontSize:11}}>{lang==='zh'?'Key ä»…å­˜å‚¨åœ¨ä½ çš„æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šå‘é€åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚':'Key is stored only in your browser. Never sent to any server.'}</span>
        </p>
        <div style={{display:'flex',flexDirection:'column',gap:8,marginBottom:16}}>
          {Object.entries(PROVIDERS).map(([k,v])=><button key={k} onClick={()=>{setProvider(k);if(apiKey&&getProvider()!==k)setKeyInput('')}} style={{display:'flex',alignItems:'center',gap:12,padding:'12px 16px',borderRadius:10,border:provider===k?`2px solid ${v.color}`:`1px solid ${th.border}`,background:provider===k?v.color+'10':th.card,cursor:'pointer',textAlign:'left'}}>
            <div style={{width:36,height:36,borderRadius:8,background:v.color+'30',display:'flex',alignItems:'center',justifyContent:'center',fontSize:18,flexShrink:0}}>
              {k==='gemini'?'ğŸ”µ':k==='openrouter'?'ğŸŸ ':k==='openai'?'ğŸŸ¢':'ğŸŸ¡'}
            </div>
            <div style={{flex:1}}>
              <div style={{color:th.text,fontSize:14,fontWeight:600}}>{v.name}</div>
              <div style={{color:th.sub,fontSize:11}}>{v.pay}{v.free?' â­':''}
              </div>
            </div>
            {provider===k&&<span style={{color:v.color,fontSize:16}}>âœ“</span>}
          </button>)}
        </div>
        <div style={{marginBottom:4}}>
          <a href={PROVIDERS[provider].url} target="_blank" style={{color:th.accent,fontSize:12}}>â†’ {lang==='zh'?'è·å–':'Get'} {PROVIDERS[provider].name} Key</a>
        </div>
        <div style={{display:'flex',gap:8,marginBottom:12}}>
          <input type="password" value={keyInput} onChange={e=>setKeyInput(e.target.value)} placeholder={PROVIDERS[provider].placeholder} onKeyDown={e=>{if(e.key==='Enter')saveKey()}}
            style={{flex:1,background:isDark?'#0a0e1a':'#fff',color:th.text,fontSize:13,padding:'10px 14px',borderRadius:br,border:`1px solid ${th.border}`,outline:'none',fontFamily:'monospace'}}/>
          <button onClick={()=>saveKey()} disabled={!keyInput.trim()} style={{...C.btn,padding:'10px 18px',background:PROVIDERS[provider].color,opacity:keyInput.trim()?1:0.4,fontWeight:600}}>Save</button>
        </div>
        {apiKey&&<div style={{...C.fc,gap:8,marginBottom:12}}>
          <span style={{color:'#34d399',fontSize:12}}>âœ“ {PROVIDERS[getProvider()]?.name}: {apiKey.slice(0,12)}...</span>
          <button onClick={clearKey} style={{color:th.error,fontSize:12,background:'none',border:'none',cursor:'pointer',textDecoration:'underline'}}>Remove</button>
        </div>}
        <div style={{padding:12,background:th.tag||'#f0f1f4',borderRadius:br,border:`1px solid ${th.border}`}}>
          <p style={{color:th.sub,fontSize:12,marginBottom:6,fontWeight:600}}>{lang==='zh'?'æœ‰ Key æ—¶å¯ç”¨åŠŸèƒ½ï¼š':'Features unlocked with Key:'}</p>
          <div style={{display:'flex',gap:16}}>
            <span style={{color:apiKey?'#34d399':'#475569',fontSize:12}}>{apiKey?'âœ…':'â¬œ'} AI Tutor</span>
            <span style={{color:apiKey?'#34d399':'#475569',fontSize:12}}>{apiKey?'âœ…':'â¬œ'} {lang==='zh'?'è¯¾ç¨‹ç¿»è¯‘':'Translation'}</span>
            <span style={{color:'#34d399',fontSize:12}}>âœ… {lang==='zh'?'ä»£ç è¯„ä¼°':'Code Eval'}</span>
          </div>
        </div>
      </div>
    </div>}

    {/* AI Tutor Chat */}
    {chatOn&&topic&&ex&&<div style={{position:'fixed',bottom:16,right:16,width:380,height:480,background:isDark?'#050508':'#fff',borderRadius:br,border:`1px solid ${courseColor||'#6366f1'}40`,boxShadow:'0 8px 32px rgba(0,0,0,0.5)',display:'flex',flexDirection:'column',zIndex:50}}>
      <div style={{...C.fb,padding:12,borderBottom:`1px solid ${th.border}`}}><div style={{...C.fc,gap:8}}><I n="Chat" s={14}/><span style={{fontWeight:600,color:courseColor,fontSize:14}}>{ui.tutor}</span></div><button onClick={()=>setChatOn(false)} style={{background:'none',border:'none',color:'#64748b',cursor:'pointer'}}><I n="X" s={14}/></button></div>
      {!apiKey?<div style={{flex:1,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:24,textAlign:'center'}}>
        <div style={{fontSize:40,marginBottom:12}}>ğŸ”‘</div>
        <p style={{color:th.text,fontSize:14,fontWeight:600,marginBottom:8}}>{lang==='zh'?'éœ€è¦ API Key':'API Key Required'}</p>
        <p style={{color:th.sub,fontSize:12,marginBottom:16,lineHeight:1.6}}>{lang==='zh'?'æ”¯æŒ Claudeã€OpenAIã€Geminiï¼ˆå…è´¹ï¼‰ã€‚ç‚¹å‡»ä¸‹æ–¹è®¾ç½®ã€‚':'Supports Claude, OpenAI, Gemini (free). Click below to set up.'}</p>
        <button onClick={()=>{setKeyInput('');setShowSettings(true)}} style={{...C.btn,padding:'8px 20px',background:th.accent,fontSize:13}}>âš™ï¸ {lang==='zh'?'è®¾ç½® AI æä¾›å•†':'Set AI Provider'}</button>
      </div>
      :<>
      <div style={{flex:1,overflowY:'auto',padding:12,display:'flex',flexDirection:'column',gap:8}}>
        {msgs.map((m,i)=><div key={i} style={{display:'flex',justifyContent:m.role==='user'?'flex-end':'flex-start'}}><div style={{maxWidth:'85%',padding:'8px 12px',borderRadius:8,fontSize:13,whiteSpace:'pre-wrap',background:m.role==='user'?courseColor:(th.tag||'#f0f1f4'),color:m.role==='user'?'#fff':th.text}}>{m.content}</div></div>)}
        {chatLD&&<div style={{display:'flex'}}><div style={{background:th.tag||'#f0f1f4',color:th.sub,padding:'8px 12px',borderRadius:8,fontSize:13}} className="pulse">{ui.think}</div></div>}
        <div ref={chatRef}/>
      </div>
      <div style={{padding:12,borderTop:`1px solid ${th.border}`}}><div style={{display:'flex',gap:8}}>
        <input value={chatIn} onChange={e=>setChatIn(e.target.value)} onKeyDown={e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();chat()}}} placeholder={ui.ask} style={{flex:1,background:isDark?'#0a0e1a':'#f8f9fb',color:th.text,fontSize:13,padding:'8px 12px',borderRadius:br,border:`1px solid ${th.border}`,outline:'none'}}/>
        <button onClick={chat} disabled={chatLD||!chatIn.trim()} style={{...C.btn,padding:8,background:courseColor,opacity:(chatLD||!chatIn.trim())?0.5:1}}><I n="Send" s={14}/></button>
      </div></div>
      </>}
    </div>}
  </div>);
};

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
